% Linux 基础笔记
% keys 编程|Linux|Ubuntu|操作系统|命令行
% license Xiao
% type Note

\begin{issues}
\issueTODO
\end{issues}

\subsection{Linux 简介}
虽然大多数人更熟悉 Windows 系统， 但由于 Linux 系统的免费、开源、稳定， 许多科学计算软件都是主要支持 Linux， 而许多研究组的服务器和计算机集群也已 Linux 系统为主。 所以小时百科的科学计算部分大量使用 Linux 作为编译和运行程序的环境。 注意本文只介绍 Linux 的\textbf{终端（terminal）}操作， 不涉及任何\textbf{图形界面（User Interface ，UI）}。 

严格意义上，Linux并非完整的操作系统，而只是一个\textbf{系统内核（kernel）}。用户往往使用的是 Linux 的\textbf{发行版（distribution）}，比如 Ubuntu\upref{Ubuntu}、Debian、Redhat、CentOS\upref{CentOS}、Fedora、Arch、Deepin（国产） 等。除 Linux 系统内核外，这些来自开发者社区的发行版还拥有 GNU 工具、附加软件和软件包管理器，大部分也有美观的图形界面（Linux 的图形界面支持并不如 Windows 或 macOS 那么成熟，历史更短）。 但使用这些操作系统大同小异。如果把Linux系统内核比喻为发动机引擎，那么发行版就是可以上路的汽车。

\textbf{我们选用 Ubuntu 进行介绍。}


\subsection{同时使用 Windows 和 Linux}
如果你的电脑已经有了 Windows 系统， 使用 Linux 命令行可以有以下几种方式：
\begin{enumerate}
\item 远程连接 Linux 服务器
\item 在Windows中安装子系统：Windows Subsystem for Linux （WSL）\footnote{注意只有 Windows 10 支持 WSL，现已有WSL2，安装教程请参考微软\href{https://docs.microsoft.com/zh-cn/windows/wsl/install-win10}{官方文档}。} 
\item Cygwin 或者 MinGW
\item Docker
\item 安装虚拟机， 如 VirtualBox
\item 安装双系统
\end{enumerate}
其中前 4 种方案可以在使用 Windows 的同时使用 Linux 命令行（注意：使用虚拟机会占用较多硬件资源， 可能导致电脑卡顿）， 而双系统方案一次启动只能进入一个系统。

\subsection{Windows 远程软件}
在 Windows 下要远程连接到另一台装有 Linux 系统的电脑， 可以使用：
\begin{itemize}
\item putty, kitty， MobaXterm
\item WinSCP 文件传输
\end{itemize}


\subsection{命令行入门}
使用终端对计算机进行操作，并不像大多数人想象的一样困难。
\addTODO{有待完善}

一般来说，一条命令的构成是这样的：
\begin{lstlisting}[language=bash]
command \space [-options]  \space parameter...~
\end{lstlisting}

命令的开头，我们输入命令的名称或者可运行的文件名。Linux是大小写敏感的，即cd命令不能写成CD。随后，我们附带上命令的选项及其参数，用空格加以区分。选项使用简称，一般加一个连字符-；选项使用全名，一般加两个连字符--（比如-h和--help）。

当命令输入完成后，按Enter键，命令就会运行。初学者可以尝试输入date，系统会输出日期。


\subsection{基本命令}
暂时先列出最基础的命令行命令， 请自行搜索学习
\addTODO{有待完善}
\begin{itemize}
\item \verb|pwd| 当前目录
\item \verb|ls| 查看某目录的文件（\verb|-v| 序号排序）
\item \verb|cd| 改变当前目录
\item \verb|mkdir| 创建目录 （\verb|-p| 创建多层）
\item \verb|rmdir| 删除目录
\item \verb|cp| 复制文件（夹）
\item \verb|mv| 移动文件（夹）
\item \verb|touch| 创建空文件或更改文件日期
\item \verb|rm| 删除文件或文件（夹）
\item \verb|man|， \verb|--help|
\item \verb|echo| 重复文字
\item \verb|>, <| 和 \verb`|`
\item \verb|cat| 显示文本文件内容
\item \verb|vim| 编辑文本文件
\item \verb|sudo| 超级管理员权限
\item \verb|du|， \verb|df| 文件（夹）大小， 硬盘容量
\item \verb|top| 进程管理， 资源占用
\item \verb|free| 检查内存
\item \verb|tar|， \verb|zip| 压缩与解压
\item \verb|ln -s| 符号链接（类似 windows 的快捷方式）
\item \verb|uname| 系统信息
\item \verb|apt-get| 安装软件
\item \verb|wget| 通过 url 下载文件
\item \verb|chmod| 修改文件权限
\item \verb|chown| 修改文件所有者
\item \verb|hostname|， \verb|hostname -I| 本机名称， IP 地址
\item \verb|ping| 检查是否可以连接到网络地址
\item \verb|reboot| 重启
\item \verb|ssh| 远程命令行。 \verb|ssh-keygen|， \verb|ssh-copy-id|
\item \verb|sftp| 远程传文件
\item \verb|find| 搜索文件或目录 \verb|-exec| 对搜索结果执行命令
\item \verb|grep| 搜索字符串或文件内容
\item \verb|locate| 搜索计算机的文件
\item \verb|nohup| 不挂起， 即退出终端不会影响程序的运行
\item \verb|&| 后台运行命令
\end{itemize}

\subsection{快捷键}
\begin{itemize}
\item \verb|Ctrl+R| 可以搜索命令历史， 再次按下 `Ctrl+R` 可以跳到上一个匹配命令， 按回车运行， 按左右键编辑
\item \verb|Ctrl+C| 种植正在运行的程序
\item \verb|Ctrl+Z| 可以暂时暂停当前 shell 运行的程序， 然后按 \verb|fg| （foreground）可以恢复， \verb|bg| （background） 可以在后台继续运行（相当于 \verb|&|）但退出 shell 后该程序仍然会退出。
\item 在 ubuntu 中选中任何文字以后可以用鼠标中键粘贴
\end{itemize}

\subsection{进阶命令}
\addTODO{有待完善}
\begin{itemize}
\item 循环，以及花括号和 \verb|..|
\item 判断
\item \verb|sed|
\item \verb|dd| 硬盘读写， 如创建随机文件， 全 0 文件。
\item \verb|tree| 显示文件结构
\item \verb|sha1sum|，\verb|md5sum| 等指纹
\item \verb|rsync| （若文件中含有转义字符需要三个反斜杠 \verb|\\\|）
\item \verb|sshfs| 基于 ssh 的远程文件夹
\item 环境变量
\item \verb|split| 切割文件
\item \verb|LVM|
\item \verb|make|
\item \verb|gcc|
\item \verb|g++|
\end{itemize}
