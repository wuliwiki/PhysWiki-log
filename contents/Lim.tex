% 极限
% 微积分|极限|数列极限|函数极限|无穷小

\subsection{数列的极限}

微积分的核心概念是极限，而极限最基础的情形是数列的极限．数列是离散的，比较容易理解，而所有与极限有关的概念也都可以从数列的极限拓展得到．

先来看一个数列的例子．

\begin{example}{}\label{Lim_ex1}
我们都知道 $\pi$ 是一个无理数，所以 $\pi$ 的小数部分是无限多的．目前用计算机，已经可以将 $\pi$ 精确地计算到小数点后数亿位．然而在实际应用中，往往只用取前几位小数的近似即可．下面给出一个数列，定义第 $n$ 项是 $\pi$ 的前 $n$ 位小数近似（不考虑四舍五入），即
\begin{equation}
a_0 = 3,\,\, a_1 = 3.1,\,\, a_2 = 3.14,\,\, a_3 = 3.141,\,\dots.
\end{equation}
\end{example}

这个数列显而易见的性质，就是当 $n$ \textbf{趋于无穷}时，$a_n$ 趋（近）于 $\pi$． 无穷通常用符号 $\infty$ 来表示（像“8”横过来写）．我们把这类过程叫做\textbf{极限}．以上这种情况，用极限符号表示，就是
\begin{equation}
\lim_{n \to \infty } {a_n} = \pi 
\end{equation}
这里 $\lim$ 是极限（limit）的意思，下方用箭头表示某个量变化的趋势\footnote{$\lim\limits_{n \to \infty }$ 在这里相当于一个“操作”，叫\textbf{算符（operator）}， 它作用在数列$a_n$ 上，把数列变成一个数，即该数列的极限．}． 算符的 “输出” 就是一个数（ $a_n$ 的极限值）．所以不要误以为这条式子是说当 $n = \infty$ 时，$a_n=\pi$ \footnote{有两个理由可以说明这种理解不正确：首先，按定义，每个$a_n$都是有理数，而$\pi$是无理数，所以不应该有任何一个$a_n=\pi$；其次，$\infty$不是一个实数，不存在$n=\infty$的说法．这里的$n\to\infty$只是表示$n$的增大是没有限制的．}，而要理解成数列 $a_n$ 经过算符 $\lim\limits_{n \to \infty }$ 的作用以后，得出其极限是 $\pi$． 类比函数 $\sin x = y$，并不是说 $x=y$， 而是说 $x$ 经过正弦函数作用后等于 $y$． 

所以从概念上来说，极限中的“趋于” 和“等于” 是不同的．趋于是数列整体的性质，而不是单个数字的性质．我们可以像这样粗略理解“趋近”：
\begin{itemize}
\item 越来越接近，但不一定相等
\item （在不相等的情况下）只有更近，没有最近
\end{itemize}

对极限来说，第2点成立是非常必要的．但是怎样能说明 “没有最近”呢？可以看出，当 $n$ 越大，$a_n$ 越接近 $\pi$， 它们的 “距离”，可以用 $\abs{a_n - \pi}$ 来表示．也就是说，对任何一个 $a_n$， 如果所对应的距离 $\abs{a_n - \pi } \ne 0$， 总能找到一个更大的数 $m>n$， 使 $\abs{a_m - \pi} < \abs{a_n - \pi}$ （也就是$a_m$比$a_n$更靠近$\pi$），并且要求$a_m$之后的所有项也都能满足这一条件．只有这样，才能从数学上说明上面两个意思．这就是极限思想的精髓．根据这个思想，下面可以写出数列极限的定义．



\begin{definition}{数列的极限}\label{Lim_def2}
考虑数列$\{a_n\}$．若存在一个实数$A$，使得对于\textbf{任意}给定的\textbf{正实数} $\varepsilon > 0$（无论它有多么小），总存在正整数 $N_\epsilon$， 使得对于所有编号 $n>N_\epsilon$ ，都有 $\abs{a_n - A} < \varepsilon$ （$A$ 为常数） 成立，那么数列 $a_n$ 的极限就是 $A$．

将“数列$\{a_n\}$的极限是$A$”表示为$\lim\limits_{n\to\infty}a_n=A$．
\end{definition}
 

% 在命题中，通常把 “任意” 用 “ $\forall$” （for all） 表示，把 “存在” 用 “$\exists $” （there exist(s), there is (are)）表示．即“ 对 $\forall \varepsilon>0$， $\exists N$， 当 $n>N$ 时，有 $\abs{a_n - A} < \varepsilon$”． 

由于以上讨论中 $\lim$ 作用的对象是数列，那么箭头右边只能是 $\infty$ （准确来说应该是正无穷 $+\infty$， 但是由于数列的项一般是正的，所以正号省略了）．

把定义套用到上面的\autoref{Lim_ex1} 中， 如果要求 $\abs{a_n - \pi} < 10^{-3}$ （给定 $\varepsilon  = 10^{-3}$），只要令 $N=3$ （当然也可以令 $N=4, N=5$， 等） 就可以保证第 $N$ 项后面所有的项都满足要求． 一般地如果给定 $\varepsilon  = b\e{-q}  (b > 1)$， 就令 $N = q$， 第 $N$ 项以后的项就满足要求．根据定义，这就意味着 $\lim\limits_{n \to \infty } a_n = \pi$． 

我们来看几个简单的例题，加深一下印象．

\begin{exercise}{}
考虑数列$a_n=\frac{1}{2^n}$．根据定义，证明$\lim\limits_{n\to\infty}a_n=0$．
\end{exercise}

\begin{exercise}{}\label{Lim_exe1}
考虑数列$a_n=(-1)^n$．这个数列存在极限吗？
\end{exercise}

\autoref{Lim_exe1} 的数列是不存在极限的，因为它的值在$\pm 1$之间反复横跳，也就是说对于任何实数$A$，$\abs{a_n-A}$都只有最多两个值，而且其中一个肯定非零．这就导致如果我们把$\epsilon>0$取得足够小（小于两个$\abs{a_n-A}$中比较大的那个），那么不管$N$多大，总有$n>N$使得$\abs{a_n-A}>\epsilon$．结果就是这个数列没有任何极限值．我们把这种情况称为\textbf{发散}．

\begin{definition}{数列的敛散性}\label{Lim_def4}
如果一个数列$\{a_n\}$不存在极限，就称它是\textbf{发散（divergent）}的．如果$\{a_n\}$存在极限，则称它是\textbf{收敛（convergent）}的．
\end{definition}

\subsection{函数的极限}
实函数$f(x)$可以看成是一种“连续”的数列，只不过把元素编号从离散的$n$改为连续的$x$．类比数列的极限， 我们也可以定义\textbf{函数在正无穷的极限} $\lim\limits_{x\to +\infty} f(x) = A$．

\begin{definition}{函数趋于正无穷时的极限}\label{Lim_def1}
考虑实函数$f(x)$．若存在实数$A$，使得对于\textbf{任意}$\epsilon>0$，总存在\textbf{正实数}$X_\epsilon$，使得对于所有$x>X_\epsilon$，都有$\abs{f(x)-A}<\epsilon$，那么我们说$A$是函数$f(x)$在$x$趋于正无穷时的极限．
\end{definition}

可以看到，\autoref{Lim_def1} 和\autoref{Lim_def2} 非常相似，只是简单做了替换．不过，函数并不是简单地把数列的概念拓展到连续的情况．数列的编号只能朝着一个方向增大，但实函数的自变量就自由得多，它可以奔向负无穷，也可以集中到一点$x_0$．

如何描述“自变量趋于一个给定的实数$x_0$”呢？我们可以拓展一下“趋于无穷”的概念．函数自变量或者数列编号趋于无穷，就是说我们可以把自变量和数列编号取得越来越“接近无穷”，虽然这种说法并不严谨，但它可以提供一个很好的借鉴：函数自变量趋于给定实数$x_0$，就是说我们取的自变量$x$使得$\abs{x-x_0}$越来越接近$0$．

现在问题来了，什么叫“越来越”呢？在讨论数列极限的时候，我们没有在意这个细节，因为我们也只能考虑数列编号增大的情况，而这里的“越来越”也自然表示“随着数列编号的增大”了．但是讨论函数自变量趋于给定实数$x_0$的时候，就有些麻烦了，我们没有一个衡量“时间流逝”的自然标准了．要解决这个问题，最好还是再次把数列给请出来．

下面，我直接给出函数极限的定义，请仔细咀嚼，看看数列是怎么用来准确描述函数极限的．

\begin{definition}{函数的极限}\label{Lim_def3}
考虑实函数$f(x)$，并给定一个实数$x_0$．

取数列$\{x_n\}$，使得$\lim\limits_{n\to\infty}=x_0$．这样，$\{f(x_n)\}$也构成一个数列．

如果对于\textbf{任意}的满足上述要求的数列$\{x_n\}$，都有实数$A$使得$\lim\limits_{n\to\infty}f(x_n)=A$，那么我们说$f(x)$在$x$趋近于$x_0$时的极限为$A$．

将这个极限表述为$\lim\limits_{x\to x_0}f(x)=A$．
\end{definition}

注意看\autoref{Lim_def3} 中是如何从$\lim\limits_{n\to\infty}=x_0$和$\lim\limits_{n\to\infty}f(x_n)=A$过渡到$\lim\limits_{x\to x_0}f(x)=A$的．这里，从离散到连续的桥梁，正是“任意”二字．也就是说，“连续”就是“任意的离散”，比如“连续地接近时满足的条件”就是“任意一种离散地接近时都满足的条件”．

\autoref{Lim_def3} 同时也是最为完整的函数极限定义，只需要把$x_0$替换为$\pm\infty$即可囊括无穷的情况．

% 与数列不同的是， 对于函数我们还可以定义\textbf{函数在负无穷的极限} $\lim\limits_{x\to -\infty} f(x)$（把以上定义的 $>$ 号改成 $<$ 号即可）．

% 另外可以定义 \textbf{$f(x)$ 在 $x_0$ 处的极限} $A$， 即“ 对 $\forall \varepsilon > 0$， $\exists \delta > 0$， 当 $\abs{x - x_0} < \delta$ 时，有 $\abs{f(x) - A} < \varepsilon$”． 注意 $f(x)$ 不需要在 $x_0$ 处有定义．

\begin{example}{}
求函数在某个值处的极限时， 通常可以直接代入数值计算， 如
\begin{equation}
\lim_{x\to 1} 2x + 1 = 3 \qquad \lim_{x\to 2}\frac{x + 1}{x + 2} = \frac34
\end{equation}

当无穷大与常数相加时， 可以忽略常数， 如
\begin{equation}
\lim_{x\to +\infty} \frac{x + 1}{2x + 2} = \lim_{x\to +\infty} \frac{x}{2x} = \frac12
\end{equation}
\end{example}

\begin{example}{}\label{Lim_ex2}
考虑符号函数$\opn{sgn}(x)$，其定义为：$x>0$时，$\opn{sgn}(x)=1$，$\opn{sgn}(-x)=-1$，且有$\opn{sgn}(0)=0$．也就是说，正数的函数值为$1$，负数的为$2$，$0$的就是$0$．

现在考虑$\opn{sgn}(x)$在$0$处的极限值．我们首先要研究那些趋近于$0$的数列．

如果我们取数列$g_n=\frac{1}{2^n}$，那么$\opn{sgn}(g_n)$中各项都恒为$1$，因此$\lim\limits_{n\to\infty}\opn{sgn}(g_n)=1$．

但是如果取数列$h_n=-\frac{1}{2^n}$，那么$\lim\limits_{n\to\infty}\opn{sgn}(h_n)=-1$．

如果再取数列$j_n=0$，那么$\lim\limits_{n\to\infty}\opn{sgn}(j_n)=0$．

以上三个数列都趋于$0$，但由它们构造的$\opn{sgn}(g_n)$、$\opn{sgn}(h_n)$和$\opn{sgn}(j_n)$的极限却各不相同．这就意味着$\opn{sgn}(x)$在$0$处\textbf{并没有极限值}．
\end{example}

\begin{definition}{函数的敛散性}
拓展数列的敛散性的\autoref{Lim_def4} ．若函数在一点处有极限值，则称之为\textbf{收敛}的；否则，称之为\textbf{发散}的．
\end{definition}

\subsection{左极限和右极限}

自变量趋于无穷的过程，只有一个方向，要么是不停增大（正无穷），要么是不停减小（负无穷）．但如果自变量是趋近一个实数$x_0$，那么至少就有两个方向，从大于$x_0$的点开始减小（正向接近），和从小于$x_0$的点开始增大（负向）接近．

由于极限的定义是“怎么接近都可以”，因此若$f(x)$在$x=x_0$处存在极限，无论怎么取接近$x_0$的数列，正向接近也好反向接近也罢，哪怕是一会儿正一会儿负地反复横跳，只要接近，这些数列的极限值都是一样的．

但是有些函数则不然．考虑这个函数：$f(x)$，其中$x<0$时$f(x)=0$，$x\geq 0$时$f(x)=1$．在$x=0$处，如果\textbf{只考虑}正向接近的数列$\{x_n\}$，那么计算出来的$\{f(x_n)\}$的极限就是$1$；但如果\textbf{只考虑}负向接近的数列，那么计算出来的极限是$0$．按照定义，这意味着$f(x)$在$x=0$处没极限．

但是这种情况，我们说它是有左极限和右极限的．

\begin{definition}{左极限和右极限}
对于函数$f(x)$，给定实数$x_0$．

如果取任意\textbf{正}向接近的数列$\{x_n\}$，所得到的数列$\{f(x_n)\}$的极限都是$A$，那么称$A$是$f(x)$在$x=x_0$处的\textbf{右极限（right limit）}．

如果取任意\textbf{负}向接近的数列$\{x_n\}$，所得到的数列$\{f(x_n)\}$的极限都是$B$，那么称$B$是$f(x)$在$x=x_0$处的\textbf{左极限（left limit）}．
\end{definition}

一个很容易想到的定理是，如果函数在某点的左右极限都存在且相等，那么函数的极限存在且等于左右极限．证明留作思考题，要注意的是，左右极限相等并没有直接说明“左右横跳”式的数列，其极限也等于左右极限．





\subsection{无穷小的阶}
如果令 $x\to 0$， 我们就说 $x$ 是\textbf{无穷小}． 但一些无穷小会更快地趋近于 $0$， 若 $x$ 的某个函数 $\alpha(x)$ 满足
\begin{equation}
\lim_{x\to 0} \frac{\alpha(x)}{x} = 0
\end{equation}
那 $\alpha(x)$ 就是 $x$ 的\textbf{高阶无穷小}． 若
\begin{equation}
\lim_{x\to 0} \frac{\alpha(x)}{x^n} \ne 0
\end{equation}
则称 $\alpha(x)$ 为 $x$ 的 $n$ 阶无穷小． 例如， $c x^n$ （$c$ 为常数）就是 $x$ 的 \textbf{$n$ 阶无穷小}， 记为 $\order{x^n}$．

在求极限时， 若高阶无穷小与低阶无穷小相加， 通常可以忽略高阶无穷小． 另外由定义不难推出
\begin{equation}
\order{x^n} x^m = \order{x^{n + m}} \qquad (m > -n)
\end{equation}

在物理中， 当我们用一个函数 $g(x)$ 来近似另一个函数 $f(x)$ 并记为 $f(x) = g(x) + \order{h^n}$ 时（这里 $x$ 是函数的自变量， $h$ 是函数表达式中一个较小的常数）， 就说 $g(x)$ 的误差为 $\order{h^n}$．
