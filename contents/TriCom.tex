% 利用复数方法证明三角恒等式
% keys 复数|三角恒等式
% license Usr
% type Tutor

\pentry{复数\upref{CplxNo}}

\subsection{理论基础}
要借助复数证明三角恒等式，我们一般需要构造具有以下形式的复数：
$$w=\cos \alpha+\I\sin\alpha~.$$

这类复数具有许多好的性质，我们熟知的有：

\begin{equation}% \tag{1}
(\cos\alpha+\I\sin\alpha)(\cos\beta+\I\sin\beta)=\cos(\alpha+\beta)+\I\sin(\alpha+\beta)~,
\end{equation}

\begin{equation}% \tag{2}
(\cos\alpha+\I\sin\alpha)^n=\cos n\alpha+\I\sin n\alpha~.
\end{equation}

此外，我们再引入另外两条常用的性质：

$$\begin{aligned}
 1-(\cos\alpha+\I\sin\alpha)^n&=1-\left(\cos{\frac{n\alpha}2+\I\sin{\frac{n\alpha}2}}\right)^{2}\\ &=1-\left(\cos^2{\frac{n\alpha}2}-\sin^2{\frac{n\alpha}2}+2\I\sin{\frac{n\alpha}2}\cos{\frac{n\alpha}2}\right)\\ &=2\sin^2{\frac{n\alpha}2}-2\I\sin{\frac{n\alpha}2}\cos{\frac{n\alpha}2}\\ &=-2\I\sin{\frac{n\alpha}2}\left(\cos{\frac{n\alpha}2}+\I\sin{\frac{n\alpha}2}\right) ~.
\end{aligned}$$

故：
% \tag{3}
\begin{equation}\label{eq_TriCom_4}
1-(\cos\alpha+\I\sin\alpha)^n=-2\I\sin{\frac{n\alpha}2}\left(\cos{\frac{n\alpha}2}+\I\sin{\frac{n\alpha}2}\right)~.
\end{equation}

同理可得：
\begin{equation}\label{eq_TriCom_5}% \tag{4}
1+(\cos\alpha+\I\sin\alpha)^n=2\cos{\frac{n\alpha}2}\left(\cos{\frac{n\alpha}2}+\I\sin{\frac{n\alpha}2}\right)~.
\end{equation}

\subsection{累加}
\begin{theorem}{}

\begin{equation}% \tag{1}
\begin{aligned}
\sum_{k=0}^n\sin(\alpha+k\beta)&=\frac{\sin\left(\alpha+\frac{n\beta}2\right)\sin\left(\frac{n+1}2\beta\right)}{\sin\frac{\beta}2}~,\\\sum_{k=0}^n\cos(\alpha+k\beta)&=\frac{\cos\left(\alpha+\frac{n\beta}2\right)\sin\left(\frac{n+1}2\beta\right)}{\sin\frac{\beta}2}~.
\end{aligned}
\end{equation}

\textbf{证明：}设 $w_1=\cos \alpha+\I\sin\alpha\,,w_2=\cos \beta+\I\sin\beta$ ，则：

$$\begin{aligned}
\sum_{k=0}^n\cos(\alpha+k\beta)+\I\sum_{k=0}^n\sin(\alpha+k\beta)&=\sum_{k=0}^n\left[\cos(\alpha+k\beta)+\I\sin(\alpha+k\beta)\right]\\&=w_1\sum_{k=0}^nw_2^k \\&=w_1\left(\frac{1-w_2^{n+1}}{1-w_2}\right)\\ &=(\cos \alpha+\I\sin\alpha)\frac{-2\I\sin{\frac{(n+1)\beta}2}\left[\cos{\frac{(n+1)\beta}2}+\I\sin{\frac{(n+1)\beta}2}\right]}{-2\I\sin{\frac{\beta}2}\left(\cos{\frac{\beta}2}+\I\sin{\frac{\beta}2}\right)}\\ &=\frac{\cos\left(\alpha+\frac{n\beta}2\right)\sin\left(\frac{n+1}2\beta\right)}{\sin\frac{\beta}2}+\I\frac{\sin\left(\alpha+\frac{n\beta}2\right)\sin\left(\frac{n+1}2\beta\right)}{\sin\frac{\beta}2}~.
\end{aligned}$$

对比虚实部，即证
\end{theorem}

令 $\alpha=\beta$ ，得：
$$\sum_{k=1}^n\sin k\alpha=\frac{\sin{\frac{(n+1)\alpha}2}\sin{\frac{n\alpha}{2}}}{\sin{\frac{\alpha}2}}~,$$ $$\sum_{k=1}^n\cos k\alpha=\frac{\cos{\frac{(n+1)\alpha}2}\sin{\frac{n\alpha}{2}}}{\sin{\frac{\alpha}2}}~.$$ 

可以推知：

$\displaystyle{\cos\frac{\pi}{7}+\cos\frac{3\pi}{7}+\cos\frac{5\pi}{7}=\frac{1}{2}}~,$

$\displaystyle{\cos\frac{\pi}{9}+\cos\frac{5\pi}{9}+\cos\frac{7\pi}{9}=0}~.$

\subsection{连乘}
要证明与三角函数有关的连乘式，我们需要考虑多项式的分解，例如：
$$z^5-1=(z-1)(z^4+z^3+z^2+z+1)~.$$

记 $\displaystyle{w=\cos\frac{\pi}5+\I\sin\frac{\pi}5}$，$z^5-1=0$ 有 $w^2,w^4,w^6,w^8,w^{10}$ 五个根，而 $w^{10}=1$ ，于是有：
$$z^4+z^3+z^2+z+1=(z-w^2)(z-w^4)(z-w^6)(z-w^8)~.$$

我们发现，如果我们代入 $z=1$ ，就能利用上述的\autoref{eq_TriCom_4}  ，得到关于 $\sin$ 的连乘式；如果我们代入 $z=-1$ ，就能利用上述的\autoref{eq_TriCom_5}， 得到关于 $\cos$ 的连乘式

下面我们具体讨论以下三类不同的方程：
$$\begin{aligned}
z^{2k-1}+1&=0~,\\z^{2k-1}-1&=0~, \\z^{2k}-1&=0~.
\end{aligned}$$

记 $\displaystyle{w=\cos\frac{\pi}{2m-1}+\I\sin\frac{\pi}{2m-1}}$ ，则 $w,w^3\cdots,w^{4m-3}$ 是 $z^{2m-1}+1=0$ 的 $2m-1$ 个根

又因为 $w^{2m-1}=-1$ ，于是 $w\cdots ,w^{2m-3},w^{2m+1}\cdots ,w^{4m-3}$ 是 $z^{2m-1}+1=0$ 的 $2m-2$ 个虚根

由因式分解 $z^{2m-1}+1=(z+1)(z^{2m-2}-z^{2m-3}+\cdots+z^{2}-z+1)$ ，知：
$$z^{2m-2}-z^{2m-3}+\cdots-z+1=(z-w)\cdots(z-w^{2m-3})(z-w^{2m+1})\cdots(z-w^{4m-3})~.$$

代入 $z=1$，并置 $\mu=w^{\frac12}$ 得：

$$\begin{aligned}
1&=(1-w)\cdots(1-w^{2m-3})(1-w^{2m+1})\cdots(1-w^{4m-3})\\&=\prod_{\substack{k=1\\k\neq m}}^{2m-1}(-2\I)\mu^{2k-1}\sin\frac{(2k-1)\pi}{4m-2}\\&=(-2\I)^{2m-2}{\mu}^{(2m-1)(2m-2)}\prod_{k=1}^{2m-1}\sin{\frac{(2k-1)\pi}{4m-2}}\\ &=4^{m-1}(-1)^{m-1}\cos(m-1)\pi\prod_{k=1}^{2m-1}\sin{\frac{(2k-1)\pi}{4m-2}}\\ &=4^{m-1}\prod_{k=1}^{2m-1}\sin{\frac{(2k-1)\pi}{4m-2}} ~. 
\end{aligned}$$

所以： 
\begin{equation}% \tag{6}
\prod_{k=1}^{2m-1}\sin{\frac{(2k-1)\pi}{4m-2}}=\frac{1}{4^{m-1}}~.
\end{equation}

又因为 $\displaystyle{\sin\frac{(2k-1)\pi}{4m-2}=\sin\frac{(4m-2k-1)\pi}{4m-2}}$ ，故：
\begin{equation}% \tag{7}
\prod_{k=1}^{m-1}\sin{\frac{(2k-1)\pi}{4m-2}}=\prod_{k=m+1}^{2m-1}\sin{\frac{(2k-1)\pi}{4m-2}}=\frac{1}{2^{m-1}}~.
\end{equation}

代入 $z=-1$ 得：

\begin{equation}
\begin{aligned}
2m-1&=(-1-w)\cdots(-1-w^{2m-3})(-1-w^{2m+1})\cdots(-1-w^{4m-3})\\ &=(-1)^{2m-2}(1+w)\cdots(1+w^{2m-3})(1+w^{2m+1})\cdots(1+w^{2m-3})\\ &=\prod_{\substack{k=1\\k\neq m}}^{2m-1}2\mu^{2k-1}\cos\frac{(2k-1)\pi}{4m-2}\\ &=2^{2m-2}\mu^{(2m-1)(2m-2)}\prod_{k=1}^{m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\prod_{k=m+1}^{2m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\\ &=4^{m-1}\cos(m-1)\pi\prod_{k=1}^{m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\prod_{k=m+1}^{2m-1}\cos{\frac{(2k-1)\pi}{4m-2}}~.
\end{aligned}
\end{equation}

又因为 $\displaystyle{\cos\frac{(2k-1)\pi}{4m-2}=-\cos\frac{(4m-2k-1)}{4m-2}}$ ，故：

\begin{equation}
\begin{aligned}
2m-1&=4^{m-1}\cos(m-1)\pi\prod_{k=1}^{m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\prod_{k=m+1}^{2m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\\ &=4^{m-1}\cos(m-1)\pi(-1)^{m-1}\left[\prod_{k=1}^{m-1}\cos{\frac{(2k-1)\pi}{4m-2}}\right]^2~,
\end{aligned}
\end{equation}

于是：

\begin{equation}% \tag{1}
\prod_{k=1}^{m-1}\cos{\frac{(2k-1)\pi}{4m-2}}=\prod_{k=m+1}^{2m-1}\cos{\frac{(2k-1)\pi}{4m-2}}=\frac{\sqrt{2m-1}}{2^{m-1}}~.
\end{equation}

记 $\displaystyle{w=\cos\frac{\pi}{2m-1}+\I\sin\frac{\pi}{2m-1}}$ ，则 $w^2,w^4\cdots,w^{4m-2}$ 是 $z^{2m-1}-1=0$ 的 $2m-1$ 个根

又因为 $w^{4m-2}=1$ ，于是 $w^2,w^4\cdots ,w^{4m-4}$ 是 $z^{2m-1}-1=0$ 的 $2m-2$ 个虚根

由因式分解 $\displaystyle{z^{2m-1}-1=(z-1)(z^{2m-2}+z^{2m-3}+\cdots+z^{2}+z+1)}$ ，知：
$$z^{2m-2}+z^{2m-3}+\cdots+z+1=(z-w^2)\cdots(z-w^{4m-4})~.$$

代入 $z=1$ ，得：
$$\begin{aligned} 2m-1&=(1-w^2)(1-w^4)\cdots(1-w^{4m-4})\\ &=\left(-2\I\mu^2\sin\frac{2\pi}{4m-2}\right)\left(-2\I\mu^4\sin\frac{4\pi}{4m-2}\right)\cdots\left[-2\I\mu^{4m-4}\sin\frac{(4m-4)\pi}{4m-2}\right]\\ &=(-2\I)^{2m-2}\mu^{(2m-1)(2m-2)}\prod_{k=1}^{2m-2}\sin\frac{k\pi}{2m-1}\\ &=4^{m-1}(-1)^{m-1}\cos(m-1)\pi\prod_{k=1}^{2m-2}\sin\frac{k\pi}{2m-1}~. \end{aligned} $$

于是： 
\begin{equation}\label{eq_TriCom_2}% \tag{9} 
\prod_{k=1}^{2m-2}\sin\frac{k\pi}{2m-1}=\frac{2m-1}{4^{m-1}}~.
\end{equation}

代入 $z=-1$ ，得：

$\begin{aligned} 1&=(-1-w^2)(-1-w^4)\cdots(1-w^{4m-4})\\ &=(-1)^{2m-2}(1+w^2)(1+w^4)\cdots(1+w^{4m-4})\\ &=\left(2\mu^2\cos\frac{2\pi}{4m-2}\right)\left(2\mu^4\cos\frac{4\pi}{4m-2}\right)\cdots\left[2\mu^{4m-4}\cos\frac{(4m-4)\pi}{4m-2}\right]\\ &=2^{2m-2}\mu^{(2m-1)(2m-2)}\prod_{k=1}^{2m-2}\cos\frac{k\pi}{2m-1}\\ &=4^{m-1}\cos(m-1)\pi\prod_{k=1}^{2m-2}\cos\frac{k\pi}{2m-1}~. \end{aligned}$ 

故：
\begin{equation}% \tag{10}
\prod_{k=1}^{2m-2}\cos\frac{k\pi}{2m-1}=\frac{(-1)^{m-1}}{4^{m-1}} ~.
\end{equation}

记 $\displaystyle{w=\cos\frac{\pi}{2m}+\I\sin\frac{\pi}{2m}}$，则 $w^2,w^4,\dots ,w^{4m}$ 是 $z^{2m}-1=0$ 的 $2m$ 个根

又因为 $w^{2m}=-1\,,w^{4m}=1$ ，于是 $w^2\cdots,w^{2m-2},w^{2m+2}\cdots,w^{4m-2}$ 是 $z^{2m}-1=0$ 的 $2m-2$ 个虚根

由因式分解 $z^{2m}-1=(z^2-1)(z^{2m-2}+\cdots+z^4+z^2+1)$ ，知：
$$z^{2m-2}+\cdots+z^4+z^2+1=(z-w^2)\cdots(z-w^{2m-2})(z-w^{2m+2})\cdots(z-w^{4m-2})~.$$

代入 $z=1$ ，得：

$$\begin{aligned} m&=(1-w^2)\cdots(1-w^{2m-2})(1-w^{2m+2})\cdots(1-w^{4m-2})\\ &=\prod_{\substack{k=1\\k\neq m}}^{2m-1}(-2\I)\mu^{2k}\frac{2k\pi}{4m}\\ &=(-2\I)^{2m-2}\mu^{2m(2m-2)}\prod_{k=1}^{2m-1}\sin\frac{k\pi}{2m}\\ &=2^{2m-2}(-1)^{m-1}\cos(m-1)\pi\prod_{k=1}^{2m-1}\sin\frac{k\pi}{2m}\\ &=4^{m-1}\prod_{k=1}^{2m-1}\sin\frac{k\pi}{2m}~, \end{aligned}$$

于是：
\begin{equation}\label{eq_TriCom_3}% \tag{11}
\prod_{k=1}^{2m-1}\sin\frac{k\pi}{2m}=\frac{m}{4^{m-1}}~.
\end{equation}

代入 $z=-1$ ，得：

$$\begin{aligned} m&=(-1-w^2)\cdots(-1-w^{2m-2})(-1-w^{2m+2})\cdots(-1-w^{4m-2})\\ &=(-1)^{2m-2}(1+w^2)\cdots(1+w^{2m-2})(1+w^{2m+2})\cdots(1+w^{4m-2})\\ &=\prod_{\substack{k=1\\k\neq m}}^{2m-1}2\mu^{2k}\cos\frac{2k\pi}{4m}\\ &=2^{2m-2}\mu^{2m(m-2)}\prod_{k=1}^{m-1}\cos\frac{k\pi}{2m}\prod_{k=m+1}^{2m-1}\cos\frac{k\pi}{2m}\\ &=4^{m-1}\cos(m-1)\pi\prod_{k=1}^{m-1}\cos\frac{k\pi}{2m}\prod_{k=m+1}^{2m-1}\cos\frac{k\pi}{2m} ~. \end{aligned}$$

又因为 $\displaystyle{\cos\frac{k\pi}{2m}=-\sin\frac{(m+k)\pi}{2m}}$ ，所以：

$$\begin{aligned} m&=4^{m-1}\cos(m-1)\pi\prod_{k=1}^{m-1}\cos\frac{k\pi}{2m}\prod_{k=m+1}^{2m-1}\cos\frac{k\pi}{2m}\\ &=(-1)^{m-1}4^{m-1}\cos(m-1)\pi\prod_{k=1}^{m-1}\sin\frac{k\pi}{2m}\cos\frac{k\pi}{2m}\\ &=2^{m-1}\prod_{k=1}^{m-1}\sin\frac{k\pi}{m}~. \end{aligned}$$

故：
\begin{equation}\label{eq_TriCom_1}% \tag{12}
\prod_{k=1}^{m-1}\sin\frac{k\pi}{m}=\frac{m}{2^{m-1}}~.
\end{equation}

实际上， \autoref{eq_TriCom_1}  不过是\autoref{eq_TriCom_2}  和\autoref{eq_TriCom_3} 的更一般的形式。
