% 仿射群
% keys 仿射群|正合列
% license Xiao
% type Tutor

\pentry{仿射空间\nref{nod_AfSp}}{nod_45de}
\textbf{仿射群}是在仿射空间利用仿射映射（\autoref{def_AfSp_2}~\upref{AfSp}）构建的一种群\upref{Group}。让我们进行如下思考：群首先要满足封闭性，即两个群元作用（或运算）得到的还是一个群元，对仿射群而言，群元是仿射映射，映射的运算很自然的用映射的复合（\autoref{sub_map_2}~\upref{map}）表示。那么封闭性要求对两仿射映射 $f,g$，$fg$还是仿射映射。映射的复合要求 $f$ 的定义域起码得包含 $g$ 的值域。记
 \begin{equation}
f:\mathbb A\rightarrow\mathbb A_1,\quad g:\mathbb A_2\rightarrow \mathbb A_3~.
 \end{equation}
 则 $\mathbb A_3\subset \mathbb A$。而任意两个群元都可以进行运算的，即还有 $gf$ 也是仿射映射，同理，这意味着 $\mathbb A_1\subset\mathbb A_2$。即
 \begin{equation}\label{eq_AfQ_1}
 \mathbb A_3\subset \mathbb A,\quad \mathbb A_1\subset\mathbb A_2~.
 \end{equation}
 

 其次，群元必定得有逆元，对映射而言，就是逆映射得存在，这表明
\begin{equation}
 f^{-1}:\mathbb A_1\rightarrow\mathbb A,\quad g^{-1}:\mathbb A_3\rightarrow\mathbb A_2~.
\end{equation}
 存在，和前面一样，又有
 \begin{equation}\label{eq_AfQ_2}
 \mathbb A_2\subset \mathbb A_1, \mathbb A\subset\mathbb A_3~.
 \end{equation}
 \autoref{eq_AfQ_1} ,\autoref{eq_AfQ_2} 联立，就有
 \begin{equation}
 \mathbb A=\mathbb A_1= \mathbb A_2=\mathbb A_3~.
 \end{equation}
 也就是说，仿射群是由仿射空间 $(\mathbb A,V)$ 上的所有自同构 $f:\mathbb A\rightarrow\mathbb A$ 实现的。由仿射映射的定义：
 \begin{equation}\label{eq_AfQ_3}
 f(\dot p+v)=f(\dot p)+Df\cdot v~.
 \end{equation}
 显然，这里 $Df$ 是 $V\rightarrow V$ 上的可逆的线性映射（\autoref{the_AfSp_1}~\upref{AfSp}）。这意味着，$Df$ 是一个可逆的线性算子（\autoref{sub_LiOper_4}~\upref{LiOper}），可记为 $\mathcal F=Df$。于是\autoref{eq_AfQ_3} 变成
 \begin{equation}
 f(\dot p+v)=f(\dot p)+\mathcal F v~.
 \end{equation}
 \subsection{仿射群}
 \begin{definition}{仿射群}
 设 $n$ 维仿射空间 $(\mathbb A,V)$ 定义在域 $\mathbb F$ 上，则所有仿射自同构配上映射复合构成的集合 $\mathrm{Aff}(\mathbb A)=A_n(\mathbb F)$ 称为仿射空间 $\mathbb A$ 上的 $n$ 维\textbf{仿射群}。
 \end{definition}
 用 $e$ 表示仿射群的单位元，它是\textbf{单位仿射变换}(或\textbf{恒等变换})，其线性部分为 $V$ 上的单位算子 $\mathcal E$。

容易证明： $e$ 是单位仿射变换，当且仅当存在一点 $\dot q$ ，使得 $e(\dot o)=\dot o$，且 $e$ 的线性部分为 $\mathcal E$。事实上
 \begin{equation}
  e(\dot p)=e(\dot q+\overrightarrow{qp})=e(\dot q)+\mathcal E \overrightarrow{qp}=\dot q+\overrightarrow{qp}=\dot p~.
 \end{equation}
反过来，$e$ 是单位仿射变换，则 $\forall\dot q$，都有 $e(\dot q)=\dot q$。于是
\begin{equation}
\begin{aligned}
e(\dot p+v)=e(\dot p)+De\cdot v&=\dot p+De\cdot v=\dot p+v\\
&\Downarrow\\
De&=\mathcal E~.
\end{aligned}
\end{equation}
故证得结论。
\begin{example}{}
若 $f,g$ 是线性部分分别为$\mathcal F,\mathcal G$ 的两个仿射自同构，试证明，$fg$ 的线性部分为 $\mathcal {F,G}$.

\textbf{证明}：
\begin{equation}
(fg)(\dot p+v)=f(g(\dot p+v))+f(g(\dot p)+\mathcal G v)=fg(\dot p)+\mathcal {FG}v~.
\end{equation}
\textbf{证毕!}
\end{example}
\begin{theorem}{}
所有保持点 $\dot o$ 不动的仿射自同构构成的集合是一个子群 $A_n(\mathbb F)_{\dot o}\in A_n(\mathbb F)$，且在 
\begin{equation}
D:f\rightarrow Df,\quad \forall f\in A_n(\mathbb F)_{\dot o}~.
\end{equation}
下同构于完全线性群 $GL(V)=GL_n(\mathbb F)$（\autoref{ex_Group_5}~\upref{Group}）。空间 $\mathbb A$ 的所有平移构成的子群 $T=\{t_v|v\in V\}$ 在群 $A_n(\mathbb F)$ 中是正规的（\autoref{def_NormSG_1}~\upref{NormSG}），并且属于映射 $D$ 的核。
\end{theorem}
\textbf{证明：}先证明定理第1部分：

\textbf{封闭性：} $\forall f,g\in A_n(\mathbb F)_{\dot o}$ ，设 $\mathcal F,\mathcal G$ 分别是 $f,g$ 的线性部分，于是 
\begin{equation}
(fg)(\dot o+x)=f(g(\dot o+x))=f(g(\dot o)+\mathcal G x)=\dot o+\mathcal{FG}x~,
\end{equation}
故 $fg\in A_n(\mathbb F)_{\dot o}$ 。

\textbf{可逆性：}显然 $f^{-1}(\dot o+x)=\dot o+\mathcal F^{-1}x$ 是 $f(\dot o+x)=\dot o+\mathcal F x$ 的逆。

\textbf{单位元，结合性}显然。

所以，$A_n(\mathbb F)_{\dot o}$ 是 $A_n(\mathbb F)$ 的一个子群。

由同构的定义（\upref{homomo}）， $D:f\rightarrow Df=\mathcal F$ 显然是 $A_n(\mathbb F)_{\dot o}$ 到 $GL(V)$ 上的同构。

第2部分的证明：

由\autoref{exe_AfSp_1}~\upref{AfSp}，所有平移构成的子群 $T$ 同构于空间 $V$ 的加法群。
 
对 $f\in A_n(\mathbb F)$ 且 $Df=\mathcal F$，则
\begin{equation}
\begin{aligned}
(f^{-1}t_vf)(\dot p)&=(f^{-1}t_v)f(\dot p)=f^{-1}(f(\dot p)+v)\\
&=f^{-1}(f(\dot p))+\mathcal F^{-1}v=\dot p+\mathcal F^{-1}v\\
&=t_{\mathcal F^{-1}v}(\dot p)~.AfQ
\end{aligned}
\end{equation}
因为 $\dot p$ 的任意性，从而 $f^{-1}t_vf=t_{\mathcal F^{-1}v}$ 。由正规子群的定义（\autoref{def_NormSG_1}~\upref{NormSG}），$T$ 显然是 $A_n(\mathbb F)$ 的正规子群。

由 $\ker D=\{f\in A_n(\mathbb F)|\mathcal F=\mathcal E\}$， $A_n(\mathbb F)$ 中的平移显然都在 $\ker D$ 中，且
\begin{equation}
f\in \ker D\Rightarrow f(\dot p+v)=f(\dot p)+v=\dot p+v+\overrightarrow{pf(p)}~.
\end{equation}
由于 $u=\overrightarrow{(\dot p+v)(f(\dot p)+v)}=\overrightarrow{pf(p)}$ 与点 $\dot p$ 无关（由 $v$ 的任意性可见），所以 $f=t_u$ 是个用矢量 $u$ 做的平移。

\textbf{证毕！}

所谓的\textbf{正合列}\footnote{实际上这里叫做正合性，正合列还要求 $\{M_i\}$ 是环 $R$ 的模} 是指这样一个序列：
\begin{equation}
\cdots\rightarrow M_{i-1}\xrightarrow{\alpha_i} M_{i}\xrightarrow{\alpha_{i+1}}M_{i+1}\rightarrow\cdots~,
\end{equation}
其中 $\mathrm{Im}\,\alpha_{i}=\ker\alpha_{i+1}$ ，$\{\alpha_i\}$ 是从 $M_{i-1}$ 到 $M_i$ 的同态映射（\autoref{def_Group2_1}~\upref{Group2}）。由此，容易验证
\begin{equation}
e\rightarrow T\xrightarrow{\varphi}A_n(\mathbb F)\xrightarrow{D} GL_n(\mathbb F)\rightarrow \overline{e}~
\end{equation}
是个正合列，其中 $\varphi$ 是恒等映射，$\overline{e}$ 就是只含有一个单位元 $\overline{e}$ 的群。 
