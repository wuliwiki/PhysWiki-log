% 二次型
% keys 二次型|规范型|对角型
% license Xiao
% type Tutor

\pentry{双线性型\nref{nod_sequil}，矩阵的秩\nref{nod_MatRnk}}{nod_dcfb}
\subsection{定义}
\begin{definition}{二次型}\label{def_QuaFor_2}
\footnote{本文参考： 科斯特利金。代数学引论， 第二卷。}域 $\mathbb{F}$ 上有限维空间 $V$ 上的函数 $q:V\rightarrow\mathbb{F}$ ，若它满足如下两个性质：
\begin{enumerate}
\item 对任意 $v\in V$ 都有
\begin{equation}
q(-{v})=q(v)~.
\end{equation}
\item 由公式
\begin{equation}\label{eq_QuaFor_1}
f(x, y)=\frac{1}{2}\qty[q(x+ y)-q(x)-q(y)]~
\end{equation}
决定的映射 $f:V\times V\rightarrow\mathbb{F}$ 是 $V$ 上的双线性型（即 2-线性函数）\upref{Tensor}。
\end{enumerate}
则称 $q$ 是 $V$ 上的\textbf{二次型（quadratic form）}，并称 $f$ 的秩为 $q$ 的秩：$\opn{rank} q = \opn{rank} f$。 另外容易证明 $f$ 是\textbf{对称的}， 即 $f(x,y) = f(y,x)$。
\end{definition}
利用\autoref{eq_QuaFor_1} ，由 $q$ 得到的对称的双线性型 $f$ 称为\textbf{极化的}，或 $f$ 是与二次型 $q$ \textbf{配极}的双线性型。
\begin{example}{}
设 $f$ 是 $V$ 上任意一个\textbf{对称的}双线性型，令
\begin{equation}
q_f( x)=f( x, x)~,
\end{equation}
就得到一个满足二次型定义的函数 $q_f:V\rightarrow\mathbb{F}$。

\textbf{证明}：
\begin{equation}
q_f(-{x})=f(-{x},-{x})=f({x},{x})=q_f({x}) \qquad (\forall x\in V)~,
\end{equation}
\begin{equation}
\frac{1}{2}\qty[q_f(x+ y)-q_f(x)-q_f(y)] = \frac{1}{2}\qty[f( x+ y, x+ y)-f( x, x)-f( y, y)] = f(x, y)~.
\end{equation}
证毕。

注意这里只是证明了 $q_f(v) = f(v,v)$ 是一个二次型，却没有证明\autoref{def_QuaFor_2} 中 $f(v,v) = q(v)$。
\end{example}

要证明\autoref{def_QuaFor_2} 中有
\begin{equation}
f(v, v) = q(v)~,
\end{equation}
就必须

\begin{theorem}{}\label{the_QuaFor_1}
每一个二次型 $q$ 都可以按着自己的配极双线性型 $f$ 唯一地恢复原型；换言之， $q=q_f$
\end{theorem}
\textbf{证明：}在\autoref{eq_QuaFor_1} 中令 $y=-x$ ：
\begin{equation}
-f(x,x)=\frac{1}{2}[q(0)-q(x)-q(-x)]~,
\end{equation}
从而
\begin{equation}
q(x)=f(x,x)+\frac{1}{2}q(0)~.
\end{equation}
因为 $f$ 是个双线性型，所以 $f(0,0)=0$ 。因为，当 $x=0$ 时有 $q(0)=\frac{1}{2}q(0)$ ，即 $q(0)=0$，也就是说， $q(x)=f(x,x)$。

每一个二次型按\autoref{eq_QuaFor_1} 定义一个与其配极对称双线性型 $f$ ，而由\autoref{the_QuaFor_1} ，每一个对称的双线性型 $f$ 有唯一一个二次型 $q$ 与之对应，这就是说，\textbf{二次型和对称双线性型一一对应}。

\subsection{二次型的矩阵}
\begin{definition}{二次型的矩阵}
称与 $q$ 配极的双线性型 $f$ 在空间 $V$ 的基底 $(e_1,\cdots,e_n)$ 之下的矩阵 $\mat F$ 是二次型 $q=q_f$ 的矩阵。 即矩阵元为 $f_{ij} = f(e_i, e_j)$。
\end{definition}

若 $a = \sum_i a_i e_i$， $b = \sum_j b_j e_j$， 令对应的坐标列矢量为 $\bvec a = (a_1\ a_2\ \dots)\Tr$， $\bvec b = (b_1\ b_2\ \dots)\Tr$。 那么 $f(u, v)$ 可以表示为以下的\enref{矩阵运算}{Mat}。
\begin{equation}
f(a, b) = \bvec a\Tr \mat F \bvec b = \sum_{i,j} f_{ij}a_i b_j~,
\end{equation}
对应的二次型为
\begin{equation}
q(a) = \bvec a\Tr \mat F \bvec a = \sum_{i,j} f_{ij}a_i a_j~.
\end{equation}
因为 $f(e_i, e_j) = f(e_j, e_i)$， 所以 $\mat F$ \textbf{是一个对称矩阵}。

\subsection{二次型的规范型}
\begin{definition}{二次型的规范型（或对角型）}\label{def_QuaFor_1}
称二次型 $q$ 在 $V$ 的基底 $(e_1,\cdots,e_n)$ 之下具有\textbf{规范型}或\textbf{对角型}，如果对 $\forall x=\sum x_i e_i\in V$ ，$q(x)$ 的值可用公式
\begin{equation}
q(x)=\sum_{i}f_{ii}x_i^2~
\end{equation}
计算。此时基底 $(e_i)$ 称为对 $q$ 的\textbf{规范基底}。
\end{definition}

令变换矩阵为 $\mat A$，则 $\bvec u = \mat A \bvec u'$， $\bvec v = \mat A \bvec v'$， 那么
\begin{equation}
\bvec u\Tr \mat F \bvec v = (\mat {Au'})\Tr \mat F (\bvec {Av'}) = {\bvec u'}\Tr \mat A\Tr\mat F \mat A \bvec v'={\bvec u'}\Tr \mat F' \bvec v'~,
\end{equation}
即二次型对应的矩阵在新旧基底下对应的关系为 $\mat F'=\mat{A}\Tr \mat{FA}$。
\begin{definition}{合同矩阵}
若 $\det \mat A\neq 0$，则称矩阵 $\mat F$ 和矩阵 $\mat F'=\mat{A}\Tr \mat{FA}$ 是\textbf{合同的}。
\end{definition}
