% 基底（线性代数）
% keys 张成|集合|span|基底|极大线性无关组
% license Xiao
% type Tutor

\begin{issues}
\issueTODO
\end{issues}

\pentry{子空间\nref{nod_SubSpc}}{nod_56be}

向量的线性组合\upref{GVec}使得我们可以使用少量向量——称为一个向量组——来表示更多的向量。如果向量空间中的一组向量可以通过线性组合得到整个向量空间中的任意向量，我们就说这组向量\textbf{张成}了这个向量空间；如果这组向量中有一个向量可以写作其他向量的线性组合，我们就说这个向量组\textbf{线性相关}，如果不存在这么一个向量，就说这个向量组\textbf{线性无关}。

在本节中，我们讨论如何用最少的向量来表示整个空间里的所有向量，并指出这就是向量空间的基底，在此基础上讨论维度等概念。

\subsection{线性张成}

\begin{definition}{张成子空间}\label{def_VecSpn_1}
给定向量空间 $V$，用 $V$ 的若干向量构成的集合（称为\textbf{向量组}） $S \subseteq V$面，从 $S$ 中任意地选择有限个向量进行线性组合所得到的集合 
\begin{equation}
\left\{\sum_{i = 1}^N c_iv_i \middle| N \in\mathbb{N}, c_i\in\mathbb{F}, v_i \in S\right\}~
\end{equation}
是 $V$ 的子空间，被称为 $S$ 所（线性）\textbf{张成（span）}的子空间，记为 $\opn{span}_\mathbb{F} S$ 或者 $\ev{S}_\mathbb{F}$，在域 $\mathbb{F}$ 明确的时候可以简记为 $\opn{span} S$ 或者 $\ev{S}$。

特别的，空集张成 $\{0_V\}$，$V$ 张成它本身。
\end{definition}

注意：$S$ 可以是无限集合也可以有限的，但是线性组合一定是有限项求和。

容易证明，定义中的 $\opn{span} S$ 符合子空间的定义。
\begin{example}{三维空间中的平面}
比如说，三维空间 $V$ 中，任意选定两个不共线的几何向量 $\bvec{v}$ 和 $\bvec{u}$，这两个几何向量的所有线性组合构成的集合 $\opn{span}\{\bvec{v}, \bvec{u}\}$，是 $V$ 中的一个过原点的平面；它本身构成了一个向量空间，同时还是 $V$ 的子集，因此又是 $V$ 的一个子空间。
\end{example}

% 注意若我们在 $V$ 中任意找一组基底， 不一定能恰好从中选出 $N_S$ 个使其作为 $S$ 空间的基底。 若想让 $V$ 空间的一组基底包含 $S$ 空间的基底， 我们可以先在 $S$ 空间中选 $N_S$ 个基底， 再在 $S$ 空间外选取 $N - N_S$ 个基底即可\footnote{这样的基底一定是存在的， 因为 $N$ 维空间中任意给出 $N_S$ 个线性无关的向量， 就必定能再找到另外 $N - N_S$ 个线性无关的向量}。

\begin{exercise}{}\label{exe_VecSpn_1}
把三维空间 $\mathbb{R}^3$ 的每个向量表示成 $(x,y,z)$，其中 $x,y,z\in\mathbb{R}$。取三个向量 $v_1 = (1,2,0)$，$v_2 = (3,2,4)$ 和 $v_3 = (1,1,1)$，那么这三个向量所张成的空间是一个点、一条线、一个平面还是整个三维空间本身？

% 三个向量是否线性相关？它们的线性相关性和张成空间的样子有什么关系？
\end{exercise}

% Giacomo: 形式张成 移动到基底之后

\begin{definition}{有限维向量空间}
一个向量空间如果可以被有限个向量张成，我们就称它为\textbf{有限维向量空间}。
\end{definition}

在这里我们还没定义什么是“维度”，所以也可以称它为“有限张成空间”。要定义维度，我们首先需要定义什么是基底。

\subsection{线性无关}

\pentry{几何向量的线性相关性\nref{nod_linDpe}}{nod_7744}

\begin{definition}{向量组线性相关/无关}
对于向量空间 $V$ 的一个向量组 $S$，如果存在至少一组\textbf{不全为零}系数 $c_i \in \mathbb{F}$ 使几个向量的线性组合等于零， 即
\begin{equation}\label{eq_VecSpn_2}
\sum_i^N c_i v_i = 0_V~,
\end{equation}
那向量组 $S$ 就被称为\textbf{线性相关的（linearly dependent）}；如果不存在这样的系数，我们就称向量组 $S$ \textbf{线性无关的（linearly independent）}。

两个向量如果构成一个线性无关组，我们就说它们是\textbf{线性无关的}，类似的可以定义\textbf{线性相关}。
\end{definition}

由于$c \cdot 0_V = 0_V$，我们有：
\begin{theorem}{}
对于任何一个线性无关组 $S$，$0_V \not\in S$。
\end{theorem}

我们用向量组来张成空间，就是在用这些向量来表示张成空间里面的所有向量的。我们知道，张成空间时所使用的向量，如果它们线性相关，那么就会有冗余向量，也就是说其中一些向量本身就可以被剩下的向量表示出来，因此我们就算把冗余的向量都剔除了，剩余的向量仍然可以张成同一个空间。

进一步，有冗余向量就意味着，张成空间里的向量可以表示成不同的线性组合。

\begin{exercise}{}
\autoref{exe_VecSpn_1} 中所给出的三个向量是线性相关的。请使用这个例子来讨论以下两个问题：
\begin{itemize}
\item 用这三个向量的线性组合来表示向量 $(1,0,0)$，组合方式是唯一的吗？
\item 这三个向量中剔除几个向量后就不再有冗余向量？
\item 剔除的冗余向量有几种选择？
\end{itemize}
\end{exercise}

如果一组向量是线性无关的，那么就没有这讨厌的冗余向量了，我们就可以很方便地用这组向量来讨论张成空间的性质。

\begin{theorem}{}
对于向量空间 $V$，给定一组线性无关向量组 $\{v_i\}_i$。对于任何向量 $v \in \opn{span}(\{v_i\}_i)$，它表示线性组合的方式是唯一的。
\end{theorem}
\textbf{证明：}

设 $v = \sum a_i v_i = \sum b_i v_i$，其中 $a_i, b_i\in \mathbb{F}$，而 $\mathbb{F}$ 是定义 $V$ 所用的域。那么我们有：
\begin{equation}
\sum(a_i - b_i) v_i = \sum a_i v_i - \sum b_i v_i =  v - v =  \bvec{0}~.
\end{equation}

由于 $\{v_i\}_i$ 线性无关，上式就意味着每一个 $a_i-b_i$ 都是 $0$，也就是说每一个 $a_i$ 都等于 $b_i$。因此不可能有两种不同的组合方式能得到 $v$。

\textbf{证毕。}

\subsection{基底}

\begin{definition}{基底和基底向量}\label{def_VecSpn_2}
如果向量空间 $V$ 可以表示为一组向量 $\{v_i\}_i$ 的张成空间，并且这组向量是线性无关的，那么我们说 $\{v_i\}_i$ 是 $V$ 的一组\textbf{基底（basis）}或简称\textbf{基}，各 $v_i$ 被称作一个\textbf{基底向量（basis vector）}。
\end{definition}

我们可以换一个角度：对于一个张成向量组，如果它是线性相关的，总可以找出一个冗余向量，把它剔除；如果剔除一个冗余向量以后还有冗余向量，就重复这个操作，直到不再有冗余向量为止。这样剔除若干步后所得到的线性无关的向量组，被称为原向量组的一个\textbf{极小张成组}。由于每一步剔除的冗余向量可以不同，最终剩下来的极小张成组也可以不同。

\begin{example}{}
依然利用\autoref{exe_VecSpn_1} 的例子。向量组 $\{v_1, v_2, v_3\}$ 的极小张成组一共有三个，分别是 $\{v_1, v_2\}$，$\{v_2, v_3\}$ 和 $\{v_1, v_3\}$。
\end{example}

我们还可以从线性无关组开始，如果线性无关组没有张成整个空间，我们就可以加入一个张成子空间之外的向量，新向量组仍然是线性无关的；如果新向量组仍然没有张成整个空间，就继续这一步，直到张成了整个空间为止，我们把最终得到的向量组称为原向量组的一个\textbf{极大无关组}。由于每一步加入的无关向量可以不同，最终组合成的极大无关组也可以不同。

\begin{theorem}{基底的三种等价定义}
极大无关组 等价于 极小张成组 等价于 无关张成组。它们都可以作为基底的定义。
\end{theorem}


有了基底之后，向量空间中的\textbf{每一个}向量都可以\textbf{唯一}地表示成基底向量的线性组合。这里，每一个向量都可以被表示成基底向量的线性组合是因为定义中要求基底能张成整个向量空间，而线性组合的唯一性是因为定义中要求基底是线性无关的。这是极为重要的性质，它使得向量空间上的一切线性性质，比如线性函数、线性变换、张量的表示等等，都只和基底的选择有关。比如说，对于线性函数，一旦选定了基底，那么只需要计算出基底向量的函数值，我们就可以得到一切向量的函数值，而不用对每一个向量都作一番计算。

\begin{theorem}{基底表示的唯一性}\label{the_VecSpn_1}
对于向量空间 $V$，给定一组基底 $\{e_i\}_i$。对于任何向量 $v\in V$，它表示为该基底的线性组合的方式是唯一的。
\end{theorem}

\subsubsection{向量空间的维度}
% Giacomo: 这里的“一定有某些共性”得到“维度”一点逻辑都没有。。。
% 
% 由于每一步剔除的向量都是“冗余”的，因此每一步的剔除都不会改变向量组所张成的空间。尽管剔除的方式不同可能导致剩下来的极大线性无关组不同，但是它们都张成同一个空间，这就意味着这些极大线性无关组一定有某些共性，我们把这个共性称作张成空间的维度。

\addTODO{重新写引入}

\begin{theorem}{}\label{the_VecSpn_2}
有限维向量空间的所有基底的元素个数都是一样的；等价的，如果一个向量空间可以表示为一组有限个向量 $\{w_i\}_{i = 1}^n$ 的张成空间，那么 $\{w_i\}_{i = 1}^n$ 的任何两个极大线性无关组中的元素数量都是一样的。
\end{theorem}

\autoref{the_VecSpn_2} 的证明有很多方式，由于本部分的教学思路在这里还没引入线性方程组的概念，因此不会使用线性方程组解的性质来证明，而是用“替换法”。

\addTODO{新词条《用线性方程组证明维度的良定义》}

\textbf{证明：}

假设 $S$ 是若干向量的集合，其中 $\{v_i\}_{i=1}^n$ 和 $\{\bvec{u}_j\}^m_{j=1}$ 都是 $S$ 的极大线性无关组。那么由于“极大”，$\{v_i\}_{i=1}^n$ 中的向量都可以用 $\{\bvec{u}_j\}^m_{j=1}$ 的线性组合来表示，反之亦然；由于“线性无关”，两者的互相表示是唯一的。

反设 $n\not=m$，不妨就设 $n>m$。

如果从 $\{v_i\}_{i=1}^n$ 中把 $v_1$ 拿掉，那么必然存在若干 $u_j$ 无法被剩下的 $\{v_i\}_{i=2}^n$ 表示。我们把这些无法被表示的 $u_j$ 添加进 $\{v_i\}_{i=2}^n$，取代 $v_1$，这样又得到一个新的极大线性无关组\footnote{新向量组\textbf{线性无关}是因为所添加的元素都是 $\{v_i\}_{i=2}^n$ 所无法表示、本身也线性无关的，而\textbf{极大}是因为它可以表出所有 $u_j$ 了。}。对于把 $v_1$ 替换掉后的新极大无关组，再把 $v_2$ 拿掉，然后相应地替换为拿掉之后无法表示出的所有 $u_j$。依次进行。

以上步骤中，由于每一次替换都只拿掉一个 $v_i$，却要替换为\textbf{至少}一个 $u_j$，而且每次添加的 $u_j$ 都和之前的没有交集\footnote{因为之前添加的 $u_j$ 已经在新极大无关组里了，肯定能被表示出来。}。再加上 $n>m$，因此替换的元素最多到 $v_m$。这样就得出 $\{u_j\}^m_{j=1} \cup \{v_i\}^n_{j=m+1}$ 也是一个极大无关组。由于这个极大无关组比 $\{u_j\}^m_{j=1}$ 多了一个非空集合 $\{v_i\}^n_{j=m+1}$，因此和 $\{u_j\}^m_{j=1}$ 的极大线性无关性\textbf{矛盾}。因此假设不成立，即 $n=m$。

令 $S=\{w_i\}_i$ 或者 $S=V$，就得到定理的证明。

\textbf{证毕。}

替换法的证明仅仅用到了目前已知的少量向量性质，并不涉及方程组理论，请仔细体会其逻辑。事实上，本部分将会在建立了向量空间的直觉后，用向量空间的思想，即几何的思想，来解释实系数线性方程组的概念。

\autoref{the_VecSpn_2} 意味着，向量空间的不同基底总包含相同数量的基底向量。实际上蕴含的是非常符合直觉的一个概念，维度。

\begin{definition}{向量空间的维度}
对于有限维向量空间 $V$，其任意一个基底的元素数量，称为 $V$ 的\textbf{维度（dimension）}，记为 $\opn{dim} V$。特别的，零维向量空间有且只有$\{0\}$，它的基底是空集。
\end{definition}

\addTODO{用无关组和张成组的大小来给维度划定上下限}

在\autoref{the_VecSpn_2} 中我们限制了 $V$ 为有限维的，无限维的情况会比较复杂。
% 会在将来进一步讨论。

\subsubsection{无限维向量空间}

一个向量空间如果不是有限维的，就被称为无限维向量空间。无限维度向量空间的基底的存在性并不显然，它依赖于选择公理（等价的，Zorn's引理）
\addTODO{词条：选择公理/Zorn's 引理}

\begin{theorem}{}
在假定Zorn's引理成立的前提下，任何向量空间都存在基底。
\end{theorem}
\textbf{证明：}
这里我们选择极大无关组理解基底。对于向量空间 $V$，定义 $\mathcal{I}$ 为全体线性无关的向量组的集合，集合的包含关系使它成为了一个偏序集。

\addTODO{偏序集}

由于$\varnothing \in \mathcal{I}$，$\mathcal{I}$不是空集（Zorn's引理的条件之一）；考虑$\mathcal{I}$的任何一条序链（chain），即全序子集，$\{I_\alpha\}_\alpha$，它们的并集$\bigcup_\alpha I_\alpha$也是线性无关的（因为它的任意有限子集都包含于某个$I_\alpha$），是序链$\{I_\alpha\}_\alpha$的上界（Zorn's引理的条件之二）——根据Zorn's引理，$\mathcal{I}$存在极大值，即我们想要的基底。
\textbf{证毕。}

这个证明是一个非构造性证明，实践上想找出一个无穷维向量空间的基底并不容易。

\begin{example}{多项式空间}
$\mathbb{R}[X]$是$\mathbb{R}$上的全体一元多项式的向量空间，易知单项式的向量组
\begin{equation}
\{1, X, X^2, \dots, X^n, \dots\}~
\end{equation}
是一组线性无关向量组，更进一步的，任何一个多项式都可以写成有限个单项式的线性组合，因此它也构成一组基底。
\end{example}
\addTODO{链接：关于“它是一个向量空间”的细节}

\begin{example}{收敛幂级数空间}
$V$是$\mathbb{R}$上的全体收敛的（中心在$0$处）\enref{幂级数}{anal}的向量空间，多项式空间是它的子空间，此时单项式的向量组仍然是一组线性无关向量组，但是$\exp$这种超越函数无法由有限项单项式线性组合成，我们需要“无限项求和”。实际上我们只能证明$V$存在一组（不可数的）基底，但是没有办法显式的写出来。
\end{example}

\subsubsection{形式张成}

从另一个角度，我们可以摆脱“用给定空间的向量来张成一个子空间”，定义形式化的张成的概念。取任何一个集合 $S$，我们可以用 $S$ 在域 $\mathbb{F}$ 上直接构造一个“以 $S$ 为基底的”向量空间
\begin{equation}
V_S = \left\{ \sum_\alpha a_\alpha s_\alpha|a_\alpha\in\mathbb{F}, s_\alpha\in S \right\}~,
\end{equation}
其中的元素 $\sum_\alpha a_\alpha s_\alpha$ 是 $s_\alpha$ 的形式线性组合，是一个不属于 $S$ 的新元素；我们会把 $1 s \in V_S$ 和 $s \in S$ 等同起来，从而把 $S$ 视作 $V_S$ 的一个子集。即使 $S$ 本身拥有一些代数结构，比如它是一个向量空间的子集，在构造形式张成的时候我们都要忘记掉，仅仅把它当成一个集合。

对于向量空间 $V$ 的张成向量组 $S$，如果 $S$ 是线性无关的，我们有 $V \cong V_S$，换言之形式张成可以被理解成一种特殊的子集张成；因此形式张成和子集张成一般采用一样的符号，$\langle S \rangle$，只是会把向量用正体、希腊字母或者特定的字母（一般是$x, y, z$）等方式来表示“忘记它们之间的线性关系”，比如
\begin{equation}
\langle \text{v}_1, \cdots, \text{v}_n \rangle, \quad \langle x_1, \cdots, x_n \rangle~.
\end{equation}

如果张成向量组 $S$ 在 向量空间 $V$ 中是线性相关的，我们有满射
\begin{equation}
V_S \twoheadrightarrow V ~
\end{equation}
其中 $\sum_\alpha a_\alpha s_\alpha \in V_S$（形式组合）的像为零当且仅当$\sum_\alpha a_\alpha s_\alpha = 0 \in V$（向量组的组合）。换言之，（一般的）张成空间是形式张成的商空间

\addTODO{链接：商空间} % Giacomo: \enref{商空间}{QuoSpa} 似乎还在整改

\subsection{向量空间的坐标}

\pentry{列向量\nref{nod_colVec}}{nod_711e}

\addTODO{有序基底}
% 有两种表示方式，一是用元组(a, ..., b) 二是用下标 $\{e_i\}_i$

\begin{definition}{向量的坐标}
对于向量空间 $V$，给定一组有序基底 $\{e_i\}_i$。如果向量 $v=\sum a_i e_i$，那么我们称列向量 $(a_i)_i$ 是 $v$ 的一组\textbf{坐标（coordinates）}。
\end{definition}

\autoref{the_VecSpn_1} 意味着选定基底以后，各向量的坐标是唯一的，但基底的选择本身不是唯一的。比如说，二维平面上，任何两个不平行的向量都可以构成这个空间的一个基底。基底的选择不一样，向量的坐标也不一样。对此的详细讨论请参见\enref{向量空间的表示}{VecRep}。

% Giacomo：和第一部分重复了
% 
% \subsection{向量张成的空间}

% 如果在 $N$ 维向量空间 $V$ 中给定 $M$ 个向量（不一定要求 $M \leqslant N$， 也不一定都线性无关） ${v_1}, \dots, {v_M} \in V$， 那么容易证明
% \begin{equation}
% {v} = \sum_{i=1}^M c_i {v_i}~
% \end{equation}
% 的集合就是 $V$ 的一个子空间（可以是 $V$ 本身）。 我们把这个空间叫做 ${v_1}, \dots, {v_M}$ \textbf{张成}的空间。 当 ${v_1}, \dots, {v_M}$ 线性无关时， 该空间为 $M$ 维， 否则就小于 $M$ 维。

% 要获得张成空间的一组基底， 我们可以在这 $M$ 个向量中， 将所有可以表示为其他向量线性组合的向量剔除， 直到所有剩下的向量线性无关， 就得到了一组基底。
