% 仿射空间中的曲线坐标系
% 曲线坐标系|仿射空间


\pentry{仿射空间\upref{AfSp}}
\subsection{曲线坐标系}
设 $\{\dot o;e_1,\cdots,e_n\}$ 是仿射空间 $\mathbb A$ 中的坐标系。则对其上任一点 $M$ ，其坐标为矢量 $\overrightarrow{OM}=x^i e_i$ 的坐标（采取坐标和基矢指标的对立约定\upref{CofTen}及爱因斯坦求和约定\upref{EinSum}）。若选择一新坐标系 $\{\dot o';e'_1,\cdots,e'_n\}$，则点的坐标变换规则为（\autoref{the_AfSp_3}~\upref{AfSp}）
\begin{equation}
x'^i={B^i}_jx^j-{B^i}_j b^j~.
\end{equation}
其中，${B^i}_j$ 是基 $\{e_1,\cdots,e_n\}$ 到基 $\{e'_1,\cdots,e'_n\}$ 的转换矩阵 ${A^i}_j$ 的逆矩阵。而 $b^i$ 是 $\dot o'$ 在旧坐标系 $\{\dot o;e_1,\cdots,e_n\}$ 中的坐标。

到目前为止，点的描述都是在仿射坐标（即对应基底 $\{e_i\}$ 的坐标）下进行的，下面将建立曲线坐标的概念来描述点的坐标。为描述方便，先引进仿射空间中领域和 $n$ 维区域的概念。
\begin{definition}{领域，$n$ 维区域}
设 $\mathbb A$ 是 $n$ 维仿射空间，点 $M=x^ie_i\in\mathbb A$ 的 $\delta$ \textbf{领域}是指坐标满足
\begin{equation}
\sum_{i}^n(x'^i-x^i)^2<\delta^2~
\end{equation}
的所有点 $M'=x'^i e_i$ 构成的集合。

若 $\Omega$ 是 $\mathbb A$ 中这样一个集合：对 $\Omega$ 中任一点 $M$，必有 $M$ 的某个领域也属于 $\Omega$。则称 $\Omega$ 是 $\mathbb A$ 中的\textbf{ $n$ 维区域}。若区域 $\Omega$ 中任一点都可连续的变动到 $\Omega$ 中的另一点，即一点的坐标连续变化到另一点的坐标，则区域 $\Omega$ 称为\textbf{连通的}。
\end{definition}

凡提到区域总是指连通区域。

\begin{definition}{曲线坐标}
设 $\Omega\in\mathbb A$ 是一 $n$ 维连通区域，在其上给定仿射坐标的 $n$ 个连续可微的单值函数 $f_k(x^1,\cdots,x^n)$ （$k=1,\cdots,n$），且函数组 $\{f_i\}$ 是可逆的。则新定义的变量
\begin{equation}
x'^i=f_i(x^1,\cdots,x^n),\quad i=1,\cdots,n~
\end{equation}
称为 $\Omega$ 上的\textbf{曲线坐标}。
\end{definition}

\textbf{注：}函数组 $\{f_i\}$ 的可逆性意味着
\begin{equation}\label{eq_CFinAf_2}
x^i=g_i(x'^1,\cdots,x'^n),\quad (i=1,\cdots,n)~,
\end{equation}
且 $g_i$ 也是连续可微的单值函数，且函数组 $\{g_i\}$ 也是可逆的。所谓的\textbf{连续可微}，是指具有直到某一阶数 $N$ 的连续偏导数。通常并不预先说明具体的 $N$ 值，而是简单地写出已知阶的导数就表明假定这些导数的存在和连续。
\begin{theorem}{}\label{the_CFinAf_1}
设
\begin{equation}
x'^i=f_i(x^1,\cdots,x^n),\quad i=1,\cdots,n~
\end{equation}
是区域 $\Omega$ 的曲线坐标，则正逆变换的雅可比行列式均不为0：
\begin{equation}\label{eq_CFinAf_1}
\det\abs{\pdv{x'^i}{x^j}}\neq0;\quad\det\abs{\pdv{x^i}{x'^j}}\neq0~,
\end{equation}
且 $\pdv{x'^i}{x^j}$ 和 $\pdv{x^i}{x'^j}$ 对应的矩阵是互逆的。
\end{theorem}
\textbf{证明：}由于定义曲线坐标的函数组 $\{f_i\}$ 是可逆的，即变量 $\{x'^i\}$ 和 $\{x^i\}$ 之间可相互单值的表示，那么可把 $x^j$ 看成 $\{x^i\}$ 的复合函数。于是：
\begin{equation}
\pdv{x^i}{x^j}=\pdv{x^i}{x'^k}\pdv{x'^k}{x^j}~.
\end{equation}
由于自变量的导数 $\pdv{x^i}{x^j}=\delta^i_j$，那么
\begin{equation}
\pdv{x^i}{x^j}=\pdv{x^i}{x'^k}\pdv{x'^k}{x^j}=\delta^i_j~.
\end{equation}
即 $\pdv{x^i}{x'^k}$ 和 $\pdv{x'^k}{x^j}$ 对应矩阵的积是一个单位矩阵，所以它们对应的矩阵是互逆的，因而对应行列式不为0，即\autoref{eq_CFinAf_1} 是成立的。

 
\textbf{证毕！}

利用 \autoref{eq_CFinAf_2} 用曲线坐标 $x'^i$ 来代替仿射坐标 $x^i$，点 $M$ 的向径 $\overrightarrow {OM}=x^i e_i$ 可表达成
\begin{equation}\label{eq_CFinAf_3}
\overrightarrow{OM}=g_i(x'^1,\cdots,x'^n)e_i~.
\end{equation}
将 $\overrightarrow{OM}$ 简记为 $x$，则可写为
\begin{equation}
x=x(x'^1,\cdots,x'^n)~.
\end{equation}


下面的定理在以后都起着重要的作用。
\begin{theorem}{}\label{the_CFinAf_2}
所有偏导数 $\pdv{x}{x'^i},i=1,\cdots,n$ 在每一点都是线性无关的矢量。
\end{theorem}
\textbf{证明：}\autoref{eq_CFinAf_3} 关于 $x'^i$ 微分，得
\begin{equation}
\pdv{x}{x'^i}=\pdv{x^j}{x'^i}e_j~.
\end{equation}
由\autoref{the_CFinAf_1} ，系数 $\pdv{x^j}{x'^i}$ 对应的矩阵行列式 $\det\abs{\pdv{x^j}{x'^i}}\neq0$，所以矢量 $\pdv{x}{x'^i}$ 是线性无关的。


\textbf{证毕！}
\subsection{坐标曲线}
在引入了曲线坐标后，直接记 $x^i$ 为曲线坐标而不带撇号，那么区域 $\Omega$ 上任一点 $M$ 的向径 $x$，可表示为
\begin{equation}
x=x(x^1,\cdots,x^n)~.
\end{equation}

要很好的理解坐标系的结构，坐标曲线是很有用的。
\begin{definition}{坐标曲线}
在区域 $\Omega$ 中，曲线坐标中只有某一个不同的所有点构成的集合称为\textbf{坐标曲线}，若该不同的坐标为 $x^i$，则该曲线称为坐标曲线 $x^i$。
\end{definition}
也就是说，在坐标曲线上仅有一个坐标在变化，而其余坐标保持常数。

由坐标曲线的定义，$\pdv{x}{x^i}$ 是坐标曲线 $x^i$ 的\textbf{切矢量}，所以通过 $\Omega$ 上的每一点 $M$，有 $n$ 条切矢量各为 $\pdv{x}{x^i}$ 的坐标曲线，这些矢量记作 $\partial_i x=\pdv{x}{x^i}$ ，由 \autoref{the_CFinAf_2} ，它们是线性无关的。
\subsection{局部标架}
由于在点 $M$ 处，$n$ 个矢量 $\partial_i x$ 是线性无关的，因为在每一点 $M$ 都可取这些矢量为仿射标架矢量 $\{M;\partial_1 x,\cdots,\partial_n x\}$ 。 $x=x(x^1,\cdots,x^n)$ 中的 $x^i$ 是曲线坐标，这就是说，给定了曲线坐标，就在每一点 $M$ 引出了一个完全确定的仿射标架。
\begin{definition}{局部标架}\label{def_CFinAf_1}
在区域 $\Omega$ 中，曲线坐标在每一点 $M$ 引出的仿射标架 $\{M;\partial_1 x,\cdots,\partial_n x\}$ ，称作点 $M$ 的\textbf{局部标架}（或\textbf{局部坐标系}）。
\end{definition} 
\subsubsection{曲线坐标和仿射坐标的关系}
在仿射坐标下，从点 $M(x^i)$ 到点 $L(y^i)$ 的变动下，坐标的增量即是位移矢量 $\overrightarrow{ML}$ 的坐标：
\begin{equation}
\overrightarrow{ML}=\overrightarrow{OL}-\overrightarrow{OM}=(y^i-x^i)e_i~.
\end{equation}
这就是\textbf{仿射坐标的实质}。

在曲线坐标下，从点 $M(x^i)$ 移动到一无限接近的点 $L(x^i+\Delta x^i)$ 时，其点 $M$ 的向径 $x$ 的增量 $\overrightarrow{ML}$ 为（忽略高阶无穷小量）
\begin{equation}\label{eq_CFinAf_4}
\overrightarrow{ML}=\overrightarrow{OL}-\overrightarrow{OM}=x(x^i+\Delta x^i)-x(x^i)=\partial_i x\Delta x^i~.
\end{equation}

注意 $\partial_i x$ 是在点 $M$ 处的局部标架，这就是说，在局部标架 $\{M;\partial_1 x,\cdots,\partial_n x\}$ 中，位移矢量 $\overrightarrow{ML}$ 具有的坐标，近似地等于曲线坐标的增量 $\Delta x^i$。

因此，在点 $M$ 的无穷小邻域内，曲线坐标的增量 $\Delta x^i$，和点 $M$ 的局部标架 $\{M;\partial_1 x,\cdots,\partial_n x\}$ 下的仿射坐标，在一阶无穷小的精度内（\autoref{eq_CFinAf_4} ），完全相同。

\subsection{不同曲线坐标间的局部标架转换关系}\label{sub_CFinAf_1}

设有另一曲线坐标 $x'^i$ ，则曲线坐标 $x^i$ 和 $x'^i$ 可相互表示。于是向径 $x$ 可看着 $x'^i$ 的复合函数，那么
\begin{equation}
\pdv{x}{x'^i}=\pdv{x}{x^j}\pdv{x^j}{x'^i}~,
\end{equation}
 即
 \begin{equation}
 \partial'_i x=\pdv{x^j}{x'^i}\partial_j x~.
 \end{equation}
 
因此，下面定理成立
\begin{theorem}{标架转化关系}
设 $x^i$ 和 $x'^i$ 是不同的曲线坐标，则两曲线坐标对应的局部标架矢量转换关系为
\begin{equation}\label{eq_CFinAf_5}
\partial'_i x=\pdv{x^j}{x'^i}\partial_j x,\quad \partial_j x=\pdv{x'^i}{x^j}\partial'_i x~.
\end{equation}
\end{theorem}
注意基 $\{e_i\}$ 到基 $\{e'_i\}$ 的转换关系为
\begin{equation}
e'_i=A^j_i e_j,\quad e_j=B^i_j e'_i~.
\end{equation}
于是，若基 $\{e_i\}$ 为基 $\{\partial_i x\}$，基 $\{e'_i\}$ 为基 $\{\partial'_i x\}$，那么 $A^j_i=\pdv{x^j}{x'^i},B^i_j=\pdv{x'^i}{x^j}$。