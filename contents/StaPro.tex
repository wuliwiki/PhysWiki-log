% 状态量和过程量
% license Xiao
% type Tutor

\pentry{力场 保守场 势能\nref{nod_V}， 理想气体状态方程\nref{nod_PVnRT}}{nod_4b6c}

若一个系统可以用若干参数 $x_1, x_2,  \dots, x_N$ 描述， 那么我们可以把某个状态表示成一个 $N$ 维\enref{矢量}{GVec} $\bvec x = (x_1, x_2, \dots, x_N)$， 叫做\textbf{状态点}， 把 $\bvec x$ 所有可能的取值范围称为\textbf{状态空间}。 系统关于时间的变化可以看作状态空间中一点划过一条轨迹， 表示为矢量函数 $\bvec x(t)$。

\subsection{状态量}
若系统的一个物理量 $V$ 只和状态空间的位置有关， 即可以表示为多元函数 $V(\bvec x) = V(x_1, \dots, x_N)$， 那么就把它称为\textbf{状态量}。 最简单地， 每个 $x_i$ 本身都是一个状态量。 典型的状态量例如系统的能量， 动量， 温度， 体积， 压强等。

若给出 $t_1$ 时刻的初始状态 $\bvec x_1 = \bvec x(t_1)$ 以及 $t_2$ 时刻的末状态 $\bvec x_2 = \bvec x(t_2)$， 那么该物理量的增量为
\begin{equation}
\Delta V = V(\bvec x_2) - V(\bvec x_1)~.
\end{equation}
注意这个增量只与初末状态 $\bvec x_1,\bvec x_2$ 有关， 而与过程无关， 也就是无论状态点以什么路径 $\bvec x(t)$ 从初状态移动到末状态， 都会得到同样的增量 $\Delta V$。

\begin{example}{}\label{ex_StaPro_2}
热力学在描述\enref{理想气体}{Igas}的宏观状态时， 只需要用压强 $P$ 和体积 $V$ 和粒子摩尔数 $n$。 当 $n$ 始终不变时， 也可以认为状态量只有 $(P,V)$。 温度 $T$ 可以根据理想气体状态方程（\autoref{eq_PVnRT_1}~\upref{PVnRT}） 表示为 $P,V$ 的函数，所以是状态量。 类似地， 它的\enref{内能}{IdgEng} $E$ 也是一个状态量。

事实上我们也可以用 $(P,T)$ 或 $(V,E)$ 等作为理想气体的状态空间参数，把其他宏观状态量看作它们的函数。
\end{example}

要说明的是， “系统的状态” 可能会有不同的层次。 例如热力学研究气体时主要是讨论\autoref{ex_StaPro_2} 中的\textbf{宏观状态}， 但在统计力学中， 即使气体处于一个确定的宏观状态， 也可能需要区分无穷种不同\textbf{微观状态}。 微观状态在这里是指气体中每一个原子分子的运动参数。 例如要完整描述气体中 $N$ 个（阿伏伽德罗常数（引用未完成）数量级）质点的微观状态， 就需要每个粒子的位置和动量 $(\bvec r_i, \bvec p_i)$ （$i=1,\dots,N$） 共 $6N$ 个参数， 也就是需要 $6N$ 维的状态空间。

\subsection{过程量}
\pentry{线积分\nref{nod_IntL}}{nod_17ef}
若一个量 $Q$ 取决于状态空间中的一段运动过程 $\bvec x(t)$（$t = [t_1,t_2]$）， 它就是过程量。  典型的过程量如做功， 冲量， 传热等。 一种常见的过程量可以用\enref{线积分}{IntL}定义为
\begin{equation}\label{eq_StaPro_1}
\begin{aligned}
Q &= \int_{\mathcal L} \bvec f(\bvec x_i) \vdot \dd{\bvec x} = \int_{\mathcal L} \sum_i f_i(x_1, \dots, x_N) \dd{x_i}\\
&= \int_{t_1}^{t_2} \sum_i f_i(x_1, \dots, x_N) \dv{x_i}{t} \dd{t}~,
\end{aligned}
\end{equation}
$\mathcal L$ 表示状态点的 “运动方程” $x_i(t)$ （$i = 1,\dots, N$） 以及起点终点 $\bvec x(t_1), \bvec x(t_2)$。 注意这样定义的过程量只可能和轨迹 $\mathcal L$ 的形状有关而与状态点在轨迹上移动的快慢无关。 所以这里的 $t$ 可以看作轨迹的参数随时间变化而未必是时间本身。 一个具体的例子是力场对单个质点的做功， 下面会在\autoref{ex_StaPro_1} 详细讨论。


从定义上来说， $Q$ 是一个过程量， 但如果在某个系统中它只取决于起点和终点的状态， 那么对这个系统区分 $Q$ 是状态量和过程量将没有太大实用价值，因为它总能表示为某个状态量 $V(\bvec x)$ 的增量
\begin{equation}
Q = V(\bvec x(t_2)) - V(\bvec x(t_1))~.
\end{equation}
例如在二维或三维状态空间， 若令矢量函数为 $\bvec f(\bvec x) = \sum_i f_i(\bvec x) \uvec x_i$， 那么当旋度 $\curl \bvec f = \bvec 0$ 时， $\bvec f(\bvec x)$ 就是一个\enref{保守场}{V}， 必存在势函数 $V(\bvec x)$，使场对物体做功为 $W = V(\bvec x_2) - V(\bvec x_1)$。 这中情况下区分功是过程量还是状态量意义并不大。 对于高维情况， 需要使用\enref{外导数}{ExtDer} 来判断保守场。

但事实上远非所有情况下\autoref{eq_StaPro_1} 的积分都可以表示为两个状态量之差。 此时积分的结果必须取决于路径的形状， 那么区分状态量和过程量就至关重要。 例如， 虽然我们往往写出微分关系（未完成：其实这里也应该用 $\delta$ 不是 $\dd{}$）
\begin{equation}
\dd Q = \sum_i f_i(x_1, \dots, x_N) \dd{x_i}~,
\end{equation}
但是却不可能把 $Q$ 表示为 $x_i$ 的函数， $f_i$ 也不能看作偏导 $\pdv*{Q}{x_i}$。

为了防止这种误解， 一些教材中把过程量的微小变化记为 $\delta Q$ 而不是 $\dd Q$。后者用于表示\enref{全微分}{TDiff}， 而只有 $\bvec x$ 的函数可以做全微分。

\begin{example}{力场}\label{ex_StaPro_1}
一个具体的例子是力场对单个质点的做功。 在分析力学中， 此时状态空间是 $(\bvec x, \bvec p)$ 即位置和动量， 做功一段过程的做功为
\begin{equation}
W_{12} = \int_{\mathcal L} \bvec F(\bvec x) \vdot \dd{\bvec x} = \int_{\mathcal L} \bvec F(\bvec x(t)) \vdot \bvec v(t) \dd{t}~.
\end{equation}
如果力场 $\bvec F(\bvec x)$ 是保守场， 那么做功就是势能之差； 如果是非保守场， 做功只能由具体路径决定， 此时 “功”（过程量） 和 “能”（状态量） 的区分就很重要了。 例如动能总可以表示为状态 $\bvec p$ 的函数， 但做功却不行， 因为它不是状态量。 用物理中的符号，该积分可以记为
\begin{equation}
W_{12} = \int \delta W~.
\end{equation}
\end{example}

\begin{example}{热力学第一定律}
另一个例子是\enref{热力学第一定律}{Th1Law}往往记为（未完成：其实这里也应该用 $\delta$ 不是 $\dd{}$）
\begin{equation}
\dd{Q} = P\dd{V} + \dd{E}~,
\end{equation}
或者
\begin{equation}
Q_{12} = \int_1^2 P\dd{V} + \Delta E~.
\end{equation}
但状态空间中的环积分并不总是为零， 例如著名的\enref{卡诺热机}{Carnot}， 即积分取决于路径。 所以 $Q$ 不能看作 $V, E$ 的函数， 也不能记
\begin{equation}
\qty(\pdv{Q}{V})_E = P \qquad \qty(\pdv{Q}{E})_V = 1 \qquad \text{（错）}~.
\end{equation}
\end{example}
这里的下标表示求偏导时把 $E,V$ 分别看作常数（\autoref{sub_ParDer_1}~\upref{ParDer}）。
