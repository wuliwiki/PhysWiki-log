% 大型运算符
% keys 运算符|求和|求积|极限|积分|并集|交集|最值
% license Xiao
% type Wiki

\begin{issues}
\issueDraft
\end{issues}

这篇文章会介绍大型运算符，他们往往代表了一个过程。下面会主要介绍他们的过程、记法以及一些常用的性质。

\subsection{累计运算过程}

累计运算过程一般包括：
\begin{itemize}
\item 求和符号：$\sum$
\item 求积符号：$\prod$
\item 并集符号：$\bigcup$
\item 交集符号：$\bigcap$
\item 析取符号：$\bigvee$
\item 合取符号：$\bigwedge$
\item 上积\footnote{在代数拓扑或范畴论中，通常用来表示某种类型的“上积”或“并”，特别是在集合论或范畴论的背景下。直观上，可以将其视为将多个集合、空间等对象“拼接”在一起的操作。集合论中，上积通常表示它们的“非交并”。}符号：$\coprod$
\item 积分符号：$\int$
\end{itemize}


\subsubsection{记法}

\subsubsection{无穷情况}

有时会出现，下限位置为$-\infty$，上限位置为$+\infty$等情况，比如级数等情况。这种情况并非实指去到对应点，而是指取相应极限，且此时的无穷为可数无穷。即：

\begin{equation}
\sum_{i=-\infty}^n a_i:= \lim_{a\to-\infty}\sum_{i=a}^n a_i.~
\end{equation}

\begin{equation}
\sum_{i=0}^{+\infty} a_i:= \lim_{a\to+\infty}\sum_{i=0}^a a_i.~
\end{equation}

特殊地：
\begin{equation}
\sum_{i=-\infty}^{+\infty} a_i:= \lim_{a\to+\infty\atop b\to-\infty}\sum_{i=b}^a a_i.~
\end{equation}

\begin{example}{设等比级数通项$a_n=a_1q^{n-1}$，用求和符号表示等比级数和}
$$
\sum_{i=1}^{+\infty} a_i=
\leftgroup{
{a_1\over 1-q},\qquad |q|<1\\  
\text{发散},\qquad |q|\geq1
} ~.
$$
\end{example}

\subsubsection{指标集记法}

上面介绍的求和过程，指标集都是$\mathbb{Z}$与某个区间的交集（这样可以保证自增），对于某些不需要自增或无法使用自增的场合，可以直接给定指标集，求和过程记作：

\begin{equation}
\sum_{i\in I} a_i~.
\end{equation}
其中，$I$为指标集。特别的，若$I$为空集，一般称为“空和”，并定义为0，即：
\begin{equation}
\sum_{i\in \varnothing} a_i=0~.
\end{equation}

同时，若通过上下文可以明确指标集$I$或只为表述记号的运算特点而不强调指标集时，在不引起歧义的情况下，为了方便可以直接记作：

\begin{equation}
\sum_i a_i.~
\end{equation}

这样使用时通常不会涉及指标的运算。

\subsection{离散性质}
性质区分为通用性质和专属性质。通用性质是根据累积运算过程得到的，也即是与自然数的性质相关的，而专属性质是由各个运算本身的性质决定的。
由于上积运算不常见，因此下面的性质中暂不涉及上积。
\subsubsection{通用性质}

指标换元时，根据换元的关系，分别更换指标的下限、上限，以及求和通项中的指标。设$k = i+m(m\in{\mathbb Z})$，则：
\begin{equation}
\sum_{i=a}^b g(i) = \sum_{k=a+m}^{b+m} g(k-m).~
\end{equation}


\begin{table}[ht]
\centering
\caption{通用性质}\label{tab_LgOper1}
\begin{tabular}{|c|c|c|c|}
\hline
 & 递归 & 指标换元 & 分组 \\
\hline
求和符号：$\sum$ & $\displaystyle\sum_{i=1}^n a_i=a_n+ \sum_{i=1}^{n-1}a_i$ & * & * \\
\hline
求积符号：$\prod$& $\displaystyle\prod_{i=1}^n a_i=a_n\times \prod_{i=1}^{n-1}a_i$ & * & * \\
\hline
并集符号：$\bigcup$& $\displaystyle\bigcup_{i=1}^n A_i=A_n\cup \bigcup_{i=1}^{n-1}A_i$  & * & * \\
\hline
交集符号：$\bigcap$ & $\displaystyle\bigcap_{i=1}^n A_i=A_n\cap \bigcap_{i=1}^{n-1}A_i$ & * & * \\
\hline
析取符号：$\bigvee$ & $\displaystyle\bigvee_{i=1}^n X_i=X_n\vee \bigvee_{i=1}^{n-1}X_i$ & * & * \\
\hline
合取符号：$\bigwedge$ &$\displaystyle\bigwedge_{i=1}^n X_i=X_n\wedge \bigwedge_{i=1}^{n-1}X_i$  & * & * \\
\hline
\end{tabular}
\end{table}

\subsection{求和运算}

\subsubsection{积分近似}

对于求和项数量非常多的情况，可以利用黎曼和的思想来近似化简，将求和过程转化成\enref{定积分}{DefInt}。

\begin{equation}
\sum_{i=a}^b f(i) \approx \int_a^b f(x) \, dx.~
\end{equation}


\subsubsection{多个求和符号的运算技巧}

有一些场合会出现一个表达式中出现多个求和符号的情形。一如上面所说，展开仍然是通用的方法，但过于复杂会让人望而却步。下面的运算技巧绝对会让化简过程如虎添翼。

交换求和次序

类似于一个表格中，不论是先求行和再求和，还是先求列和再求和，结果都是将所有的数字求一遍。

\begin{equation}
\sum_{i,j} a_{ij}=\sum_{i} \sum_{j} a_{ij} = \sum_{j} \sum_{i} a_{ij}.~
\end{equation}
其中 $\sum\limits_{i,j}$ 表示按任意顺序遍历所有$(i,j)$。

双重求和

两个求和符号的积可以展开为它们每一项组合的积的和。

\begin{equation}
\qty(\sum_i a_i) \qty(\sum_j b_j) = \sum_{i,j} a_i b_j = \sum_i \qty(a_i \sum_j b_j) = \sum_j \qty(b_j \sum_i a_i)~.
\end{equation}

注意：第一个等号从左到右没有条件，但从右到左时需要保证每个变量的独立性，即$a_i$中不包含$j$，$b_j$中不包含$i$。

\begin{example}{用求和符号计算数列$\{a_n\}$的和的平方}
$$\qty(\sum_i a_i)^2 = \sum_{i,j} a_i a_j = \sum_i a_i^2 + 2\sum_{i<j} a_i a_j~.$$
注意区分求和指标，第二步如果写成 $\sum\limits_{i,i} a_i a_i$ 将产生混乱。
\end{example}
\subsection{极限运算过程}

$\lim$

\subsection{极值运算过程}

\begin{itemize}
\item 上确界：$\sup$
\item 下确界：$\inf$
\item 最大值：$\max$
\item 最小值：$\min$
\end{itemize}

上面四个符号均可被$\arg$修饰，表示取得相应边界时的变量取值。

\begin{example}{$\arg$修饰$\max$的含义}
$J=\displaystyle\max_{x\in{\mathrm R}} (1-x^2)$表示，对任意自然数$x$，$1-x^2$的最大值为$J$。计算后可知，$J=1$。

修饰后为$x^*=\displaystyle\arg\max_{x\in{\mathrm R}} (1-x^2)$，表示取最大值$J=1$时的$x$的变量值，可知$x^*=0$。
\end{example}
