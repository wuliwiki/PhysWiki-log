% 三角形面积、海伦—秦九韶公式


\subsection{海伦—秦九韶公式}
\begin{figure}[ht]
\centering
\includegraphics[width=5cm]{./figures/Heron_1.pdf}
\caption{三角形} \label{Heron_fig1}
\end{figure}
\footnote{参考 Wikipedia \href{https://en.wikipedia.org/wiki/Heron's_formula}{相关页面}．}若已知三角形的边长（\autoref{Heron_fig1} ）， 其面积可以用海伦公式计算

\begin{equation}\label{Heron_eq1}
A = \sqrt{s(s-a)(s-b)(s-c)}
\end{equation}
其中 $s = (a+b+c)/2$．

秦九韶公式\footnote{秦九韶公式来自于他的“三斜求积术”，可由勾股定理直接推出．}是与海伦公式等价的一个公式
\begin{equation}
A = \frac{1}{2}\sqrt{a^2b^2-\qty(\frac{a^2+b^2-c^2}{2})^2}
\end{equation}

\subsubsection{用叉乘计算}
若已知三角形顶点的直角坐标， 那么另一种方便的方法是使用 “矢量叉乘\upref{Cross}” 的\autoref{Cross_ex1} 中的方法．

\subsection{海伦—秦九韶公式推导}
\pentry{余弦定理\upref{CosThe}}
设 $a,b,c$ 是三角形中角 $\alpha$、$\beta$、$\gamma$ 相应的对边，那么有
\begin{equation}
A=\frac{1}{2}\text{底}\times\text{高}
=\frac{1}{2}ab\sin\gamma
=\frac{1}{2}ab\sqrt{1-\cos^2\gamma}\\
\end{equation}
由余弦定理\autoref{CosThe_eq1}~\upref{CosThe}，
则上式可写为
\begin{equation}
\begin{aligned}
A&=\frac{1}{2}ab\sqrt{1-\frac{1}{4a^2b^2}(a^2+b^2-c^2)^2}\\
&=\frac{1}{4}\sqrt{4a^2b^2-(a^2+b^2-c^2)^2}\\
&=\frac{1}{4}\sqrt{(2ab+a^2+b^2-c^2)(2ab-a^2-b^2+c^2)}\\
&=\frac{1}{4}\sqrt{[(a+b)^2-c^2][c^2-(a-b)^2]}\\
&=\sqrt{\frac{(a+b+c)}{2}\frac{(a+b-c)}{2}\frac{(c+a-b)}{2}\frac{(c-a+b)}{2}}\\
&=\sqrt{s(s-a)(s-b)(s-c)}
\end{aligned}
\end{equation}
上述过程中的第二式即为秦九韶公式．
\begin{example}{海伦公式的应用}
\begin{figure}[ht]
\centering
\includegraphics[width=5cm]{./figures/Heron_2.pdf}
\caption{四边形的土地}\label{Heron_fig2}
\end{figure}
某农民有一块形状为四边形的土地（\autoref{Heron_fig2} ），现要种植玉米，为了节约成本，农民要计算土地面积以购买适应的种子量，而农民家里只有测距用的米尺，幸而该农民日常有看数学知识的习惯，知道海伦公式可以计算三角形的面积，现用米尺测得以下各顶点之间的距离：
\begin{equation}
\overline{AB}=50\mathrm{m},\overline{AC}=50\mathrm{m},\overline{BC}=80\mathrm{m},\overline{BD}=150\mathrm{m},\overline{CD}=120\mathrm{m}
\end{equation}
则该土地面积 $S$ 为：
\begin{equation}\label{Heron_eq2}
S=S_{\Delta ACD}+S_{\Delta BCD}
\end{equation}
对 $\Delta ABC$ 和 $\Delta BCD$，其海伦公式中的 $s$ 分别为
\begin{equation}
s_{\Delta ABC}=\frac{\overline{AB}+\overline{AC}+\overline{BC}}{2}=90\mathrm{m}
,
s_{\Delta BCD}=\frac{\overline{BC}+\overline{BD}+\overline{CD}}{2}=175\mathrm{m}
\end{equation}


由海伦公式\autoref{Heron_eq1} 
\begin{equation}
\begin{aligned}
&S_{\Delta ABC}=\sqrt{s_{\Delta ABC}(s_{\Delta ABC}-\overline{AB})(s_{\Delta ABC}-\overline{AC})(s_{\Delta ABC}-\overline{BC})}=1200\mathrm{m^2}
\\
&S_{\Delta BCD}=\sqrt{s_{\Delta BCD}(s_{\Delta BCD}-\overline{BC})(s_{\Delta BCD}-\overline{BD})(s_{\Delta BCD}-\overline{CD})}\approx 4781.1\mathrm{m^2}
\end{aligned}
\end{equation}
上式代入\autoref{Heron_eq2} ，得土地面积为
\begin{equation}
S\approx 5961.1\mathrm{m^2}
\end{equation}
\end{example}
