% Singularity 笔记
% license Usr
% type Note

\begin{issues}
\issueDraft
\end{issues}

Singularity 类似于 Docker\upref{Docker}，多用于科学计算（尤其是计算机集群）。因为 docker 的运行需要管理员（root）权限，它在共享的计算机集群中使用时可能会让普通用户获得 root 权限，从而导致安全问题。 Singularity 主要是为了解决该问题产生的。 其次它对科学计算常用框架（例如 MPI）提供了更多便利和优化。

\href{https://docs.sylabs.io/guides/3.0/user-guide/index.html}{官方文档}

\href{https://docs.sylabs.io/guides/3.0/user-guide/quick_start.html#quick-installation-steps}{安装步骤}（有点麻烦）

\textbf{一些特性}
\begin{itemize}
\item 原生支持把已有 docker 镜像转换为 singularity 镜像。
\item 不需要一个 docker 那样服务在后台一直运行。
\item 一个镜像就是一个文件， 后缀名 \verb|.sif|
\end{itemize}


\subsubsection{笔记}
\begin{itemize}
\item 超算上一般直接支持 \verb|singularity| 命令， 不需要用 \verb|module load|。
\item \item \verb|singularity pull docker://用户名/镜像| 可以直接和 docker 一样 pull 一个镜像。
\item \verb|singularity shell 镜像.sif| 可以从镜像中打开一个 shell
\item \verb|singularity exec 镜像.sif 命令 arg1 arg2 ...| 执行镜像中的命令
\item 默认情况下镜像自动挂载镜像外的 \verb|/home/$USER, /tmp, $PWD| 三个文件夹到镜像内。
\end{itemize}
