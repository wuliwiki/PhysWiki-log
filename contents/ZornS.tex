% 佐恩引理（综述）
% license CCBYSA3
% type Wiki

本文根据 CC-BY-SA 协议转载翻译自维基百科\href{https://en.wikipedia.org/wiki/Zorn\%27s_lemma}{相关文章}。

\begin{figure}[ht]
\centering
\includegraphics[width=6cm]{./figures/d0b4921eea445e97.png}
\caption{佐恩引理可以用来证明每个连通图都有一个生成树。所有是树的子图构成一个由包含关系排序的集合，而链的并集是一个上界。佐恩引理指出，必须存在一个极大树，而这个极大树就是生成树，因为图是连通的。\(^\text{[1]}\)对于有限图，例如这里所示的图，实际上不需要使用佐恩引理。} \label{fig_ZornS_1}
\end{figure}
佐恩引理，也称为库拉托夫斯基–佐恩引理，是集合论中的一个命题。它表明，对于一个包含每个链（即每个全序子集）上界的偏序集，该集合必定包含至少一个极大元素。

该引理由卡济米日·库拉托夫斯基于1922年证明（假设选择公理），并由马克斯·佐恩于1935年独立证明。\(^\text{[2]}\)它出现在若干关键性定理的证明中，例如泛函分析中的哈恩–巴拿赫定理、每个向量空间都有一个基的定理，\(^\text{[3]}\) 拓扑学中的泰赫诺夫定理（即每个紧致空间的乘积是紧致的），以及抽象代数中的定理（在带有单位的环中，每个真理想都包含在一个极大理想中，且每个域都有代数闭包）\(^\text{[4]}\)。

佐恩引理与良序定理等价，并且与选择公理等价，意味着在ZF（不含选择公理的泽梅洛–弗兰克尔集合论）中，任何一个引理都足以证明另外两个。\(^\text{[5]}\)佐恩引理的早期表述是豪斯多夫最大原理，它表明给定偏序集的每个全序子集都包含在该偏序集的一个极大全序子集中。\(^\text{[6]}\)
\subsection{动机}  
为了证明一个数学对象的存在，这个对象可以被视为某个偏序集中某种方式下的极大元素，可以尝试通过假设不存在极大元素，并利用超限归纳法和该情况的假设来得到矛盾，从而证明该对象的存在。佐恩引理整理了一个情境需要满足的条件，以便使这种证明方法有效，并使数学家们无需每次都手动重复超限归纳法的论证，而只需检查佐恩引理的条件。

如果你正在分阶段构建一个数学对象，发现（i）即使经过无限多个阶段，你仍然没有完成，且（ii）似乎没有任何东西能阻止你继续构建，那么佐恩引理可能能够帮助你。

— 威廉·蒂莫西·高尔斯，《如何使用佐恩引理》\(^\text{[7]}\)
\subsection{引理的陈述}  
前提概念：
\begin{itemize}
\item 一个集合\( P \)配备一个二元关系\( \leq \)，如果该关系是自反的（即对于每个\( x \)，有\( x \leq x \)）、反对称的（如果\( x \leq y \)且\( y \leq x \)都成立，则\( x = y \)）、传递的（即如果\( x \leq y \) 且 \( y \leq z \)成立，则\( x \leq z \)），那么我们称\( P \) 是通过\( \leq \) 部分有序的。给定\( P \)中的两个元素 \( x \)和\( y \)，如果\( x \leq y \)，则称\( y \)大于或等于\( x \)。词语“部分”表示并非每一对部分有序集中的元素都需要在该顺序关系下可比较，也就是说，在一个带有顺序关系\( \leq \)的部分有序集\( P \)中，可能存在元素\( x \)和\( y \)，使得既不\( x \leq y \) 也不\( y \leq x \)。一个有序集，如果其中每一对元素都可以比较，则称为全序的。
\item 部分有序集\( P \)的每个子集\( S \)可以通过将从\( P \)继承的顺序关系限制到\( S \)上，自己被看作是部分有序的。如果一个部分有序集\( P \)的子集\( S \) 在继承的顺序下是全序的，则称\( S \)是一个链（在\( P \) 中）。
\item 如果部分有序集\( P \)中有一个元素\( m \)，使得没有其他元素大于 \( m \)，即没有\( P \)中的元素\( s \)满足\( s \neq m \)且\( m \leq s \)，则称\( m \)是最大元素（相对于\( \leq \)）。根据顺序关系的不同，部分有序集可能有任意数量的最大元素。然而，完全有序集最多只能有一个最大元素。
\item 给定部分有序集\( P \) 的一个子集\( S \)，如果\( P \)中的元素\( u \)大于或等于\( S \) 中的每个元素，则称\( u \)是 \( S \)的上界。在这里，\( S \)不要求是链，并且\( u \)必须与\( S \)中的每个元素可比较，但不需要是\( S \)的元素。
\end{itemize}
佐恩引理可以表述为：

\textbf{佐恩引理}—\(^\text{[8][9]}\)设\( P \)是一个部分有序集，满足以下两个条件：
\begin{enumerate}
\item \( P \) 非空；
\item \( P \) 中的每个链都有一个上界。
\end{enumerate}
则，\( P \)至少有一个最大元素。

事实上，条件（1）是多余的，因为条件（2）特别指出空链在\( P \)中有上界，这意味着\( P \)是非空的。然而，在实际操作中，人们通常会先检查条件（1），然后仅对非空链验证条件（2），因为空链的情况已经由条件（1）处理。

在布尔巴基的术语中，一个部分有序集称为归纳的，如果每个链在该集合中都有上界（特别地，该集合因此是非空的）\(^\text{[10]}\)。因此，引理可以表述为：

\textbf{佐恩引理}—\(^\text{[11]}\)每个归纳集都有一个最大元素。

对于某些应用，以下变体可能是有用的。

\textbf{推论}—\(^\text{[12]}\)设\( P \)是一个部分有序集，其中每个链都有上界，并且\( a \)是 \( P \) 中的一个元素。则在\( P \)中存在一个最大元素\( b \)，使得\( b \geq a \)。

事实上，设\( Q = \{x \in P \mid x \geq a\} \)，它继承自\( P \)的部分顺序关系。那么，对于\( Q \) 中的一个链，\( P \)中的上界也在\( Q \) 中，因此\( Q \)满足佐恩引理的假设，且\( Q \)中的最大元素也是\( P \)中的最大元素。
\subsection{示例应用}  
\subsubsection{每个向量空间都有一个基} 
佐恩引理可以用来证明每个向量空间\( V \)都有一个基。\(^\text{[13]}\)

如果\( V = \{0\} \)，则空集是\( V \)的基。现在，假设\( V \neq \{0\} \)。设\( P \)是由\( V \)中所有线性无关子集构成的集合。由于\( V \)不是零向量空间，存在一个非零元素\( v \in V \)，因此\( P \)包含线性无关子集\( \{v\} \)。此外，\( P \)按集合包含关系部分有序（见包含顺序）。寻找 \( V \)的一个极大线性无关子集等同于在\( P \)中寻找一个极大元素。

为了应用佐恩引理，取\( P \)中的一个链\( T \)（即 \( T \)是\( P \)的一个全序子集）。如果\( T \)是空集，那么\( \{v\} \)就是\( P \)中\( T \)的一个上界。假设\( T \) 是非空的。我们需要证明\( T \)有上界，即存在一个包含\( T \)中所有元素的线性无关子集\( B \) 。

取\( B \)为\( T \)中所有集合的并集。我们希望证明\( B \) 是\( P \)中\( T \)的一个上界。为了做到这一点，足够证明\( B \)是\( V \)中的一个线性无关子集。

假设相反，\( B \)不是线性无关的。那么存在向量\( v_1, v_2, \dots, v_k \in B \)和标量\( a_1, a_2, \dots, a_k \)，它们并非全为零，满足
\[
a_1 \mathbf{v}_1 + a_2 \mathbf{v}_2 + \cdots + a_k \mathbf{v}_k = \mathbf{0}.~
\]
由于\( B \)是\( T \)中所有集合的并集，存在一些集合\( S_1, S_2, \dots, S_k \in T \)，使得对于每个\( i = 1, 2, \dots, k \)，有 \( v_i \in S_i \)。由于\( T \)是全序的，\( S_1, S_2, \dots, S_k \)中必须有一个集合包含其他所有集合，因此必定存在某个集合\( S_i \)包含\( v_1, v_2, \dots, v_k \)中的所有元素。这意味着\( S_i \)中有一个线性依赖的向量集，然而这与\( S_i \)线性无关的假设相矛盾（因为 \( S_i \)是\( P \)的成员）。

佐恩引理的假设已被验证，因此在\( P \)中存在一个极大元素，也就是说，存在一个 \( V \)的极大线性无关子集\( B \)。

最后，我们证明\( B \)确实是\( V \)的基。足够证明\( B \)是\( V \)的一个生成集。假设为了矛盾，\( B \)不是生成集。那么存在某个\( v \in V \)，它不在 \( B \)的生成子空间内。这意味着\( B \cup \{v\} \)是 \( V \)中一个线性无关的子集，且它比\( B \) 大，这与\( B \) 的极大性矛盾。因此，\( B \)是\( V \)的生成集，从而\( B \)是\( V \)的基。
\subsubsection{每个非平凡的有单位环包含一个极大理想}
佐恩引理可以用来证明每个非平凡的有单位环\( R \)包含一个极大理想。

设\( P \)为\( R \)中所有真理想的集合（即\( R \)中的所有理想，除了\( R \) 本身）。由于\( R \)是非平凡的，集合\( P \)包含平凡理想\( \{0\} \)。此外，\( P \)按集合包含关系部分有序。在\( R \)中寻找一个极大理想等同于在 \( P \)中寻找一个极大元素。

为了应用佐恩引理，取\( P \)中的一个链\( T \)。如果\( T \)是空集，那么平凡理想 \( \{0\} \) 就是 \( P \)中\( T \) 的一个上界。假设\( T \)是非空的。我们需要证明\( T \)有上界，即存在一个理想\( I \subseteq R \)，它包含\( T \)中所有元素，但仍小于\( R \)（否则它就不是一个真理想，因此不在\( P \)中）。

取\( I \)为\( T \)中所有理想的并集。我们希望证明\( I \)是\( P \)中\( T \)的一个上界。我们首先证明\( I \)是\( R \)的一个理想。为了使\( I \)成为理想，必须满足三个条件：
\begin{enumerate}
\item \( I \) 是 \( R \) 的一个非空子集；
\item 对于所有 \( x, y \in I \)，\( x + y \in I \)；
\item 对于所有 \( r \in R \) 和所有 \( x \in I \)，\( rx \in I \)。
\end{enumerate}
\textbf{#1 -\( I \)是\( R \)的一个非空子集。}

因为\( T \)至少包含一个元素，而且该元素至少包含\( 0 \)，所以并集\( I \)至少包含\( 0 \)并且非空。\( T \)中的每个元素都是\( R \)的子集，因此并集\( I \)仅包含\( R \)中的元素。

\textbf{#2 -对于每个\( x, y \in I \)，和\( x + y \in I \)。}

假设\( x \)和\( y \)是\( I \)的元素。那么存在两个理想\( J, K \in T \)，使得\( x \in J \)且\( y \in K \)。由于 \( T \)是全序的，我们知道\( J \subseteq K \)或\( K \subseteq J \)。不失一般性，假设第一种情况成立。由于\( x \)和 \( y \) 都是理想\( K \)的成员，因此它们的和\( x + y \)也是\( K \)的成员，这证明了\( x + y \in I \)。

\textbf{#3 -对于每个\( r \in R \)和每个\( x \in I \)，乘积\( rx \in I \)。}

假设\( x \)是\( I \)的元素。那么存在一个理想\( J \in T \)，使得\( x \in J \)。如果\( r \in R \)，那么\( rx \)是\( J \)的元素，因此也是\( I \)的元素。所以，\( I \)是\( R \)的一个理想。

现在，我们证明\( I \)是一个真理想。一个理想当且仅当它包含 1 时才等于\( R \)。（显然，如果它是 \( R \)，那么它包含 1；另一方面，如果它包含 1，并且\( r \)是\( R \)中的任意元素，那么\( r1 = r \)是理想的元素，因此该理想等于\( R \)。）因此，如果\( I \)等于\( R \)，那么它将包含 1，这意味着\( T \)中的一个成员将包含 1，因此它将等于\( R \)——但是\( R \)被明确地排除在\( P \)之外。

佐恩引理的假设已经验证，因此在\( P \)中存在一个极大元素，也就是说，在\( R \)中存在一个极大理想。
\subsection{证明概述} 
以下是佐恩引理的证明概要，假设选择公理成立。假设该引理是错误的。则存在一个部分有序集（即 poset\( P \)，使得每个全序子集都有上界，并且对于\( P \)中的每个元素，都存在一个更大的元素。对于每个全序子集\( T \)，我们可以定义一个更大的元素\( b(T) \)，因为\( T \)有上界，而该上界有一个更大的元素。

为了实际定义函数\( b \)，我们需要使用选择公理（明确地说：令\(B(T) = \{ b \in P : \forall t \in T, b \geq t \}\),即\( T \)的上界集合。选择公理提供了函数\( b \)，使得\(b: b(T) \in B(T)\)成立）。

使用函数\( b \)，我们将定义\( a_0 < a_1 < a_2 < a_3 < \dots < a_\omega < a_{\omega+1} < \dots \) 这些元素在\( P \)中。这个不可数的序列非常长：索引不仅仅是自然数，而是所有的序数。实际上，这个序列对于集合 \( P \)来说太长了；序数太多了（是一个适当类），比任何集合中的元素还要多（换句话说，给定任何序数集合，总存在一个更大的序数），因此集合\( P \)很快就会耗尽，然后我们就会遇到所需的矛盾。

这些\( a_i \)是通过超限递归定义的：我们在\( P \)中任意选取\( a_0 \)（这是可能的，因为 \( P \)包含空集的上界，因此\( P \)不是空的），对于任何其他的序数\( w \)，我们设定\( a_w = b(\{a_v : v < w\}) \)。因为\( a_v \)是全序的，所以这是一个有根的定义。

上述证明可以不显式地引用序数，通过将初始段\( \{a_v : v < w\} \)作为\( P \)的子集来表述。这些集合可以容易地表征为良序链\( S \subseteq P \)，其中每个\( x \in S \)满足\( x = b(\{y \in S : y < x\}) \)。通过注意到我们总是可以找到“下一个”初始段，无论是通过取所有这样的\( S \)的并集（对应于极限序数情况），还是通过将\( b(S) \)添加到“最后”一个\( S \)（对应于后继序数情况），我们可以得到矛盾。\(^\text{[14]}\)

这个证明实际上表明，佐恩引理的一个稍强版本是成立的：

\textbf{引理}——如果\( P \)是一个部分有序集，其中每个良序子集都有上界，并且如果\( x \)是\( P \)中的任何元素，那么\( P \)中存在一个大于或等于\( x \)的极大元素。也就是说，存在一个与\( x \)可比较的极大元素。

或者，可以使用相同的证明来证明豪斯多夫最大原理。这是例如在 Halmos 的《天真集合论》或下文的证明中给出的证明。

最后，布尔巴基–维特定理也可以用来提供一个证明。
\subsection{证明}  
证明的基本思路是将证明简化为证明佐恩引理的以下弱形式：

\textbf{引理}——设\( F \)是一个由某个固定集合的子集构成的集合，且\( F \)满足以下属性：
\begin{enumerate}
\item \( F \)非空；
\item \( F \)中每个全序子集的并集仍在\( F \)中，其中顺序关系是根据集合包含关系来定义的；
\item 对于 \( F \)中的每个集合\( S \)，每个\( S \)的子集都在\( F \)中。
\end{enumerate}
那么，\( F \)在集合包含关系下具有一个极大元素。

（注意，严格来说，(1) 是多余的，因为 (2) 已经暗示空集属于\( F \)。）请注意，上述内容是佐恩引理的一个弱形式，因为佐恩引理特别指出，满足上述 (1) 和 (2) 的任何子集集合都有一个极大元素（(3) 不需要）。关键是，反过来，佐恩引理可以从这个弱形式推导出来。\(^\text{[15]}\)确实，设\( F \) 是 \( P \)中所有链的集合。然后它满足上述所有属性（它非空，因为空子集是一个链）。因此，根据上述弱形式，我们找到\( F \)中的一个极大元素\( C \)，即\( P \)中的一个极大链。根据佐恩引理的假设，\( C \)在\( P \)中有一个上界\( x \)。然后，这个 \( x \) 是一个极大元素，因为如果\( y \geq x \)，则 \( \widetilde{C} = C \cup \{y\} \) 比 \( C \)更大或相等，因此\( \widetilde{C} = C \)。因此，\( y = x \)。

弱形式的证明可以参见豪斯多夫最大原理的证明部分。事实上，极大链的存在正是豪斯多夫最大原理的断言。

同样的证明还表明了佐恩引理的以下等价变体：\(^\text{[16]}\)

\textbf{引理}——设 \( P \) 是一个部分有序集，其中每个链在 \( P \) 中都有最小上界。那么，\( P \) 中存在一个极大元素。

事实上，显然，佐恩引理蕴含上述引理。反过来，上述引理蕴含前述的佐恩引理的弱形式，因为并集给出了最小上界。