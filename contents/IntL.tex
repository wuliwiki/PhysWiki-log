% 线积分、环积分（矢量分析）
% keys 多元微积分|积分|定积分|线积分|直角坐标系|保守场
% license Xiao
% type Tutor

% 未完成： 提一下环路积分


\pentry{矢量的内积\nref{nod_Dot}，一元矢量函数的积分\nref{nod_IntV}}{nod_7fb2}

\addTODO{标量场的线积分}

我们先来通过一个物理的例子引入\textbf{曲线积分}的概念， 见 “功、功率\upref{Fwork}”。

下面讨论如何在直角坐标系中具体计算线积分。为书写方便，以下省略积分路径 $C_{ab}$。 

将被积曲线的参数方程表示为\footnote{注意这里的 $t$ 不一定代表时间，可以是任意参数，甚至可以是 $x,y,z$ 中的一个。} $x(t),y(t),z(t)$， 则曲线上任意一点都唯一对应一个 $t$ 值。根据微分关系，当 $t$ 增加 $\dd{t}$ 时，曲线上的一小段位移矢量 $\dd{\bvec r} = (\dd{x}, \dd{y}, \dd{z})$ 中
\begin{equation}\label{eq_IntL_1}
\dd{x} = x'(t) \dd{t}~, \qquad \dd{y} = y'(t) \dd{t} ~,\qquad \dd{z} = z'(t) \dd{t}~.
\end{equation}
这样，对曲线上任意一点（对应参数 $t$），$\bvec F$ 可表示成 $t$ 的矢量函数 $\bvec F(t) = \bvec F[x(t),y(t),z(t)]$。  $\bvec F$ 的三个分量\footnote{为了书写简洁，这里定义 $x_1\equiv x, x_2\equiv y,x_3\equiv z$。} 则表示为关于 $t$ 的单变量标量函数
\begin{equation}
F_{x_i}(t) = F_{x_i}[x(t),y(t),z(t)] \quad (i = 1,2,3)~.
\end{equation}


下面将三维空间的线积分转换为三个一元定积分
\begin{equation}\ali{
\int \bvec F(\bvec r) \vdot \dd{\bvec r}  &= \lim_{n \to \infty } \sum_{i = 1}^n \bvec F(\bvec r_i) \vdot \Delta \bvec r_i\\
&= \lim_{n \to \infty } \sum_{i = 1}^n F_x(\bvec r_i)\Delta {x_i} + \lim_{n \to \infty } \sum_{i = 1}^n F_y(\bvec r_i)\Delta{y_i} + \lim_{n \to \infty } \sum_{i = 1}^n F_z(\bvec r_i)\Delta{z_i} \\
&= \int {F_x}(\bvec r) \dd{x}  + \int {F_y}(\bvec r) \dd{y}  + \int {F_z}(\bvec r) \dd{z} ~.
}\end{equation} 
设积分路径 $C_{ab}$ 的起点对应 $t = a$， 终点对应 $t = b$。 结合\autoref{eq_IntL_1}， 上面每一项积分可以表示为 
\begin{equation}\label{eq_IntL_4}
\int F_{x_i}(\bvec r) \dd{x_i}  = \int_a^b F_{x_i} [\bvec r(t)] x_i'(t) \dd{t} \quad (i=1,2,3)~.
\end{equation} 
计算这三个关于 $t$ 的定积分再相加，就可以得出线积分结果。

\begin{example}{计算力场对质点的做功}\label{ex_IntL_1}
令力场为 $\bvec F = \alpha r \,\uvec r$， 一质点从原点出发，沿轨迹 $(x-a)^2 + y^2 = a^2$ 的上半部分移动到 $(a,0)$，求力对质点做的功。 若起点终点不变，轨迹改为延 $x$ 轴，结果又如何？

我们先来建立运动轨迹的参数方程。由于运动是一个圆，我们可以使用圆的参数方程。把角度作为参数 $t$， $t\in [0,\pi]$。
\begin{equation}
\begin{cases}
x(t) = a(1-\cos t)\\
y(t) = a \sin t
\end{cases}~,
\qquad 
\begin{cases}
x'(t) = a \sin t\\
y'(t) = a \cos t
\end{cases}~.
\end{equation}
把力场在直角坐标系中表示为 $\bvec F(x,y) = \alpha (x\,\uvec x + y\,\uvec y)$， 两个分量分别为 $F_x = \alpha x, F_y = \alpha y$。 由\autoref{eq_IntL_4} $(i=1,2)$， 力场对质点做功等于两个定积分之和
\begin{equation}
W = \int \bvec F \vdot \dd{\bvec r} =\int_0^\pi \alpha a(1-\cos t) \cdot a \sin t \dd{t} + \int_0^\pi \alpha a \sin t \cdot a \cos t \dd{t}~.
\end{equation}
注意到第一个积分中的第二项恰好是第二个积分的相反数，所以上式变为
\begin{equation}
\int_0^\pi \alpha a^2 \sin t \dd{t} =2 \alpha a^2~.
\end{equation}

现在来计算延 $x$ 轴的直线轨迹运动的情况。由于轨迹上处处都有 $y=0$， $F_y = 0$，积分只有 $F_x$ 一项。 另外 $x$ 本身就可以作为轨道参数，即 $x(t) = t, y(t) = 0, x\in [0, 2a]$。 代入\autoref{eq_IntL_4} 得做功为
\begin{equation}
W = \int_0^{2a} \alpha x \dd{x} = 2 \alpha a^2~.
\end{equation}
\end{example}

在上例中， 我们发现对于给定的矢量场， 即使路径不同，当起点和终点相同时， 线积分的结果也相同（虽然我们只计算了两条路径， 但这个结论是正确的）。 具有这样性质的矢量场叫做\textbf{保守场}，并总存在一个势能函数。 

\subsection{环积分}

当线积分的路径是一个回路时， 就可以叫做环积分， 也叫回路积分， 此时把积分号写作 $\oint$ 作为强调。
\addTODO{举例， 另外解释一下类似\autoref{eq_BohrEc_3}~\upref{BohrEc} 是什么意思。}
