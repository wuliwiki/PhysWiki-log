% 反函数求导（极简微积分）
% keys 微积分|导数|反函数
% license Xiao
% type Tutor

\pentry{基本初等函数的导数\nref{nod_FunDer}}{nod_2833}

若已知 $f(x)$ 在某个区间上存在反函数 $f^{-1}(x)$， 且二者都在各自的区间上可导， 则 $f(x)$ 的反函数 $f^{-1}(x)$ 的导函数可以用以下公式计算
\begin{equation}\label{eq_InvDer_3}
(f^{-1}(x))' = \frac{1}{f'(f^{-1}(x))} ~.
\end{equation} 
为了消除上式可能产生的歧义，记 $f(x)$ 的导函数为 $h(x)$，  $f(x)$ 的反函数为 $g(y)$。 上式变为
 \begin{equation}
g'(y) = \frac{1}{h(g(y))}~.
\end{equation}

\begin{example}{}\label{ex_InvDer_1}
在区间 $[0, \infty)$ 上， 令函数 $f(x) = x^2$， 那么反函数为 $f^{-1}(y) = \sqrt{y}$， 其定义域就是 $f(x)$ 所有可能的值的区间 $[0, \infty)$。显然，二者在各自的区间上都是处处可导的。 已知 $f'(x) = 2x$ （\autoref{eq_FunDer_2}）， 带入\autoref{eq_InvDer_3} 得反函数的导数为
\begin{equation}
(f^{-1}(y))' = \frac{1}{2\sqrt{y}} \qquad (y \ge 0)~,
\end{equation}
我们也可以通过直接对 $\sqrt{y} = y^{1/2}$ 求导来验证这一结果的正确性。
\end{example}

\subsubsection{反函数存在的条件}
令满足上述条件的某函数和反函数分别为 $f(x)$，  $g(x)$， 在有定义的区间内的任何一对满足 $y = f(x)$ 的 $x$，  $y$ 都满足 $g(y) = x$， 则 $g(y)$ 是 $f(x)$ 的反函数。

只有函数 $y = f(x)$ 在某个区间内连续且单调时才可能存在反函数。 例如\autoref{ex_InvDer_1} 中若令 $f(x)$ 的定义域为所有实数，那么每个 $y > 0$  就对应两个不同的 $x$，从而产生歧义。

\subsection{推导}

\pentry{一元函数的微分、微分近似（极简微积分）\nref{nod_Diff}}{nod_8af0}
% Giacomo: 可以的话还是用更初等的方式吧，微分这个歌概念可比导数复杂多了。

\begin{figure}[ht]
\centering
\includegraphics[width=6cm]{./figures/79ccffc234742152.pdf}
\caption{在同一点处，$f'=\dv*{y}{x}$， $g'=\dv*{x}{y}$， 互为倒数}\label{fig_InvDer_1}
\end{figure}
\addTODO{反函数 $x = f(y)$ 可以把图像翻折一下看，把该图变为左右两个，关于虚线对称}
根据导数和微分的关系， $y = f(x)$ 在曲线上的某点 $(x_0, y_0)$， 有
 \begin{equation}\label{eq_InvDer_1}
\dd{y} = f'(x_0) \dd{x}~.
\end{equation}
同一点也满足 $g(y_0) = x_0$， 且
 \begin{equation}\label{eq_InvDer_2}
g'(y_0)\dd{y} = \dd{x}~.
\end{equation}
对比\autoref{eq_InvDer_1} 和\autoref{eq_InvDer_2}， 得
\begin{equation}
g'(y_0) = \dv{x}{y} = \frac{1}{f'(x_0)}~,
\end{equation}
可见\autoref{fig_InvDer_1} 曲线上同一点处 $f'$ 和 $g'$ 互为倒数。 把 ${x_0} = g(y_0)$ 代入上式，得
\begin{equation}
g'(y_0) = \dv{x}{y} = \frac{1}{f'(g(y_0))}~.
\end{equation} 
上式中， $y_0$ 可以是 $g$ 函数定义域的任意一点，所以
\begin{equation}
g'(y) = \frac{1}{f'(g(y))}~.
\end{equation} 
或者用习惯上的 $x$ 作为自变量，得
\begin{equation}
g'(x) = \frac{1}{f'(g(x))}~,
\end{equation}
