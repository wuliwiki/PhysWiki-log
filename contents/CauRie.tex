% 复变函数的导数、柯西—黎曼条件
% keys 柯西|黎曼|导数
% license Xiao
% type Tutor

\begin{issues}
\issueTODO
\end{issues}

\pentry{复变函数\upref{Cplx}， 全微分\upref{TDiff}}

\begin{definition}{}
类似实函数的导数\upref{Der}， 定义复变函数 $w = f(z)$ （$f:\mathbb C\to \mathbb C$）的导数为
\begin{equation}\label{eq_CauRie_4}
f'(z) = \lim_{h\to 0} \frac{f(z + h) - f(z)}{h}~.
\end{equation}
其中 $h$ 也是一个复数。 极限 $h \to 0$ 在这里是指 $h$ 可以在复平面上以任意方式趋近于 $0$ 都得到同一个极限值， 否则极限不存在。
\end{definition}

对于一元实函数$y=f(x)$， $x$只能沿正负两个方向趋于零; 但对于复函数$w=f(z)=f(x+iy)$，$z$可以沿复平面$x-y$上的任意路径趋于零，因此复变函数可导的条件更复杂。这（\autoref{eq_CauRie_4} ）会让我们联想到二元函数的方向导数\upref{DerDir}, 但由于\autoref{eq_CauRie_4} 中的除法是复数的除法， 所以它比方向导数\upref{DerDir}要更复杂一些。

在复平面的一个开集（链接未完成） $D$ 上， 如果函数 $f(z)$ 处处复可微， 那么它就是一个\textbf{全纯函数（holomorphic function）}也叫做\textbf{解析函数（analytical function）}； 如果除了一些孤立点外处处复可微， 就叫\textbf{亚纯函数（meromorphic function）}。

\subsection{计算复函数的导数}
\begin{itemize}
\item 若写为$w=f(z)$形式，则求导法则、方式完全类似于一元实函数。例如$y=z^2, \dv{y}{z}=2z$.
\item 若写为$w=u(x,y)+iv(x,y)$形式，则由柯西—黎曼条件（\autoref{sub_CauRie_1} ）得$f'(z) = \pdv{u}{x} -\pdv{u}{y} \I = \pdv{v}{y} + \pdv{v}{x}\I$.
\end{itemize}

\subsection{复函数的可导性}\label{sub_CauRie_1}

\begin{theorem}{柯西—黎曼条件}
令 $z = x + y\I$ 且
\begin{equation}
f(z) = u(x, y) + \I v(x, y)~,
\end{equation}
那么 $f(z)$ 在该点可导的充分必要条件是： 实函数 $u,v$ 在复平面的某点 $z$ 可微， 且
\begin{equation}\label{eq_CauRie_1}
\pdv{u}{x} = \pdv{v}{y} \qquad
\pdv{u}{y} = - \pdv{v}{x}~.
\end{equation}
该式被称为\textbf{柯西—黎曼条件（Cauchy-Riemann condition）}，有时简称C-R条件。
\end{theorem}

\begin{example}{指数函数$w=e^z$的可导性}
\pentry{指数函数（复数）\upref{CExp}}
$$w = \E^z = \E^{x + \I y} = \E^x \E^{\I y}=\E^x(\cos y + \I\sin y)~
$$
$$\therefore u=e^x\cos y, v = e^x\sin y~
$$
$$
\therefore
\begin{aligned}
\pdv{u}{x} &= e^x\cos y\\
\pdv{u}{y} &= -e^x\sin y\\
\pdv{v}{x} &= e^x\sin y\\
\pdv{v}{y} &= e^x\cos y\\
\end{aligned}~
$$
可见
\begin{equation}
\pdv{u}{x} = \pdv{v}{y}= e^x\cos y \qquad
\pdv{u}{y} = - \pdv{v}{x}= e^x\sin y~.
\end{equation}
又由于u，v均可微，因此$w=e^z$可导。
\end{example}

若柯西—黎曼条件成立、复函数可导， 函数 $u,v$ 的四个偏导数中只有两个是独立的；函数的$u,v$间也存在某种关联，可以由$u$求出$v$，或由$v$求出$u$(存在待定系数)。

\subsubsection{推导必要性}
其实复变函数并没有什么神秘之处， 我们完全可以把它看成两个二元函数， 用已经熟悉的多元微积分来处理。 根据全微分\upref{TDiff}
\begin{equation}\label{eq_CauRie_2}
\dd{w} = \dd{u} + \I \dd{v} = \qty(\pdv{u}{x} \dd{x} + \pdv{u}{y} \dd{y}) + \qty(\pdv{v}{x} \dd{x} + \pdv{v}{y} \dd{y})\I~.
\end{equation}
该式告诉我们 $z$ 在复平面上朝着某方向 $\dd z = \dd x + \I \dd y$ 移动一小步， 函数值 $w$ 会如何变化。 既然要求各个方向的 “方向导数” 都相等， 我们不妨先考虑两个最简单的方向即 $x$ 方向和 $y$ 方向。 当\autoref{eq_CauRie_4} 中 $h$ 延 $x$ 方向移动时， 令式中 $\dd y = 0$， 即 $\dd z = \dd x$， 有
\begin{equation}
\dv{w}{z} = \frac{\pdv{u}{x} \dd{x} +  \I\pdv{v}{x} \dd{x}}{\dd x} = \pdv{u}{x} +  \I\pdv{v}{x}~.
\end{equation}
同理， 当 $h$ 延 $y$ 方向移动时， 令式中 $\dd x = 0$， 即 $\dd z = \I\dd y$， 有
\begin{equation}
\dv{w}{z} = \frac{\pdv{u}{y} \dd{y} + \I\pdv{v}{y} \dd{y}}{\I \dd y} = \pdv{v}{y} -\I \pdv{u}{y}~.
\end{equation}
令以上两式相等， 即实部虚部分别相等， 就得到柯西黎曼条件\autoref{eq_CauRie_1}。

注意我们只通过两个方向的 “方向导数” 相等就得到了柯西黎曼条件， 所以这只能说明柯西黎曼条件是可导的必要条件\upref{SufCnd}。 下面会用更一般的方法说明它是充分必要条件。

\subsubsection{推导充分必要性}
如果直接由\autoref{eq_CauRie_2} 计算 $\dv*{w}{z} = (\dd{u} + \I \dd{v})/(\dd{x} + \I \dd{y})$ 会发现结果和 $\dd{y}/\dd{x}$ 有关， 即与\autoref{eq_CauRie_4} 中 $h$ 趋近于零点的方向有关。 所以我们换一种思路， 先假设导数存在， 那么导数函数总可以表示为
\begin{equation}
f'(z) = a(z) + b(z)\I~.
\end{equation}
写成微分形式
\begin{equation}
\dd{w} = f'(z)\dd{z}~.
\end{equation}
注意 $\dd z$ 无论取什么方向上式都成立。 拆分实部虚部得
\begin{equation}\label{eq_CauRie_3}
\dd{w} = \dd{u} + \I \dd{v} = (a + b\I)(\dd{x} + \I\dd{y}) = (a \dd{x} - b\dd{y}) + (b \dd{x} + a\dd{y})\I~.
\end{equation}
所以如果 $f(z)$ 存在（与方向无关的）导数， \autoref{eq_CauRie_2} 必然具有\autoref{eq_CauRie_3} 的形式， 二者对比可得
\begin{equation}
a(z) = \pdv{u}{x} = \pdv{v}{y}, \qquad
b(z) = -\pdv{u}{y} = \pdv{v}{x}~.
\end{equation}
这样， 不仅得到了柯西—黎曼条件， 也得到了导数的表达式
\begin{equation}
f'(z) = \pdv{u}{x} -\pdv{u}{y} \I = \pdv{v}{y} + \pdv{v}{x}\I~.
\end{equation}
可见我们仅需要 $u, v$ 中的一个就可以求出导数， 因为它们在柯西—黎曼条件下并不是独立的。

\addTODO{举例子， 例如 $\exp$, $z^a$ 等都满足柯西—黎曼}
