% 导数（高中）
% keys 导数|高中|变化|求导
% license Xiao
% type Tutor

\begin{issues}
\issueDraft
\end{issues}

在学习函数的性质时，曾经提到过函数的\aref{变化率}{sub_HsFunC_4}。其中，\textbf{平均变化率（average rate of change）}的概念类似于计算某段时间内的平均速度，反映了函数在一个区间内的整体变化趋势。当平均变化率所涉及的两个点逐渐靠近，直至几乎重合时，这一变化率便转化为描述局部变化的工具。此时，连线逐渐成为该点处的切线，而平均变化率也演变为\textbf{瞬时变化率（instantaneous rate of change）}，即函数在该点的变化速率。瞬时变化率的另一个名称是\textbf{导数（derivative）}。

平均变化率提供了宏观的变化趋势，而导数则通过精确的数学方法刻画了局部的瞬时变化。导数的应用范围极其广泛，几乎所有涉及变化的领域都能发现它的踪迹。例如，在经济学中，导数用于分析股票价格的涨跌；在气象学中，它可以测量温度的变化速度；在生物学中，它帮助研究细胞分裂的速率。作为研究变化的强大工具，导数为人们提供了一种新的思维方式，帮助深入理解和处理动态问题。

导数的理论基础依赖于\textbf{极限（limit）}，但由于高中阶段未涉及极限的具体内容，因此高中的导数的学习主要聚焦于以下三个方面：
\begin{enumerate}
\item 理解背景和实际意义：掌握导数的几何意义和实际应用场景，理解它与函数其他性质的关系；
\item 熟练计算：学习导数的常见计算规则，能够快速、准确地对复杂函数求导；
\item 解决实际问题：利用导数分析函数性质，在面对恒成立、不等关系等问题时，知道如何构造辅助函数来使用导数解决问题。
\end{enumerate}

导数不仅是理解函数变化的核心工具，也是未来微积分学习的重要基础。高中阶段对导数的熟练掌握，将为进一步研究函数极限与积分打下坚实的基础。

\subsection{导数}

\subsubsection{从理解速度开始}

在谈论导数的定义之前，先从一个生活中的常见情景入手：假设某人开车从家到商场，整个行程花了30分钟，行驶了15公里。通过小学就学过的计算，可以得出这段旅程的\textbf{平均速度}为15公里 ÷ 0.5小时 = 30公里/小时。这种计算方式，是对整个行程的总体描述，表示汽车“平均”每小时行驶的距离。

然而，在实际驾驶过程中，汽车的速度并不是恒定的。坐车时可以看到仪表盘上的速度表，它显示的单位同样是“公里/小时”，但随着行驶情况变化，汽车可能需要减速、加速，甚至短暂停车，它显示的数字也会有时是10公里/小时，有时是80公里/小时，甚至可能短暂为0。这些读数反映的是汽车在某一时刻的速度，也被称为\textbf{瞬时速度}。

瞬时速度与平均速度的差别在于，前者描述的是某一具体时刻的车速，而后者是对整个行程的概括。这两种速度各有用处：平均速度简单直观，但忽略了旅途中车速的变化；瞬时速度则能精确反映某一时刻的状态，但若没有速度表，就没有办法知道瞬时速度。

如果把汽车的运动位置当成一个函数的话，瞬时速度就是这个函数的导数。速度表\footnote{下面探讨的都是电子式的速度表，机械式的原理略有差异。}的显示原理就是在不断地进行导数运算。那么速度表是怎么实现的呢？下面大概介绍一下原理，速度表自己带有一个脉冲信号，他会从0开始不断计数，而且计数间隔的时间非常短。另外，车轮每转一圈它就会记录并重新开始计数。对于一台确定的车，每两个脉冲间隔的时间$t$，车轮的直径为$d$，都是确定的，如果车轮或轴旋转一圈时会触发的脉冲数为$N$，那么速度表的值$v$就是：

\begin{equation}
v={\pi d\over tN}=\frac{\Delta y}{\Delta x}~.
\end{equation}

这里，$\Delta y$表示车轮转一周的路程，$\Delta x$表示对应的时间间隔。这个计算方式本质上仍然是之前熟悉的平均速度计算公式。但如之前所说，人们通常将速度表显示的值视为瞬时速度。那么，为什么这里的平均速度可以作为瞬时速度呢？

这和导数的定义有很大的关系。对于函数的\aref{平均变化率}{def_HsFunC_3}$\displaystyle\frac{\Delta y}{\Delta x}$，如果区间$[a, b]$的两个端点距离非常近，近到几乎无法区分两个端点了，这时一般$\Delta x,\Delta y$都会非常小，这个比值如果稳定存在的话，那么就称这个比值为导数。所以，在实际使用时，如果能够控制这两个值，使得它们达成都比较小的特定条件，就可以近似地认为比值是导数。而这也是几乎所有数字领域实现导数计算的原理。

在速度表的例子中，车轮周长通常在2米左右（即0.002千米），对于“公里/小时”这种单位的速度，速度表需要感知的最低车速约为1公里/小时。也就是说，对应的最小时间间隔约为0.002小时（即7.2秒）。因此，车速较低时，速度表的数值可能会有一定延迟，因为需要完成计数后才能更新，不过这时对于驾驶者影响也不大了。当然前面这是题外话，对于日常使用来说，0.002这个数字已经足够小了，更不用说一般汽车行驶的速度都是几十公里每小时，时间间隔就更小了。因此，才可以基本认为速度表输出的就是瞬时速度。

\subsubsection{导数的定义}

回过头来看，从刚才的描述中，已经从平均变化率与导数的区别得到了导数定义的核心部分，下面以定义形式给出：

\begin{definition}{导数}
若函数$f(x)$在某点$x_0$处的极限
\begin{equation}
\lim_{\Delta x\to 0}{f(x_0+\Delta x)-f(x_0)\over \Delta x}~.
\end{equation}
存在，则称其为$f(x)$在$x_0$处的\textbf{导数（derivative）}，记作$f'(x_0)$。
\end{definition}

在导数的定义中，表达式$f(x_0+\Delta x)-f(x_0)$代表函数值的增量，也就是平均变化率中的$\Delta y$的具体形式，严格对应于自变量的增量$\Delta x$。这一形式表达了函数在某一段增量上的整体变化。

导数定义的核心在于使变量 $\Delta x$ 趋于0，这一点与速度表中基于有限时间间隔的近似结果有着本质区别。速度表中的时间间隔 $t$ 可以缩短到非常小的范围，这在实际应用中已足够精确，但时间间隔与0之间总是有一定距离，因此其计算的速度是一种物理近似。相比之下，数学追求的是严格的逻辑和普遍适用的结论。在速度表的情境中，若 $\Delta x$ 保持为有限值，所得到的速度只能达到有限精度。

而在数学中，讨论的焦点并非“非常小”，而是“无限接近于0”，这一思想通过\textbf{极限（limit）}的概念得以实现。极限关注的是当 $\Delta x$ 趋于0时，分子 $f(x_0 + \Delta x) - f(x_0)$ 的变化量也随之变小，而两者的比值 $\frac{f(x_0 + \Delta x) - f(x_0)}{\Delta x}$ 能不能趋向某个确定值。就像在微风中飘动的风筝，风筝似乎被无数微小风向的变化驱动，但这些微小变化彼此影响，使风筝总体上呈现出某种确定的移动趋势。通过极限可以从根本上消除误差，得出一个“无限精度”的值。这种精确性不仅为数学定义带来了严谨性，也扩展了导数的适用范围，使其能够分析精确到无穷小尺度的变化。

一个常见的疑问是：“$\Delta x$ 是不是等于0？”，因为它在分母上，如果是0，那么就打破了0不能做分母这件事，而如果是一个确定的不是0的数，那么好像，又回到了上面所说的那种物理近似的情况。这一问题曾在历史上引发争议。在牛顿（Isaac Newton）和莱布尼茨（Gottfried Wilhelm Leibniz）建立微积分体系时，\textbf{无穷小（infinitesimal）}的概念被广泛使用，但它们并未对这一概念作出精确的定义。这一漏洞引来了批评，例如贝克莱（George Berkeley）称无穷小为“幽灵般的量”。直到19世纪，魏尔施特拉斯（Karl Weierstrass）通过极限的语言给出了严格的数学定义。无穷小并非一个固定的数值，而是一个绝对值可以任意接近0但永远不为0的\textbf{动态量}。无穷小的引入，使数学能够研究“接近”的行为，而不仅限于“已经到达”的状态。因此，导数描述的是一个动态变化的“接近”行为，而如果不论怎么变化，最终都会变成同样的结果，就说这个导数存在。

\subsubsection{导函数}

导数也是一个对应关系，即每个自变量都对应一个导数，因此他也是一个函数，这个函数称为\textbf{导函数}（不引起歧义时，简称为导数）。导函数和原本的函数是一一对应的，因此可以根据定义或求导方法，来求一个函数的导函数，这个过程就是\textbf{求导}。

\subsection{记号}
由于历史发展和人们长久以来的使用习惯，导函数逐渐衍生出了许多不同的记法。这些记法不仅仅是使用者的偏好选择，还与特定领域的需求和表达习惯密切相关。既为方便计算和推导，也为强调不同的数学概念。了解这些符号的使用，有助于理解求导这个运算，另外在未来见到时，也不至陌生，不要求完全掌握，看个眼熟就好。下面的符号针对函数$y=f(x)$：
\begin{itemize}
\item 拉格朗日记法——$y'$或$f'(x)$，好处是记法比较简洁，便于书写，缺点是难以表达较为复杂的关系。高中数学主要采用这种表示法。某点$x_0$处的导数记作$f'(x_0)$。
\item 莱布尼茨记法——$\displaystyle\frac{\dd y}{\dd x}$  或  $\displaystyle\frac{\dd}{\dd x}f(x)$，好处是在进行某些复杂运算时，分子与分母可以直接按照乘除法的规则来进行运算，降低推导的复杂度。另外，也在形式上代表着变化率。在大学阶段的数学领域主要采用这种表示方法。某点$x_0$处的导数记作$\displaystyle\eval{\dfrac{\dd y}{\dd x}}_{x=x_0}$ 或$\displaystyle\frac{\dd}{\dd x}f(x_0)$。
\item 牛顿记法——$\dot{y}$。由于在物理学中，时间是一个较为特别的变量，一般用这种方法来表示某个变量相对于时间的导数。基本只在物理学领域使用。
\item 重导数记法——$f_x$，这种记法简洁紧凑，又能在复杂关系出现时，避免拉格朗日记法的问题。在偏微分方程和张量分析中常用，尤其是对多重导数关系。
\item 欧拉记法——$Df(x)$，采用$D$算子。主要在大学阶段的微分方程中使用，好处是$D^n f(x)$可以直接修改$n$来表示进行几次求导运算。另外，将求导（微分）视为一种算子，便于与其他运算符进行组合，适合处理复杂的微分运算。
\item 差分导数——$\Delta f(x)$，对于定义域是离散的函数（一般是$\mathbb{Z}$），通常会用这样的符号来表示它的导数，称为\textbf{差分}。
\end{itemize}

在高中阶段，一般要求只使用拉格朗日记法，即$y'$或$f'(x)$，并且不允许使用其他记法。其余的记法可以这样理解：
\begin{itemize}
\item 用$D$运算符代替$\displaystyle\frac{\dd}{\dd x}f(x)$中的$\displaystyle\frac{\dd}{\dd x}$就成了$Df(x)$；
\item 把$\displaystyle\frac{\dd}{\dd x}f(x)$中最重要的两部分$f,x$拿出来显示就成了$f_x$；
\item 在明确自变量的情况下，只强调$\displaystyle\frac{\dd y}{\dd x}$中的$y$就成了$y'$；
\item $\dot{y}$与$y'$异曲同工，只是更着眼于“时间”；
\item $\Delta f(x)$与$Df(x)$只是因为定义域不同，处理方法不同；
\end{itemize}

\subsection{几何含义}

