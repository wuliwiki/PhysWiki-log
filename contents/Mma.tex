% Mathematica 笔记

\pentry{复数\upref{CplxNo}， 自然对数底\upref{E}}

详情参考 Mathematica 的官方文档．
\subsection{常识}
\begin{itemize}
\item 调整字体大小 \verb|Ctrl + 鼠标滚轮|．
\item 快捷键 \verb|Shift + Enter| 执行选中的行．
\item 一行输入多个表达式用分号 “\verb|;|”， 分号也可以用于抑制输出． \verb|a = 3; b = 5; a b|
\item 用 \verb|(*注释*)| 写注释． 注释不会被执行． 也可以选中后按 \verb|Alt + /|．
\item 可以用 \verb|\| 把较长的文本表达断成几行， 每次换行前插入． 粘贴到 notebook 以后会变成一行． 在 notebook 中直接插入会出错．
\item 可以用小数点产生数值解， 例如 \verb|Sqrt[2.]|．
\item 空格表示乘号， 相当于 \verb|*|． 数字和变量间相乘不需要空格或 \verb|*|．
\item 科学计数法如 \verb|2.3*^-70| 表示 $2.3\e{-70}$．
\item 中断执行 \verb|Alt + ,| （笔记本界面） 或者 \verb|Ctrl + C| （文本界面）．
\item 输入 \verb|In[8]|
\end{itemize}

\subsubsection{常数}

\begin{itemize}
\item 圆周率： \verb|Pi| 或 \verb|\[Pi]| 或搜索 \verb|pi|．
\item 自然对数底： \verb|E| 或 \verb|\[ExponentialE]| 或搜索 \verb|ee|．
\item 虚数单位： \verb|I| 或 \verb|\[ImaginaryI]| 或搜索 \verb|ii|． \verb|a + I b| 表示复数， \verb|I| 不能用作其他变量名．
\item 虚数单位： \verb|\[ImaginaryJ]| 或搜索 \verb|jj|．
\item 1° 角的弧度： \verb|Degree| 或 \verb|\[Degree]| 或搜索 \verb|deg|．
\item 无穷： \verb|Infinity| 或 \verb|\[Infinity]| 或收货 \verb|inf|．
\end{itemize}

\begin{itemize}
\item 输入符号用 \verb|Esc| 键搜索， 例如搜索 \verb|pi| 按回车可以插入 \verb|π|． 这相当于输入 \verb|Pi| 或者 \verb|\[Pi]|． 如果你用过 TeX， 也可以按 \verb|Esc| 键后搜索 tex 命令， 例如 \verb|\pi|．
\item 可以在命令行直接粘贴 UTF-8 字符如 \verb|θ|， 注意 \verb|φ| 和 \verb|ϕ| 在一些字体中的形状会调换．
\item 复制一个符号然后粘贴到一个 txt 文档中， 就会得到 \verb|\[...]| 形式的代码．
\item 复制一个表达式然后粘贴到 txt 文档中， 默认会得到含有空格和换行符的 plain text 命令， 相当于选中后右键 \verb|copy as -> input text|． 如果 \verb|copy as -> plain text|， 一些空格和换行符将不会插入．
\end{itemize}

\subsection{快捷键}
\begin{itemize}
\item \verb|Ctrl + 鼠标滚轮| 调整字体大小．
\item \verb|Shift + Enter| 执行选中的行．
\item \verb|Ctrl + L| 调用最近的输入．
\item \verb|Ctrl + Shift + L| 调用最近的输出．
\item \verb|Ctrl + -| 输入下标． 相当于 \verb|Subscript[x, y]|． 注意这不完全是符号， 有运算意义．
\item \verb|Ctrl + 6| 输入上标． 相当于 \verb|x^y|
\item \verb|Ctrl + /| 输入分式， 相当于 \verb|x/y|．
\item \verb|Ctrl + 2| 输入根式， 相当于 \verb|Sqrt[]|．
\item \verb|Alt + )| 或 \verb|Alt + ]| 或 \verb|Alt + }| 插入一对括号， 光标移动到中间．
\item \verb|Alt + 1| 到 \verb|Alt + 6| 不同级别的标题
\item \verb|Alt + 7| 正文
\item \verb|Alt + +| 和 \verb|Alt + -| 用于选中一段文字后改变大小．
\end{itemize}

\subsection{变量}
\begin{itemize}
\item \verb|Head[...]| 可用于判断一个对象的类型， 如 \verb|Head[1]| 是 \verb|Integer|， \verb|Head[Pi]| 是 \verb|Symbol|， \verb|Head[1/5]| 是 \verb|Rational|， \verb|Head[0.2]| 是 \verb|Real|， \verb|Head[I]| 是 \verb|Complex\verb|， \verb|Sin[1]|  是 \verb|Sin|， \verb|Head[2 Pi/3]| 是 \verb|Times|．
\item \verb|Real| 和 \verb|Complex| 用于浮点运算，有误差． 例如计算 \verb|SetPrecision[1.3, 30]| 最后记为不为零． 如果要精确表示 \verb|1.23456789|， 就用 \verb|123456789*^-8|．
\item \verb|SetPrecision[表达式， N]| 会把表达式中可以求出数值的部分都变为 \verb|N| 位有效数字， 例如常数 \verb|Pi|， \verb|E|， 又如 \verb|Sin[1]|． 又如 \verb|SetPrecision[2/3 x + 2 y, 20]|．
\item \verb|?变量| 显示某个变量的定义
\item \verb|Clear[变量名]| 清除某个变量的定义．
\item 数组在 Mathematica 中叫做 \verb|List|， 如 \verb|data = {a, 2, c, d}|， 每个元素可以是任意类型的对象．
\item \verb|T = {{1, 2}, {3, 4, 5}}|， 是列表的列表．
\item \verb|Tableform[T]| 用于显示矩阵（没有括号）．
\item \verb|MatrixForm[T]| 用于显示矩阵（有圆括号）．
\item 高维数组就是一维数组的一维数组的…… 每个维度的长度未必需要相等， 例如 \verb|T = {{1,2}, {3,4,5}}|．
\item \verb|ConstantArray[c, {n1,n2,...}]| 可以生成常数元素的高维数组/矩阵．
\item 数组索引从 1 开始
\item \verb|a[[i]]| 获取一维数组元素， 或者二维数组的第 $i$ 行．
\item \verb|a[[i, j]]| 获取二维数组元素的元素， 或者三维数组的第三维的一行．
\item \verb|a[[All, j]]| 获取一列， \verb|a[[i, All]]| 获取一行．
\item \verb|a[[2;;4]]| 获取第 2,3,4 个元素．
\item \verb|a[[2;;]]| 获取第 2 个到最后一个元素， \verb|a[[;;4]]| 获取第一个到第 4 个元素
\item \verb|a[[2;;9;;3]]| 获取元素 2, 5, 8． \verb|a[[2;; ;;3]]| 获取元素 $2, 5, 8, \dots$ 直到最后．
\end{itemize}

\subsection{算符}
\begin{itemize}
\item \verb|=| 立即赋值（赋值时理科计算右边， 最终结果赋给左边）
\item \verb|:=| 延迟赋值（每次需要左边时都替换为右边）
\item \verb|!=| 不等号
\item 连接字符串 \verb|"abc" <> "defg" <> "hij"|．
\item 单变量的函数 \verb|f[...]| 也可以用后缀形式记为 \verb|... // f| 或者用前缀形式记为 \verb|f @ ...|．
\item \verb|/.| 是 \verb|ReplaceAll[]| 的简写形式， 用于替换表达式中的符号． 例如 \verb|{x, x^2, y, z} /. x -> 1| 的结果是 \verb|{1,1,y,z}|， 又例如 \verb|{x, x^2, y, z} /. {x -> y, y -> z, z -> x}|
\item \verb|Sin'[x]| 相当于 \verb|D[Sin[x], x]|， \verb|Sin''[x]| 相当于 \verb|D[Sin[x], {x,2}]|
\item \verb|x =.| 清除符号 \verb|x| 的定义．
\item \verb|Remove[x]| 完全清除符号．
\item \verb|i++| 和 \verb|++i| 和 \verb|--| 与 C 语言中用法相同．
\item \verb|x ∈ dom| 或 \verb|x \[Element] dom| 相当于 \verb|Element[x, dom]|
\end{itemize}

\subsection{判断循环}
\begin{itemize}
\item 判断如 \verb|If[条件, 真执行命令, 假执行命令]| 其中 \verb|假执行命令| 可以省略．
\item 循环如 \verb|For[i = 1, i <= 10, i++, A[[i]] = i^2]|．
\item 嵌套循环如 \verb|For[i = 1, i <= 10, i++, For[j = 1, j <= 10, j++, A[[i, j]] = i + j]]|．
\item \verb|Break[]| 和 \verb|Continue[]| 和 C 语言用法一样．
\end{itemize}

\subsection{函数}
\begin{itemize}
\item 定义函数 \verb|f[x_, y_] := x^2 + y^2|． 左边的自变量需要用下划线．
\item 更复杂的函数也可以用 \verb|Module[]| 定义如 \verb|f[x0_] := Module[{x = x0}, While[x > 0, x = Log[x]]; x]| 注意 \verb|Module| 定义的函数不支持一些符号运算， 例如 \verb|D[f[x]]| 会得到错误的结果．
\end{itemize}

\subsection{常用函数}
\begin{itemize}
\item \verb|Print["a = ", a, " b = ", b]|．
\item 函数参数中， 下标在上标之前给出， 例如勒让德多项式 $P_n^m(x)$ 为 \verb|LegendreP[n, m, x]|．
\item \verb|Max[x1, x2, ...]| 或 \verb|Min[x1, x2, ...]| 求最大最小值， 参数也可以使用一个 list．
\item 函数 \verb|N[表达式, 有效位数]| 把表达式的结果变为数值， 四舍五入到指定的有效数字， 第二个参数可省略． 例如 \verb|N[Pi]| 计算圆周率的前 5 位， \verb|N[Pi, 1000]| 计算 1000 位．
\item \verb|Re[z]， Im[z]| 计算复数的实部和虚部．
\item \verb|Conjugate[z]| 复共轭， 也可以用 \verb|z\[Conjugate]| 显示为星号．
\item \verb|Abs[z]| 复数的绝对值
\item \verb|Arg[z]| 复数的幅角
\item \verb|Factor[x^25-1]| 因式分解
\item \verb|Expand[(a+b)^3]| 多项式展开
\item \verb|DSolve[{y''[x] + b y'[x] == 0, y[0] == 0, y'[0] == 1}, y[x], x]| 解常微分方程． 也可以省略初始条件获得通解． 也可以在后面加上假设如 \verb|Assumptions -> {a \[Element] Reals}|
\item \verb|Piecewise[{{x^2, x < 0}, {x, x > 0}}]| 分段函数．
\item \verb|Table[i^2, {i,3}]| 输出 \verb|{1, 4, 9}|．
\item \verb|FullSimplify[表达式]| 简化表达式．
\item \verb|Clear["Global`*"]| 清除当前进程中的所有定义．
\item \verb|Range[5]|， \verb|Range[2, 5]| 输出 \verb|{1,2,3,4,5}|， \verb|{2,3,4,5}|．
\item \verb|Map[f, Range[3]]| 输出 \verb|{f[1], f[2], f[3]}|．
\item \verb|/@| 是 \verb|Map| 的简写形式 \verb|f /@ Range[3]|．
\item 分段函数 \verb|f[x_] := 0 /; x < -1| 以及 \verb|f[x_] := 1 /; x > -1 && x < 1| 等．
\item Listable 的函数可以直接 \verb|Sin[Range[3]]|． \verb|Atributes[Sin]|
\end{itemize}

\begin{itemize}
\item \verb|+, -, *, ^| 把两个矩阵进行逐个元素的运算．
\item \verb|Dot| 点乘， 也可以用 \verb|.|． 例如 \verb|{1, 2}.{3, 4}|．
\item \verb|LinearSolve[{{1, 2}, {3, 4}}, {5, 6}]| 解线性方程组．
\item \verb|Eigenvectors[{{1,2},{3,4}}]|， \verb|Eigenvalues[{{1,2},{3,4}}]| 计算矩阵本征值．
\item \verb|MatrixExp[A]| 计算矩阵的指数 $\E^{A}$．
\end{itemize}

\subsubsection{微积分}
\begin{itemize}
\item 求和 \verb|Sum[f, {i, imin, imax}]|
\item \verb|Solve[左边==右边, x]| 求解关于 $x$ 的方程．
\item \verb|Roots[左边==右边, x]| 和 \verb|Solve| 相同， 但结果的格式不同．
\item \verb|Limit[f, x->x0]| 极限 $\lim_{x\to x_0} f$．
\item \verb|Minimize[f, x]|， \verb|Maximize[f, x]| 求函数 $f(x)$ 的最小值/最大值．
\item \verb|Series[f, {x, x0, order}]| 把函数展开成泰勒级数．
\item \verb|D[Sin[x]]|， \verb|D[Sin[x+y],x]|， 导数和偏导数．
\item \verb|Integrate[1/(x^3-1),x]| 不定积分， \verb|Integrate[f,{x, xmin, xmax}]| 定积分, \verb|Integrate[f, {x, xmin, xmax},{y, ymin, ymax},...]| 重积分．
\item \verb|Integrate[(f[x])\[Conjugate] f[x], {x, -\[Infinity], \[Infinity]}, Assumptions -> {\[Sigma] > 0, Subscript[k, 0] > 0, x0 > 0}]| 中使用限制一些常数的范围， 这会大大缩短计算时间， 如果不规定范围， 则默认是任意复数．
\item 若要假设一个数为实数， 用 \verb|Assumptions -> {x \[Element] Reals}|
\item \verb|FourierSeries[函数, 自变量, 项数]|．
\item \verb|FourierTransform[Exp[-x^2], x, k]| 傅里叶变换．
\item \verb|Plot[y[x], {x, -5, 5}]| 简单的画图．
\item \verb|Plot3D[Sin[y+Sin[3x]], {x,-3,3}, {y,-3,3}]| 简单的画图．
\item 在图上拖动鼠标转动 3D 图， 按住 Ctrl 拖动鼠标放大缩小， 按住 Shift 拖动鼠标平移．
\end{itemize}

\subsubsection{数值运算}
\begin{itemize}
\item \verb|NIntegrate[f, {x, xmin, xmax}]| 数值积分．
\item \verb|NSolve[左边==右边, x]| 求解关于 $x$ 的方程．
\item \verb|NMinimize[f, x]|， \verb|NMaximize[f, x]| 求函数 $f(x)$ 的最小值/最大值．
\end{itemize}
