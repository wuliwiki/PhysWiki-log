% 线性映射的张量积
% keys 对称积|反对称积|对称幂|反对称幂
% license Xiao
% type Wiki

\begin{issues}
\issueTODO
\issueOther{可以对照线性算子的张量积\upref{TPofLO}进行阅读}
\end{issues}

\pentry{向量空间的张量积\upref{TPofSp}}

\subsection{线性映射的张量积}

两个线性映射 $f: V \to W$，$g: V' \to W'$ 之间可以定义它们的张量积\footnote{更严格的写法应该是 $\sum_i v_i \otimes v_i' \mapsto \sum_i f(v_i) \otimes g(v_i')$，不过本文的所有映射都是线性映射，所以只需要定义一组基的线性变换即可。}
\begin{equation}
\begin{aligned}
f \otimes g: V \otimes V' &\to W \otimes W', \\
v \otimes v' &\mapsto f(v) \otimes g(v')~.
\end{aligned}
\end{equation}
此时 $f \otimes g \in L(V \otimes V', W \otimes W')$。

% Giacomo: 这个例子没有什么代表性，应当寻找更合适的例子。
% \begin{example}{}
% 考虑 $f: \mathbb{R}^2 \to \mathbb{R}^2, (x, y) \mapsto (y, x)$ 和 $g: \mathbb{R}^2 \to \mathbb{R}^2, (z, w) \mapsto (z, z)$，我们得到
% \begin{equation}
% \begin{aligned}
% (f \otimes g)((x, y) \otimes (z, w)) &= f(x, y) \otimes g(z, w) \\
% &= (y, x) \otimes (z, z)
% \end{aligned}~
% \end{equation}

% \end{example}


从另一个角度来说，全体 $V$ 到 $W$ 的线性映射的集合 $L(V, W)$ 是一个向量空间（参考\autoref{sub_LinMap_1}~\upref{LinMap}），因此可以定义两个线性映射空间之间的张量积 $L(V, W) \otimes L(V', W')$；用这种方法我们也可以定义线性映射的张量积，此时 $f \otimes g \in L(V, W) \otimes L(V', W')$。这两种定义并不完全等价。

要构造两种张量积之间的对应关系，我们需要考虑双线性映射
\begin{equation}
\begin{aligned}
L(V, W) \times L(V', W') &\to L(V \otimes V', W \otimes W')~, \\
(f, g) &\mapsto f \otimes_1 g~,
\end{aligned}
\end{equation}
其中 $f \otimes_1 g \in L(V \otimes V', W \otimes W')$，是第一种张量积。

\addTODO{张量积的万有性质}

由于这个映射是双线性的，根据张量积的万有性质（TODO）可以得到一个唯一的映射
\begin{equation}
\begin{aligned}
\iota: L(V, W) \otimes L(V', W') &\to L(V \otimes V', W \otimes W')~, \\
f \otimes_2 g &\mapsto f \otimes_1 g~,
\end{aligned}
\end{equation}
其中 $f \otimes_2 g \in L(V, W) \otimes L(V', W')$ 是第二种张量积。

\begin{theorem}{}
线性映射空间的张量积是张量积的线性映射空间的子集\footnote{用更严谨的说法是，它们之间存在一个（典范的）线性映射。}，即
\begin{equation}
L(V, W) \otimes L(V', W') \subseteq L(V \otimes V', W \otimes W')~.
\end{equation}
如果 $V, W$ 是有限维度向量空间，那么上述包含关系相等。
\end{theorem}

这个定理中，我们把 $f \otimes_2 g$ 和 $\iota(f \otimes_2 g) = f \otimes_1 g$ 视作了相等，我们要证明的是 $\iota$ 是一个单射。

\textbf{证明：}
如果 $f \otimes_1 g = \iota(f \otimes_2 g) = 0$，这意味着对任意 $v \in V, v' \in V'$，$f(v) \otimes g(v') = (f \otimes_1 g)(v \otimes v') = 0$，即 $f(v)$ 或者 $g(v')$ 等于 $0$；假设 $f$ 不恒等于零，即存在 $v_0 \in V$ 使得 $f(v) \neq 0$，此时对任意的 $v' \in V'$ 我们都有 $g(v') = 0$，换言之 $g = 0$，我们得到了 $f$ 或者 $g$ 中至少有一个为零映射，因此 $f \otimes_2 g = 0$。证得 $\iota$ 是单射。

进一步的，假设 $V, V', W, W'$ 都是有限维度向量空间，维度分别为 $n, n', m, m'$，我们有
\begin{equation}
\dim(L(V, W) \otimes L(V', W')) = n n' m m' = \dim(L(V \otimes V', W \otimes W'))~
\end{equation}
根据秩-零化度定理\upref{MatLS2}可得 $\iota$ 是一个同构映射。

\textbf{证毕。}

对于一般的情况，考虑线性映射 $H: V \otimes V' \to W \otimes W'$，取 $v \in V, v' \in V'$，当且仅当 $H(v \otimes v') \in W \otimes W'$ 正好形如 $w \otimes w'$，我们就能找到
\begin{equation}
h(v) = w, h'(v') = w'~
\end{equation}
使得 $H = h \otimes h'$。

% Giacomo: 这个例子不具有代表性
% 

% \begin{example}{有限维度的例子}
% 对于有限维度来说，一定能找到$w \otimes w' = H(v \otimes v')$。
% $V = V' = W = W' = \left\langle e_1, \dots, e_n \right\rangle$，
% \begin{equation}
% H(e_i \otimes e_j) = \sum_{i' \leq i, j' \leq j} e_{i'} \otimes e_{j'}~,
% \end{equation}
% 这个式子看起来非常复杂，但实际上就是
% \begin{equation}
% (e_1 + \dots + e_i) \otimes (e_1 + \dots + e_j)~.
% \end{equation}

% \end{example}

\begin{example}{无限维度的反例}
$V = V' = W = W' = \left\langle e_1, \dots, e_n, \dots \right\rangle$，
\begin{equation}
H(e_i \otimes e_j) = e_i \otimes e_j + e_{i + 1} \otimes e_{j + 1}~
\end{equation}
由于 $e_i \otimes e_j + e_{i + 1} \otimes e_{j + 1}$ 不可能写成 $w \otimes w'$ 的形式，自然 $H$ 也没法写成两个映射的张量积了。

\end{example}

类似于乘法，我们也可以定义多项的张量积。

\subsubsection{用矩阵表示张量积}

\addTODO{Kronecker product，可以从线性算子的张量积\upref{TPofLO}的第二部分改编过来。}

\subsection{线性映射的张量幂}

\pentry{向量空间的对称/反对称幂\upref{vecSAS}，}

\textbf{二次幂}（平方）是张量积的一种特殊情况，具体而言，考虑线性映射 $f: V \to W$，它和它自己的张量积为
\begin{equation}
f \otimes f: V \otimes V \to W \otimes W~.
\end{equation}

更一般的，$f$ 的 $n$ 阶张量幂为
\begin{equation}
f^{\otimes n}: V^{\otimes n} \to W^{\otimes n}~.
\end{equation}

有趣的事情是，$f^{\otimes n}$ 保留了 $V^{\otimes n}$ 元素的对称/反对称性，
\begin{equation}
\begin{aligned}
f(v_1 \cdots v_k) &= \sum_{\sigma \in S_n} f(v_{\sigma(1)}) \otimes \cdots \otimes f(v_{\sigma(k)}) \\
&= f(v_1) \cdots f(v_k)~,
\end{aligned}~
\end{equation}

\begin{equation}
\begin{aligned}
f(v_1 \wedge \cdots \wedge v_k) &= \sum_{\sigma \in S_n} \opn{sign}(\sigma) f(v_{\sigma(1)}) \otimes \cdots \otimes f(v_{\sigma(k)}) \\
&= f(v_1) \wedge \cdots \wedge f(v_k)~.
\end{aligned}~
\end{equation}

因此可以定义 ${\large \wedge}^k f: {\large \wedge}^k V \to {\large \wedge}^k W$ 和 $\opn{Sym}^k f: \opn{Sym}^k V \to \opn{Sym}^k W$

如果 $f$ 是一个线性算子，即 $f: V \to V$，我们发现 $k$ 阶反对称幂子空间 ${\large \wedge}^k V$ 是 $f^{\otimes n}$ 的不变子空间\upref{InvSP}。