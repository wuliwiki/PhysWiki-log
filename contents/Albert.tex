% 有限阿贝尔群基本定理
% license Xiao
% type Tutor


\pentry{循环群\nref{nod_cyclic}，直积和半直积（群）\nref{nod_GrpPrd}}{nod_54be}
利用商群列的思路，我们可以证明一个阿贝尔群的常用性质：\textbf{阿贝尔群都是循环群的直积。
}要得到这个推论，我们还需要引入2个定理。
\begin{theorem}{}
给定阿贝尔群$G$，对其基数作素因子分解为$|G|=\prod_{i=1}^{k} p_{i}^{l_{i}},l_i\in\mathbb{Z}^+$，各$p_i$不相等。
定义$G_i = \{x \in G \mid x^{p_i^{l_i}} = e\}$，则$|G_i|=p_i^{l_i}$，且对于任意$x\in G$都有分解形式$x=x_1x_2...x_k$。
\end{theorem}
\textbf{证明\footnote{该证明总结自Jier Peter的《代数学基础》。}：}（为方便起见，以下用$O(x)$表示群元素的阶。）

\textbf{首先，我们需要证明对于$|G|$的任意素因子$p$，$G$总有$p$阶子群。}

设$x\in G$，则$\ev x$的基数是$|G|$的因子，设为$s$。$s$至少有一个质因子，设为$p$，则由于$x^{\frac{s}{p}\cdot p}=e$，$\ev {x^{\frac{s}{p}}}$是一个$p$阶循环子群。因此任意群都至少包含一个素数阶循环群。现在，我们可以构造商群列，仿若    ，区别在于每一步所取的循环子群都是素数阶子群，$|G_n|=|G|/(p_1p_2...p_n)$，$p_i$都是$G$的素因子，所以总有一步取到的循环子群阶数就是我们需要的$p$。对于这个循环子群$\ev {x}_p$，其生成元的任意一个代表元素$g$的阶数都是$kp,k\in \mathbb N^{+}$，则$\ev{g^k}$就是$p$阶循环子群。\footnote{也就是说，生成元的整个左陪集的元素阶数都是$p$的整数倍。这是由于该左陪集里任意元素经过$p$步自乘后，都是正规子群的某个元素，而这个元素的阶数又是某个整数。}

现在我们可以构造商群列，每一次在商群中取$p_i$阶循环子群$\ev{x}_{n}$，直到$l_i$步终止\footnote{因为在这之后$|G_i|/|p_i^{l_i}|$里再无因子$p_i$。}。从$G$的视角上看，$\ev x_{l_i}$的阶数是$p_i^{l_i}$，下面证明这个子群就是$G_i$。
为证明方便，设商群列为$G_n=G_{n-1}/\ev x_n$，其中$ n=1,2...l_i$。

对于一个素数阶群，其任意非单位元的元素阶数都是该素数。因此，从$\ev x_2$中任选一元素，其阶数要么是$p_i$，要么是$p_i^2$（因为经$p_i$步后要么是$e$要么是$\ev{x}_1-e$）。以此类推，直到$l_i$步后，对于任意$g\in\ev{x}_{l_i}$都有$O(g)\in\{p,p^2...p^{l_i}\}$，所以$\ev{x}_{l_i}\subset G_i$。又因为$\qty (G-\ev{X}_{l_i})\cap G_i=0$（不然$\qty (G-\ev{X}_{l_i})$包含$p^i(i=\mathbb N^{+})$阶子群），所以$\ev{x}_{l_i}=G_i$，则$|G_i|=p_i^{l_i}$。这样，我们就证明了定理的第一点。接着，我们来证明对于任意$x\in G$，定理所示的分解形式都是存在且唯一的。

设$t=p_2^{l_2}p_3^{l_3}...p_k^{l_k}$，则$t$与$p_1^{l_1}$互素，存在正整数$m$使得$mt\equiv 1(\mathrm {mod} p_1^{l_1})$。任取$x\in G$，则$x^t\in G_1$，设$x_1=x^{tm}$。利用$x^{p_1^{l_1}}=e$，我们有
\begin{equation}
\begin{aligned}
(x_1^{-1}x)^t&=x^{-t^2m}x^t\\
&=x^{-t(-1+mt)}\\
&=x^tx^{-t\cdot mt}\\
&=e~.
\end{aligned}
\end{equation}
阶数是$t$的因子，因此$x_1^{-1}x$的阶数不含素因子$p_1$。
仿照上述过程，设$t_2=p_1^{l_1}p_3^{l_3}...p_k^{l_k}$，存在正整数$\mathbb N^{+}$使得$m_2t_2\equiv 1(\opn{mod}p_2^{l_2})$。设$x_2=x'^{t_2m},x'=x^{-1}x$，则求得$(x_2^{-1}x')^t=(x_2^{-1}x_1^{-1}x)^t=e$。同理可知$x_2^{-1}x_1^{-1}x$的阶数不含有素因子$p_2$。由于整体$x^{-1}x$的幂次，因此阶数是$x^{-1}x$阶数的因子，因此也不含有$p_1$因子。以此类推，最后得到$x_k^{-1}x_{k-1}^{-1}...x_1^{-1}x$，其阶数不含有素因子$p_1,p_2...p_k$，因此为1,相应的$x_1x_2x_3...x_k$就是$x$的分解形式。

设分解形式不唯一，即至少存在两组分量使得$x_1x_2...x_k=h_1h_2...h_k$。由交换性得：$x_1h_1^{-1}x_2h_2^{-1}...x_kh_k^{-1}=e$。然而$e$的分解形式只能是$e$的乘积，因而$x_i=h_i$。

该定理实际上表明的是——阿贝尔群总可以分解为若干阶数为素因子幂的子群内直积，即$G\cong G_{l_1}\times G_{l_2}...G_{l_k}$。对于任意$x\in G$，可同构为$f(x)=(x_1,x_2,...,x_k)$。

在这基础上，我们只需要证明素数阶交换群总可以分解为有限个循环群内直积即可证明阿贝尔群的核心性质。为了让逻辑不至于臃肿，我们先把一部分内容写为如下引理：
% \begin{example}{素数阶循环群的分解}

% \end{example}
\addTODO{需要更多解释}


\begin{lemma}{}\label{lem_Albert_1}
设$G$是$p^n$阶\textbf{阿贝尔群}。

取$G$的非平凡子群$H$，使得：$H=\langle h_1 \rangle\times\langle h_2 \rangle\times\cdots\times\langle h_k \rangle$，其中$h_i\in H$，$(h_1, h_2, \cdots, h_k)=h_1h_2\cdots h_k$；$G/H$是循环群；$\abs{\langle h_i \rangle}=p^{r_i}$和$\abs{G/H}=p^s$，且对于任意$g\in G-H$，$\opn{ord}g\leq \opn{min}\{p^{r_i}\}$。

则存在$x_0\in G-H$，使得$G/H=\langle x_0H \rangle$且$x_0^{p^s}=e$。
\end{lemma}

\textbf{证明}：

取$G/H$的生成元$xH$，则存在$m_i\in \mathbb{Z}^+$使得$x^{p^s}=h_1^{m_1}h_2^{m_2}\cdots h_k^{m_k}$。

\textbf{假设}$p\nmid m_1$，则$\langle x^{p^s} \rangle$是一个\textbf{至少}$p^{r_1}$阶循环群
\footnote{由于$H$是循环群$\langle h_i \rangle$的直积，可知$x^{p^s}$的阶数应该是各$h_i^{m_i}$阶数的最小公倍数；又由$\qty(x^{p^s})^{\opn{ord}x^{p^s}}=e$，可知$\qty(h_1^{m_1})^{\opn{ord}x^{p^s}}=e$，即$p^{r_1}\mid m_1\opn{ord}x^{p^s}$，从而$\opn{ord}x^{p^s}\geq p^{r_1}$。}
，于是$\langle x \rangle$是一个\textbf{至少}$p^{r_1}p^s$阶群，或者说$\opn{ord}x\geq p^{r_1}p^s>p^{r_1}$，这与题设第$3$条矛盾，因此假设不成立，即$p\mid m_i$对各$i$都成立。于是，不妨令
\begin{equation}
    x^{p^s}=h_1^{w_1p^{t_1}}h_2^{w_2p^{t_2}}\cdots h_k^{w_kp^{t_k}}~, 
\end{equation}
其中$p\nmid m_i$对各$m_i$成立，各$t_i<r_i$。

\textbf{如果}$w_1\not=0$，则$h_1^{w_1p^{t_1}}$的阶数是$p^{r_1-t_1}$。这是因为$h_1^{p^{t_1}}$生成了一个$p^{r_1-t_1}$阶循环群，而$p\nmid w_1$所以$w_1$在$\mathbb{Z}/p^{r_1-t_1}\mathbb{Z}$中的阶数就是$p^{r_1-t_1}$，或者说$\qty(h_1^{p^{t_1}})^{w_1}$在$\langle h_1^{p^{t_1}} \rangle$中的阶数就是$p^{r_1-t_1}$。

此时，$x$的阶数就至少是$p^{r_1-t_1}\cdot p^{s}=p^{r_1-(t_1-s)}$。按题设，这个阶数要小于$p^{r_1}$，故有$t_1-s\geq 0$。

这意味着$t_1-s$\textbf{总是非负整数}，从而$-w_1p^{t_1-s}$是整数；\textbf{如果}$w_1=0$，则无论如何$-w_1p^{t_1-s}$还是整数。于是，$h_1^{-w_1p^{t_1-s}}\in \langle h_1 \rangle$。



令
\begin{equation}
    x_0 = x h_1^{-w_1p^{t_1-s}}, ~
\end{equation}

则显然$x_0$即为所求。



\textbf{证毕}。



\begin{theorem}{}
给定$p^k$阶\textbf{阿贝尔群}$G$（$p$为素数），则它可以表示为循环子群的直积。
\end{theorem}


\textbf{证明}：

如果$G$是循环群，则定理成立。下设$G$不是循环群。

取$G$中阶数最大的一个元素$x_1$，设$\opn{ord}x_1=p^{r_1}$。记$H_1=\langle x_1 \rangle$，再取$G/H_1$中阶数最大的元素$x_2H_1$，设$\opn{ord}\qty(x_2H_1) = p^{r_2}$。用$\pi$表示任何自然同态，记$H_2=\pi^{-1}\qty(\langle x_2\langle x_1 \rangle \rangle)$。

显然，$r_1\geq r_2$\footnote{否则$\opn{ord}x_2\geq \opn{ord}\qty(x_2\langle x_1 \rangle)>p^{r_1}$就与“$x_1$阶数最大”矛盾了。}。



显然，$H_1$是循环群的直积，$H_2/H_1$是循环群，且对于任意$g\in H_2-H_1$都有$\opn{ord}g\leq p^{r_1}$。于是由\autoref{lem_Albert_1} ，若设$\abs{H_2/H_1}=p^{r_2}$则存在$h_2\in H_2-H_1$使得$h_2^{p^{r_2}}=e$。


构造映射$f_2:\langle x_1 \rangle\times \langle h_2 \rangle\to H_2$，使得$f_2(a, b)=ab$，则显然$f_2$是一个群同态。由于$h_2^{p^{r_2}}=e$，可知$ab=e\implies a=b=e$\footnote{若$h_2^{p^{r_2}}\not=e$，则存在$z\in\mathbb{Z}$使得$h_2^{p^{r_2}}=a^z$，于是$f(a^{-z}, h_2^{p^{r_2}})=e$。}。由此可知$f_2$是群同构。

因此，$H_2$是循环群的直积。

接下来，取$G/H_2$中阶数最大的元素$x_3H_2$，设$\opn{ord}\qty(x_3H_2)=p^{r_3}$，则类似地有：$\forall g\in H_3-H_2 \opn{ord}g\leq p^{r_2}\leq p^{r_1}$\footnote{否则与“$x_2H_1$是$G/H_1$中阶数最大的元素”矛盾。}，且$H_3/H_2$是循环群。于是和$H_2$同理，$H_3$也是循环群的直积。以此类推，可得$G$是循环群的直积。

\textbf{证毕}。












% \begin{theorem}{}
% 给定$p^k$阶阿贝尔群$G$（$p$为素数），则它可以表示为循环子群的直积。
% \end{theorem}
% 当$G$是循环群时，定理自然成立（待证），下面证明$G$并非循环群的一般情况。

% 设$G_1$是$G$的一个非平凡极大循环子群，再取另一个极大循环子群的形式为$\ev x G_1$，其中$\ev x$是$G$的一个循环群。由\autoref{the_NormSG_1} 和\autoref{the_NormSG_2} 可知，$\ev{x}G_1/G_1\cong \ev{x}/(\ev{x}\cap G_1)$，且若$\ev{x}\cap G_1\neq {e}$，总可以找到$y\in \ev x$使得$\ev y\cap G_1={e}$，同时满足$\ev xG_1=\ev y G_1$。

% 易证$\ev yG_1\cong \ev{y}\times G_1$\footnote{由于$G_1$是不变的，验证该性质时使之为$e$即可。画出韦恩图，你会发现，该同构实际上是把陪集映射到对应的点上，这也是我们要找到$\ev y$的原因，使得每个陪集只包含$\ev{y}$的一个点。}。然后我们来看$G/G_1\ev{y}$，若结果是$\{e\}=eG_1\ev{y}$，定理自然得证。若结果并不是这个极大循环子群，那么我们可以用$G$继续商去$G_1\ev{y}$，在商群里找到另一个元素$y_2$，重复上述过程，不断扩充正规子群，在有限步后$G/{\ev y_n}=\{e\}$，相应的，我们就成功把该阿贝尔群分解为循环子群的直积。

结合上述定理，我们就得到了这节的重要推论。

\begin{corollary}{有限阿贝尔群基本定理}
阿贝尔群都可以分解为循环子群的直积，且循环子群的阶数是素数的幂。
\end{corollary}
尽管有限阶阿贝尔群并不一定是循环群，但是这个推论告诉我们，其总可以分解为循环群的直积。那么，有限阶阿贝尔群在什么情况下才是循环群呢？下面，我们来给出它的充要条件。
\begin{theorem}{}\label{the_cyclic_5}
设$G$是有限阶阿贝尔群，则$G$是循环群当且仅当$|G|$是使$a^n=e$对一切$a\in G$都成立的最小者。
\end{theorem}

\textbf{证明\footnote{参考自姚慕生的《抽象代数学》}：}
设$G=\ev{a}$，由\autoref{the_Group_3} 可知对于任意元素$a^r$，其阶数为$\frac{|G|}{gcd(|G|,r)}$，因此$|G|$作为群元阶数的最小公倍数，确实是使得$a^n=e$对任意$a\in G$都成立的最小者。

反过来需要证明$G$是循环群。若存在$a\in G$且$O(a)=|G|$，则$G$包含$\ev{a}$，又因为$|\ev{a}|=|G|$，因此$G=\ev{a}$。假若不存在阶数为$|G|$的群元，则假设$a'$的阶数$m$最大，设任意群元$b$的阶数为$k\neq m$，则$k$必须是$m$的因子。如若不然，可以证明，群元交换的性质会使得$G$存在一个阶数为$mk$最小公倍数的群元，违背了群元阶数小于或等于$m$的题设，证毕。

\begin{corollary}{}
$\mathbb{Z} / m \mathbb{Z} \times \mathbb{Z} / n \mathbb{Z}$是循环群当且仅当$\opn{gcd}(m,n)=1$
\end{corollary}
\textbf{证明：}设$G=\mathbb{Z} / m \mathbb{Z} \times \mathbb{Z} / n \mathbb{Z}$，由直积定义可知$|G|=mn$。对于任意群元$a\in \mathbb{Z} / m \mathbb{Z},b\in \mathbb{Z} / m \mathbb{Z}$,存在$m,n$的公倍数$k$使得$(a,b)^k=(e,e)$，则$k$最小为$m,n$的最小公倍数，即$mn/\qty(gcd(m,n))$。所以由\autoref{the_cyclic_5}  可知，$G$是循环群当且仅当$gcd(m,n)=1$。