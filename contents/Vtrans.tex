% 速度的坐标系变换
% 速度|坐标系|参考系|速度叠加|相对速度

% 主要是说明科里奥利力词条中的

\pentry{几何矢量\upref{GVec}}

\subsection{无相对转动}
若两个坐标系 $S$ 和 $S'$ 之间无相对转动（注意我们不要求坐标轴 $\uvec x, \uvec y, \uvec z$ 和 $\uvec x', \uvec y', \uvec z'$ 同方向）， 那么某时刻两坐标系之间的相对速度是唯一确定的， 即 $S'$ 系中任意一个固定点相对于 $S$ 系任意一个固定点的速度． 我们把 $S'$ 系相对于 $S$ 系的速度记为 $\bvec v_r$ 根据高中所学的速度叠加原理， 若某点 $P$ 相对于 $S$ 系的速度瞬时为 $\bvec v_S$， 相对于 $S'$ 的瞬时速度为 $\bvec v_{S'}$ 我们有
\begin{equation}\label{Vtrans_eq1}
\bvec v_{S} = \bvec v_{S'} + \bvec v_r
\end{equation}
其中三个矢量都可以是时间的函数． 注意该式与点 $P$ 的位置无关只和速度有关．

注意\autoref{Vtrans_eq1} 中的矢量都是不依赖于坐标系的几何矢量， 不能将 $\bvec v_S$ 和 $\bvec v_S'$ 等同于点 $P$ 在 $S$ 系和 $S'$ 系中的三个位置坐标的求导． 如果要将\autoref{Vtrans_eq1} 写成分量的形式， 三个矢量必须使用同一坐标系． 我们来举例说明．

\begin{example}{}\label{Vtrans_ex2}
令 $\uvec y' = \uvec x$， $\uvec z' = \uvec y$， $\uvec x' = \uvec z$， $\bvec v_r = 2\uvec x = 2\uvec y'$， 点 $P$ 在 $S$ 系中坐标关于时间的导数为 $(1, 2, 3)$． 请将\autoref{Vtrans_eq1} 表示为三个分量的形式．

容易得出， 点 $P$ 在 $S'$ 系中的坐标关于时间的导数为 $(3, -1, 2)$．

我们先来看错误的理解： 将 $\bvec v_S$ 等同于 $(1, 2, 3)$， $\bvec v_{S'}$ 等同于 $(3, -1, 2)$,  这时会发现， 无论 $\bvec v_r$ 取 $(2, 0, 0)$ 还是 $(0, 2, 0)$ 都不能让等式对三个分量同时成立．

正确的做法是将三个矢量都放到同一坐标系中． 先使用 $S$ 系， $\bvec v_S$ 的分量仍然取 $(1, 2, 3)$， $\bvec v_{S'}$ 在 $S$ 系中为 $(-1, 2, 3)$， $\bvec v_r$ 在 $S$ 系中取 $(2, 0, 0)$． 这样\autoref{Vtrans_eq1} 就成立了．

也可以三个矢量都放到 $S'$ 系中， 有 $(3, 1, 2) = (3, -1, 2) + (0, 2, 0)$， 同样成立．
\end{example}

对于一般的情况， 两参考系中矢量的坐标变换需要使用空间旋转矩阵\upref{Rot3D}．

\subsection{一般情况}
对于任意两个坐标系， 他们之间的相对运动除了平移可能还有转动， 即 $\uvec x, \uvec y, \uvec z$ 和 $\uvec x', \uvec y', \uvec z'$ 之间的关系可能随时间变化． 这时\autoref{Vtrans_eq1} 是否仍然成立呢？

要回答这个问题我们首先要修改 $\bvec v_r$ 的定义． 按照上一节的定义， 如果坐标系间存在相对转动， $\bvec v_r$ 将与两个固定点的选取有关． 若定义某时刻点 $P$ 在两坐标系中的坐标分别为 $(x_p, y_p, z_p)$ 和 $(x_p', y_p', z_p')$， 则 $\bvec v_r$ 可以定义为 $S'$ 系中的固定点 $(x_p', y_p', z_p')$ 相对于 $S$ 系中的固定点 $(x_p, y_p, z_p)$ 的瞬时速度． 这时仍有
\begin{equation}\label{Vtrans_eq2}
\bvec v_{S} = \bvec v_{S'} + \bvec v_r
\end{equation}
再次强调， 这三个矢量也是不依赖坐标系的几何矢量． 若要记为分量的形式需要使用同一坐标系．

\begin{example}{}\label{Vtrans_ex1}
令 $S'$ 系 $t = 0$ 时与 $S$ 系重合并绕 $z$ 轴逆时针以角速度 $\omega$ 转动（不一定为匀速）， 又令点 $P$ 的运动方程为 $\bvec r(t) = \alpha t \uvec x'$， 验证\autoref{Vtrans_eq2}．

首先将 $\bvec r(t)$ 用 $\uvec x, \uvec y$ 基底表示为
\begin{equation}
\bvec r(t) = \alpha t (\cos\omega t\, \uvec x + \sin\omega t\, \uvec y)
\end{equation}
将 $\uvec x, \uvec y, \uvec z$ 视为常矢量， $\bvec r(t)$ 关于时间求导得点 $P$ 相对于 $S$ 系的速度
\begin{equation}
\bvec v_S = \alpha (\cos\omega t \,\uvec x + \sin\omega t \,\uvec y)
+ \alpha\omega t (-\sin\omega t \,\uvec x + \cos\omega t \,\uvec y)
\end{equation}
将 $\uvec x', \uvec y', \uvec z'$ 视为常矢量， $\bvec r(t)$ 关于时间求导得点 $P$ 相对于 $S'$ 系的速度
\begin{equation}
\bvec v_{S'} = \dv{t} (\alpha t \uvec x') = \alpha \uvec a = \alpha (\cos\omega t\, \uvec x + \sin\omega t \,\uvec y)
\end{equation}
最后， $t$ 时刻两坐标系在点 $P$ 处的相对速度（见\autoref{CMVD_eq5}\upref{CMVD}）为
\begin{equation}
\begin{aligned}
\bvec v_r &= \bvec\omega \cross \bvec r = (\omega \uvec z') \cross (\alpha t \uvec x') \\
&= \alpha\omega t \uvec z'\cross\uvec x' = \alpha\omega t \uvec y' = \alpha\omega t(-\sin \omega t \,\uvec x + \cos\omega t \,\uvec y)
\end{aligned}
\end{equation}
将以上三式代入\autoref{Vtrans_eq2} 可验证其成立． 注意以上我们将所有的矢量用 $\uvec x, \uvec y, \uvec z$ 基底表示三个矢量， 同理我们也可以将所有矢量用 $\uvec x', \uvec y', \uvec z'$．
\end{example}

\subsection{证明}
（未完成）% 画个三角形即可
