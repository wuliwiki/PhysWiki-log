% 端点可变问题
% 端点可变|泛函极值|全微分


\pentry{极端曲线\upref{ExtCur}}
\subsection{问题的提出}\label{EPQue_sub1}在前面的问题中，总是取以两个固定点为端点的曲线作为可取曲线\upref{DesCur}。现在，我们研究以更广泛的曲线作为可取曲线的泛函极值问题。

设函数 $F(x,y,y')$ 满足普通的连续性及可微性条件；此外，在 $xOy$ 平面上，给定两个 $C_1$ 类的曲线 $\varphi$ 及 $\psi$：
\begin{equation}
y=\varphi(x),\quad y=\psi(x)~.
\end{equation}
在此规定下，我们的\textbf{问题}可叙述如下：

取端点分别在曲线 $\varphi$ 及曲线 $\psi$ 上的 $C_1$ 类中全体曲线 $\gamma$，作为可取曲线族。现在要求泛函
\begin{equation}\label{EPQue_eq1}
J(\gamma)=\int_\gamma F(x,y,y')\dd x
\end{equation}
的极值，其中积分是沿曲线 $\gamma$ 而取的。

注意到：若某一以 $A$ 和 $B$ 为端点的曲线 $\gamma_0$ 是本问题的解，即 $\gamma_0$ 给积分\autoref{EPQue_eq1} 以极值，那么这一曲线 $\gamma_0$ 也在连接 $A$ 及 $B$ 的所有 $C_1$ 类曲线中，给 $J$ 以极值。由最简单问题时的欧拉定理\upref{ElueEV}，曲线 $\gamma_0$ 满足欧拉方程
\begin{equation}
F_y-\dv{}{x}F_{y'}=0~.
\end{equation}

这就是说，若以可取曲线族中的极端曲线构成新的可取曲线族，得到的使 $J$ 取极值的曲线和以 $C_1$ 类曲线作为可取曲线族时得到的是同一条曲线。
\subsection{$J(\gamma)$ 对极端曲线的微分} 
\begin{theorem}{}\label{EPQue_the1}
泛函 $J$ \autoref{EPQue_eq1} 对极端曲线（其起点和终点坐标分别为 $x_0,y_0;x_1,y_1$）的微分为
\begin{equation}\label{EPQue_eq5}
\begin{aligned}
&\pdv{J}{x_0}=-(F-y'F_{y'})^{(0)},\quad \pdv{J}{y_0}=-F_{y'}^{(0)}\\
&\pdv{J}{x_1}=(F-y'F_{y'})^{(1)},\quad \pdv{J}{y_1}=F_{y'}^{(1)}\\
&\dd J=-[(F-y'F_{y'})^{(0)}\delta {x_0}+ F_{y'}^{(0)}\delta y_0]+[(F-y'F_{y'})^{(1)}\delta {x_1}+F_{y'}^{(1)}\delta y_1]~.
\end{aligned}
\end{equation}
其中，\textbf{指标 ${(0)},{(1)}$ 在这里及以后（特指变分学相关词条）都表示对应的函数值是取在弧的起点及终点上}。
\end{theorem}
\subsubsection{证明}
设 $\gamma_0$ 是起点为 $A$ 终点为 $B$ 的极端曲线，考虑临近于它的极端曲线族 $\{\gamma\}$ ，它们的端点在 $A,B$ 的某二邻区内。假设 $\{\gamma\}$ 中只有唯一的弧通过每二端点，则 $\{\gamma\}$ 中每一条弧将由它们的起点和终点坐标 $x_0,y_0;x_1,y_1$ 决定，即在族 $\{\gamma\}$ 上的泛函 $J(\gamma)$ 变成弧 $\gamma$ 的端点的坐标函数：$J(\gamma)=J(x_0,y_0,x_1,y_1)$。于是当变数微分为 $\delta x_0,\delta y_0,\delta x_1,\delta y_1$ 时，就有
\begin{equation}
\dd J=\qty(\pdv{J}{x_0}\delta x_0+\pdv{J}{y_0}\delta y_0)+\qty(\pdv{J}{x_1}\delta x_1+\pdv{J}{y_1}\delta y_1)~.
\end{equation}
1。\textbf{首先}，考虑 $x_0,x_1$ 固定的族 $\{\gamma\}$ 中的曲线构成的部分族（弧 $\gamma$ 的端点在两条平行于 $y$ 轴的直线上流动），于是这个部分族只含两参变数 $y_0,y_1$，且在该部分族上微分与变分重合。设 $y=y(x)$ 与 $y=y(x)+\delta y(x)$ 是这个部分族中的两条无限接近的极端曲线弧。于是 $y_0=y(x_0),y_1=y(x_1)$，并令 $\delta y_0=\delta y(x_0),\delta y_1=\delta y(x_1)$。于是，\textbf{从弧 $y=y(x)$ 到 $y=y(x)+\delta y(x)$ 的变分 $\delta J$ 等于取在前一弧上的积分\autoref{PolReq_the1}~\upref{PolReq}}
\begin{equation}\label{EPQue_eq2}
\delta J=\int_{x_0}^{x_1}(F_{y}\delta y+F_{y'}\delta y')\dd x~.
\end{equation}
注意到\autoref{VarCha_eq5}~\upref{VarCha}，并利用分部积分\upref{IntBP}，得
\begin{equation}
\int_{x_0}^{x_1}F_{y'}\delta y' \dd x=F_{y'}^{(1)}\delta y_1-F_{y'}^{(0)}\delta y_0-\int_{x_0}^{x_1}\qty(\dv{}{x}F_{y'})\delta y\dd x~.
\end{equation}
于是\autoref{EPQue_eq2} 化为
\begin{equation}
\begin{aligned}
\delta J&=F_{y'}^{(1)}\delta y_1-F_{y'}^{(0)}\delta y_0+\int_{x_0}^{x_1}\qty(F_y-\dv{}{x}F_{y'})\delta y\dd x\\
&=F_{y'}^{(1)}\delta y_1-F_{y'}^{(0)}\delta y_0~.
\end{aligned}
\end{equation}
其中，积分项为0是因为弧 $y=y(x)$ 为极端曲线，满足欧拉方程。

同时，因为对该部分族有
\begin{equation}
\delta J=\dd J=\pdv{J}{y_0}\delta y_0+\pdv{J}{y_1}\delta y_1~,
\end{equation}
比较上面两式得
\begin{equation}
\pdv{J}{y_0}=-F_{y'}^{(0)},\quad \pdv{J}{y_1}=F_{y'}^{(1)}~.
\end{equation}
2。\textbf{现在}，考虑另一部分族，它由同一条极端曲线 $y=y(x)$ 组成（见末尾的注），这些弧的起止点坐标有下列关系
\begin{equation}
\delta y_0=y'(x_0)\delta x_0=y'_0\delta x_0,\quad \delta y_1=y'(x_1)\delta x_1=y'_1\delta x_1~.
\end{equation}
于是，微分 $\dd J$ 的表示化为
\begin{equation}\label{EPQue_eq3}
\dd J=\qty(\pdv{J}{x_0}+y'_0\pdv{J}{y_0})\delta x_0+\qty(\pdv{J}{x_1}+y'_1\pdv{J}{y_1})\delta x_1~.
\end{equation}
另一方面，按对积分上下限求微分法则，从
\begin{equation}
J=\int_{x_0}^{x_1}F(x,y,y')\dd x~,
\end{equation}
得到
\begin{equation}\label{EPQue_eq4}
\dd J=F^{(1)}\dd x_1-F^{(0)}\dd x_0~.
\end{equation}
比较\autoref{EPQue_eq3} ，\autoref{EPQue_eq4} 得到
\begin{equation}
\begin{aligned}
&\pdv{J}{x_0}=-F^{(0)}-y'_0\pdv{J}{y_0}=-(F-y'F_{y'})^{(0)}~,\\
&\pdv{J}{x_1}=F^{(1)}-y'_1\pdv{J}{y_1}=(F-y'F_{y'})^{(1)}~.
\end{aligned}
\end{equation}

综合 1，2，便得\autoref{EPQue_eq5} 。定理得证！

\textbf{注：}
\begin{enumerate}
\item 证明中，1中加黑体处（\autoref{EPQue_eq2} 前）表明仅需起始弧为极端曲线弧，而不要求移动的弧是极端曲线弧，即当族 $\{\gamma'\}$ 不是极端曲线族，但包含着极端曲线 $\gamma_0$ ，那么定理仍成立；
\item 在证明中的2部分，之所以能这样取部分族是因为，点 $A,B$ 是面上的点，那么它们各自的邻区当然是以它们为中心的一个圆了，那么这样取的部分族只需要在这个圆内延长曲线的端点就行了。
\end{enumerate}
\subsection{问题的解决}
给出问题中泛函以极值的曲线的端点满足的方程称为\textbf{斜截条件}\upref{OCCond}，解该方程就能得到所要的曲线的端点，那么所要的曲线就是端点满足斜截条件的极端曲线。