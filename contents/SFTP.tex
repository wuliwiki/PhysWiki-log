% FTP/SFTP 笔记

\subsection{FTP}
\begin{itemize}
\item FTP 软件可以用来在 linux 上面上传下载文件。 但一般为了安全建议用 SFTP。
\item 只要 ssh\upref{SSH} 可以连上 sftp 理论上就可以（包括 \verb|~/.ssh/config| 里面的设置）。
\item 其中一个软件叫做 vsftpd (very secure file transfer portal)
\item 安装方法 \verb`sudo apt-get  install vsftpd`
\item 设置文件 的储存路径是 /etc/vsftpd.conf, 确保其中的命令 \verb|local_enable = YES| 和 \verb|write_enable = YES|  没有被注释掉。
(if read only, use "sudo vi vsftpd.conf")
\item 为使 ftp server 的 config 文件生效， 必须 restart server. 用 sudo service vsftpd restart 或 stop 或 start
\end{itemize}

\subsection{Filezilla}
\begin{itemize}
\item 比起 Filezilla 和 WinSCP， 还是强烈推荐 MobaXterm， 直接集成 ssh 和 sftp
\item Filezilla 是其他电脑上的传文件程序。
\item 登录与 SSH 相同。 host 框输入 ip 地址， 用户名和密码登录， port 22, 即可。 以后登录可以用 Quickconnect 按钮右边的箭头选择账号直接登录。
\item 可以同时打开多个窗口。
\end{itemize}

\subsection{WinSCP}
\begin{itemize}
\item 比起 Filezilla 和 WinSCP， 还是强烈推荐 MobaXterm， 直接集成 ssh 和 sftp
\item 在 windows 中， 感觉 WinSCP 比 Filezilla 要人性化要强大
\item select explorer mode when installing.
\item save connection, automatic login, create desktop shortcut, etc.
\item 后台传输： View > Preferences > Transfer > Background > Transfer on background by default
\item 如果无法显示中文， 可以试试在 WinScp 的登录界面点 Advanced > server environment > UTF-8 encoding for filenames 关闭。 如果还不行， 可以试试重新上传文件。
\item 可以先登录一个服务器然后再像命令行一样 ssh 到另一台服务器（叫做 tunneling）, 在 SCP 中新建链接， 窗口中填写最终服务器的登录信息（如 ut15a24p）, 然后选 advanced -> tunnel, 填写中间服务器的登录信息即可。
\item 更新文件夹（如 littleshi.cn/online）可以用工具栏中的同步选项（选 make remote up to date）， 这样如果本地文件的修改时间比服务器上的文件新， 就会自动上传。 另外如果普通上传方法经常卡住， 也可以用同步试一试。
\end{itemize}

\subsection{Windows Network Drive}
\begin{itemize}
\item 想把 sftp 目录映射到 windows 作为网络磁盘？ 目前还做不到。 然而 ftp 可以。 对于 Mac 共享， 可以使用 SMB (详见 Mac 笔记).
\end{itemize}
