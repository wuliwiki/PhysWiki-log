% 一些反直觉的概率问题
% keys 反直觉|三门|性别比|生日悖论|患病可能|贝叶斯
% license Usr
% type Wiki

在概率学中，有很多日常生活中会遇到的问题，不过，由于人们的直觉并不适合处理概率，造成很多概率问题的结论是反直觉的。下面介绍的六个问题是比较典型的问题

\subsection{抽签中的生日悖论}

\subsubsection{问题与结论}

问题：
在一个 23 人的房间里，至少两个人生日相同的概率是多少？

直觉一般会认为，23个人显然小于一个月的天数，也远远小于一年的天数，所以这个概率应该会很低。

结论：
约为 $50.7\%$。

\subsubsection{论证过程}

通过计算至少两人生日相同的补集（所有人生日都不同的概率）：
	•	假设一年有 365 天，第一个人的生日有 365 种可能，第二个人有 364 种，第三个人有 363 种……依此类推。
	•	所有人生日不同的概率为：
$$
P(\text{不同}) = \frac{365}{365} \cdot \frac{364}{365} \cdot \frac{363}{365} \cdots \frac{343}{365}~.
$$
	•	至少两人生日相同的概率为：
$$
P(\text{相同}) = 1 - P(\text{不同})~.
$$


\subsection{某种生育策略下的男女比例}

\subsubsection{问题与结论}

问题：

一个村子中的人，因为特别喜欢男孩，统一采用下面的生育策略：如果生的是女孩的话，就再生一个孩子，直到生出一个男孩为止。这样许多年后，这个村子的男女比例是多少？

结论：

男女比为1:1。

\subsubsection{论证过程}


假设最大生育数量是$M$，男孩出生的可能性为$p\in[0,1]$，则有：

\begin{table}[ht]
\centering
\caption{生育可能性表}\label{tab_CitPrb1}
\begin{tabular}{|c|c|c|c|}
\hline
孩子数 & 情况的概率 & 女孩数 & 男孩数 \\
\hline
1 & $p$ & 0 & 1 \\
\hline
2 & $p(1-p)$ & 1 & 1 \\
\hline
3 & $p(1-p)^2$ & 2 & 1 \\
\hline
$\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
\hline
$M-1$ & $p(1-p)^{M-2}$ & $M-2$ & 1 \\
\hline
$M$ & $p(1-p)^{M-1}$ & $M-1$ & 1 \\
\hline
$M$ & $(1-p)^M$ & $M$ & 0 \\
\hline
\end{tabular}
\end{table}
则在这种生育策略下，每对家长所生女孩的个数期望：
\begin{equation}
{1-p\over p}\left(1-(1-p)^M\right)~.
\end{equation}

每对家长所生男孩的个数期望：
\begin{equation}
1-(1-p)^M~.
\end{equation}

男女比：
\begin{equation}
p\over 1-p~.
\end{equation}

每对家长所生孩子的个数期望：
\begin{equation}
{1\over p}\left(1-(1-p)^M\right)~.
\end{equation}

孩子的个数期望与出生可能性和最大生育数量相关，而生育比与限定人们生育的最大数量无关。一般认为男孩与女孩的出生可能相同，即$p=1\over2$，这时可以发现男女比是$1:1$。

最终一定是有一个男孩会出生的，预期出生的数量则是男生出生率的倒数。

问题就在于，尽管女生的数量会随着女生的出生而依次递增，但这种情况发生的概率却在指数减少。

\subsection{性别推断}

\subsubsection{问题与结论}

问题：

老王家有两个孩子，其中一个孩子是男孩，那么另一个孩子也是男孩的概率是多少？

结论：
“其中一个孩子是男孩”存在语义理解的区别：如果是随机选一个孩子知道他是男孩，则概率是$50\%$；如果是已知至少有一个男孩，则为$\displaystyle 1\over 3$。

\subsubsection{论证过程}
假设两个孩子的性别独立，每个孩子是男孩或女孩的概率都是 $\frac{1}{2}$。
家庭的可能组合为：
	•	男孩-男孩
	•	男孩-女孩
	•	女孩-男孩
	•	女孩-女孩（排除，因为至少有一个是男孩）

剩下的三种可能性中，只有一种是两个都是男孩。因此概率是 $\frac{1}{3}$。

\subsection{三门问题}

\subsubsection{问题与结论}

问题：

在一个游戏中，你面前有三个门，其中一扇后面有车，另外两扇后面是山羊。选手选定一个门后，主持人会打开另一个有山羊的门，并问选手是否愿意换门。请问：换门是否会增加赢得汽车的概率？

结论：

换门会增加赢得汽车的概率。

\subsubsection{论证过程}


解析：
	•	初始选门时，选到汽车的概率是 $\frac{1}{3}$，选到山羊的概率是 $\frac{2}{3}$。
	•	主持人打开一扇山羊的门后，如果最初选的是山羊（概率 $\frac{2}{3}$），换门必定赢。
	•	换门的成功概率是 $\frac{2}{3}$，不换的成功概率是 $\frac{1}{3}$。

\subsection{贝叶斯医生问题}

\subsubsection{问题与结论}

问题：

假设有一种疾病，患病概率是 $1\%$，诊断测试的准确率为 $99\%$（即真阳性率和真阴性率均为 $99\%$）。现在一个随机人测试结果为阳性，他实际患病的概率是多少？

结论：

约 $50\%$。

\subsubsection{论证过程}
    
运用贝叶斯定理：
	•	患病的先验概率：$P(\text{患病}) = 0.01$。
	•	未患病的先验概率：$P(\text{未患病}) = 0.99$。
	•	阳性结果的条件概率：
	•	患病者阳性概率 $P(\text{阳性}|\text{患病}) = 0.99$。
	•	未患病者阳性概率 $P(\text{阳性}|\text{未患病}) = 0.01$。

通过贝叶斯公式计算患病的后验概率：
$$
P(\text{患病}|\text{阳性}) = \frac{P(\text{阳性}|\text{患病}) \cdot P(\text{患病})}{P(\text{阳性})}~.
$$

总阳性概率 $P(\text{阳性})$ 为：
$$
P(\text{阳性}) = P(\text{阳性}|\text{患病}) \cdot P(\text{患病}) + P(\text{阳性}|\text{未患病}) \cdot P(\text{未患病})~.
$$

代入计算得实际患病概率接近 $50\%$。

\subsubsection{启发}

患病率过低的病，即使是阳性，患病率也并不高。要求检测假阳性的概率必须与患病率接近。实际生活中并不会随机选取一个病人，而是通过医生诊断，来提升做检测的人患病的概率，从而保证结论可靠。


\subsection{圆内随机选点的直径问题}

\subsubsection{问题与结论}
问题：
在一个圆内随机选择两个点，连接它们构成一条线段。请问这条线段是圆直径的概率是多少？

直觉分析

很多人会认为，这条线段成为直径的概率非常低，因为直径是一条特殊的直线，随机选点后能正好碰到直径似乎是小概率事件。

然而，实际概率的结果和选点的方式密切相关！这是一个非常经典且反直觉的问题。


\subsubsection{论证过程}
解答方式 1：几何概率分析

要使一条线段成为直径，两点必须刚好在圆的直径两端。关键在于：
	•	随机选点“如何定义”？
不同的“随机”选法会导致完全不同的概率结果。

以下是两种常见的选法及其概率计算：

方式一：点均匀分布在圆内
	•	在圆内任意选择两个点，假设点是均匀分布的。
	•	对于圆的任意一条直径，只有当两点恰好位于直径的两端时，这条线段才是直径。

在这种分布下，概率为 0。
因为随机选点时，两点恰好位于直径两端的可能性是无穷小的（属于测度为 0 的事件）。

方式二：点均匀分布在圆周上
	•	在圆周上随机选两个点，构成的线段是直径的条件是：两点相隔 $180^\circ$。
	•	圆周上的两点位置可以用角度描述，第一点固定后，第二点均匀分布在 $[0^\circ, 360^\circ)$ 上。

两点相隔 $180^\circ$ 的概率为：
$$
P = \frac{1}{360^\circ} \cdot 2 = \frac{1}{2}~.
$$
所以，在这种情况下，概率为 $\frac{1}{2}$。

结论
	1.	如果点均匀分布在圆内：概率为 $0$（几何意义上）。
	2.	如果点均匀分布在圆周上：概率为 $\frac{1}{2}$。

这是一个很经典的概率问题，明确随机分布的方式是关键！如果还有疑问，欢迎继续讨论~