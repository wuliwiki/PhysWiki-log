% 复变函数
% keys 复数|复变函数|导数
% license Xiao
% type Tutor

\begin{issues}
\issueTODO
\end{issues}

\pentry{函数\nref{nod_functi}， 复数\nref{nod_CplxNo}}{nod_f976}
\textbf{复变函数（complex function）}一般是指自变量和函数值都在复数域内取值的\enref{函数}{functi}，即 $f:\mathbb C \to \mathbb C$，通常表示为
\begin{equation}
w = f(z)~.
\end{equation}
更一般地， 函数值为复数的函数都可以叫做复变函数。 例如 $f: \mathbb R \to \mathbb C$ （自变量是一个实数）或者 $f:\mathbb R^N \to \mathbb C$ （自变量是 $N$ 个有序实数）。

\subsection{复变函数的表示方法}
\subsubsection{z型}
完全类似于一元实函数$y=f(x)$，复函数可以记为
\begin{equation}
w = f(z)~.
\end{equation}
其中w，z都是复数。例如 $w=e^z, w=2z+i$等。

\subsubsection{x-y型}
若把自变量 $z$ 拆分成实部 $x$ 和虚部 $y$， 即 $z = x + \I y$， 且函数 $f$ 也拆分成实部函数 $u(x,y)$ 和虚部函数 $v(x,y)$，则复变函数可记为两个二元实函数的“组合”，即
\begin{equation}\label{eq_Cplx_1}
w = u(x,y) + \I v(x,y)~,
\end{equation}
其中 $u, v: \mathbb R^2 \to \mathbb R$ 都是二元实函数。 

例如，\enref{复指数函数}{CExp}被定义为
\begin{equation}\label{eq_Cplx_3}
w = \E^z = \E^x \cos y + \I \E^x\sin y \qquad (z \in \mathbb C)~,
\end{equation}
即实部和虚部函数分别为 $u(x, y) = \E^x \cos y$， $v(x, y) = \E^x \sin y$。

\begin{example}{简谐振动的复数形式}
例如物理中质点的\enref{简谐振动的复数形式}{VbExp}为
\begin{equation}
f(t) = \E^{-\I \omega t} = \cos(\omega t) + \I \sin(\omega t) \qquad (t \in \mathbb R)~.
\end{equation}
它的实部表示振动的位移， 而虚部没有物理意义。
\end{example}

\subsection{复变函数与矢量场}
当我们把复变函数记为\autoref{eq_Cplx_1} 的形式后， 可以把它看作一个平面\enref{矢量场}{Vfield}，即复平面上的每一点对应一个\enref{几何矢量}{GVec}。令实轴和虚轴分别为 $x$ 轴和 $y$ 轴， 其单位矢量分别为 $\uvec x$ 和 $\uvec y$， 令\enref{位置矢量}{Disp} $\bvec r = x \uvec x + y \uvec y$， 那么这个矢量场就可以表示为
\begin{equation}\label{eq_Cplx_4}
\bvec w(\bvec r) = u(\bvec r) \uvec x + v(\bvec r) \uvec y~.
\end{equation}
这相当于把映射 $f:\mathbb C \to \mathbb C$ 看成 $f: \mathbb R^2 \to \mathbb R^2$。 其中 $u, v$ 分别是二维平面上的标量场。

正因如此， 研究复变函数时可以借助许多矢量分析的工具， 如\enref{散度}{Divgnc}和\enref{旋度}{Curl}等。 所以以后讲解时我们也会使用相应的矢量分析内容作为预备知识。

\subsection{复变函数的可视化}
使用矢量场的概念可以用于把复变函数可视化， 这里以复指数函数（\autoref{eq_Cplx_3}）为例。 第一种方法是用箭头表示平面矢量场， 如\autoref{fig_Cplx_2}。
\begin{figure}[ht]
\centering
\includegraphics[width=7.5cm]{./figures/6bb8f19efce6cb5d.pdf}
\caption{$\E^z$ 对应的二维矢量场（\autoref{eq_Cplx_4}）， 图中的箭头与 $\bvec w(\bvec r)$ 成正比。} \label{fig_Cplx_2}
\end{figure}
也可以把复变函数的实部 $u(x,y)$ 和虚部 $v(x, y)$ 分别画成二维标量场（\autoref{fig_Cplx_3}）。
\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/1dd9831cd3322a2b.png}
\caption{$\exp(z)$ 的实部和虚部函数} \label{fig_Cplx_3}
\end{figure}
\autoref{eq_Cplx_1} 也可以画成 3D 的曲面图
\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/ecfd05cb02d0d364.png}
\caption{$\exp(z)$ 的实部和虚部函数} \label{fig_Cplx_4}
\end{figure}

还有一种方式是使用变形网格的方式表示平面到平面的映射（\autoref{fig_Cplx_1}）， 由该图可以看出 $x$ 决定 $\E^z$ 的模长， $y$ 决定 $\E^z$ 的辐角。
\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/11c0bd9e5b39f7e0.png}
\caption{$\exp(z)$ 函数把复平面上的方形网格映射成另一种形状的网格（来自 Wolfram Alpha）} \label{fig_Cplx_1}
\end{figure}

\subsection{作为实函数的拓展}
复变函数中很多函数与我们原来学过的函数同名，只是定义域和值域从实数拓展到了复数。 例如三角函数，对数函数，指数函数等。拓展后， 复变函数的定义必须要与原来的实函数保持 “兼容”，即当自变量取实数时， 函数值也要与原来相同。

例如，当复指数函数\autoref{eq_Cplx_3} 的自变量只在实轴上取值（即 $y = 0$） 时，该函数变为我们原来所熟悉的实函数 $\E^x$。  又如，\enref{复正弦函数}{CTrig}的定义为
\begin{equation}\label{eq_Cplx_2}
\sin z = \sin(x + \I y) = \sin x\cosh y + \I\cos x\sinh y~,
\end{equation}
其中 $\sinh $ 和 $\cosh $ 是双曲正弦和双曲余弦函数\enref{双曲函数}{TrigH}。当 $y = 0$ 时（$\cosh 0 = 1$， $\sinh 0 = 0$），又重新得到实函数 $\sin x$。

如果只需满足 “兼容” 的条件， 那么拓展的方式可以有无限多种， 所以为什么一定要拓展成\autoref{eq_Cplx_3} 或\autoref{eq_Cplx_2} 呢？ 这是因为我们通常还需要复变函数满足另一个条件， 就是拓展后的函数需要是\textbf{解析}的， 这叫做\textbf{解析拓延}。 % \addTODO{链接}
解析拓延是唯一的， 例如实函数 $\sin x$ 进行解析拓延后， 只有\autoref{eq_Cplx_2} 一种可能的定义。

我们研究的复变函时几乎都是在讨论解析函数（至少在复平面的某个区域内解析）， 简单来说解析函数要求它可以在复平面的某个区域内关于某点 $z_0$ 展开为（复）无穷级数（类比实函数的\enref{泰勒级数}{Taylor}）
\begin{equation}
f(z) = \sum_{n=0}^\infty c_n (z - z_0)^n~.
\end{equation}
我们说， 如果复变函数在某个区域解析， 那么它在该区域就是\textbf{光滑（smooth）}的， 即无穷阶连续可导（类比实函数的\enref{高阶导数}{HigDer}）。

\subsection{复变函数的导数}
复变函数的导数定义与实函数的\enref{导数}{Der}十分相似：
\begin{equation}
f'(z) = \lim_{\Delta z \to 0} \frac{\Delta f}{\Delta z}~.
\end{equation}
只是这里的除法变为复数的除法（\autoref{eq_CplxNo_7}）。 讨论一般复变函数的导数较为复杂， 因为它不但取决于 $z$ 的值， 还取决于求导的方向（即 $\Delta z$ 趋近于 $0$ 的方向）， 这有点类似于\enref{方向导数}{DerDir}。 但我们通常研究的解析函数有一个非常好的性质： 如果复变函数在某个区域上解析， 那么在该区域上其导数与求导方向无关。 详见 “\enref{柯西—黎曼条件}{CauRie}”。

对于复数域的基本初等函数（几乎都是解析函数）， 它们的导函数也大多和实数域\enref{基本初等函数的导函数}{FunDer}具有一样的表达式。例如 $(\E^z)' = \E^z$， $\sin' z = \cos z$， 等。 四则运算的求导法则也与实函数的情况\upref{DerRul}相同。

\subsection{复积分}
复变函数的积分需要在复平面上选取一个路径。 从矢量场的角度考虑， 这可以类比矢量场的\enref{线积分}{IntL}。
\addTODO{旋度为零， 积分结果与路径无关}
