% 外导数
% 外代数|外导数|外微分|叉乘|梯度|散度|旋度

\pentry{微分形式\upref{Forms}，外代数\upref{ExtAlg}}

\subsection{外导数的定义}

外导数是一种流形上的\textbf{微分形式外代数}\footnote{即流形上的余切向量场集合作为线性空间所生成的外代数。}上的映射，其术语分为两部分，“外”和“导数”。“外”，指的是它把各 $\Omega^k(M)$ 中的元素映射到 $\Omega^k(M)$\textbf{之外}；“导数”，指的是它具有和求导类似的性质。实际上，矢量分析中的求导就是外导数的一个特例——你可能会问，求导并不具有“外”的特点，怎么就是特例了呢？我们会在本节中解释这一点。

\begin{definition}{外导数}\label{ExtDer_def1}
给定流形 $M$，其外微分代数是 $\Omega (M)$。定义映射 $\dd:\Omega (M)\rightarrow\Omega (M)$，满足：
\begin{enumerate}
\item $\forall \omega\in\Omega^k(M)$，有 $\dd \omega\in\Omega^{k+1}(M)$。
\item 对于光滑函数 $f\in C^\infty(M)$，$\dd f$ 就是 $f$ 的方向导数（1-形式）。
\item \textbf{线性性}：任取 $a, b\in \mathbb{R}$ 和 $\omega, \mu\in\Omega(M)$，有 $\dd(a\omega+b\mu)=a\dd\omega+b\dd\mu$。
\item \textbf{Leibniz性}：对于 $\omega\in\Omega^k(M), \mu\in\Omega^1(M)$\footnote{注意 $\mu$ 特指1-形式。}，我们有 $\dd(\omega\wedge\mu)=\dd\omega\wedge\mu+(-1)^k\omega\wedge\dd\mu$。
\item \textbf{幂零性}：任取 $\omega\in\Omega(M)$，都有 $\dd(\dd\omega)=0$。
\end{enumerate}
称这个映射为 $\Omega (M)$ 或者说 $M$ 上的一个\textbf{外导数（exterior derivative）}，又称\textbf{外微分}。
\end{definition}

定义中的Leibniz性要特别注意，其中 $(-1)^k$ 项是为了配合外代数的\textbf{反对称性}。



\subsection{三维欧几里得空间}

在\textbf{外代数}\upref{ExtAlg}中我们提到过，$\mathbb{R}^3$ 和 $\bigwedge^2\mathbb{R}^3$ 同构。在流形 $\mathbb{R}^3$ 上，2-形式构成的线性空间 $\Omega^1(\mathbb{R}^3)\cong\mathbb{R}^3$，因为是由基 $\{\dd x, \dd y, \dd z\}$ 张成的。这样，我们也可以定义 $\Omega^2(\mathbb{R}^3$ 到 $\Omega^1(\mathbb{R}^3)$ 之间的同构。这个同构的存在，意味着我们可以把\textbf{旋度}和\textbf{散度}视为外导数的特例。我们观察以下例子来说明这一点：

\subsubsection{旋度}

考虑 $\mathbb{R}^3$ 中任意的1-形式 $\omega_x\dd x+\omega_y\dd y+\omega_z\dd z$，其中各 $\omega_i$ 是0-形式，即光滑函数。考虑到外导数对于光滑函数就是方向导数，我们可以得知，对于任意的 $a\in\{x,y,z\}$，有 $\dd\omega_a=\partial_x\omega_a\dd x+\partial_y\omega_a\dd y+\partial_z\omega_a\dd z$。这样，我们就可以计算出：
\begin{equation}\label{ExtDer_eq1}
\begin{aligned}
\dd(\omega_x\dd x+\omega_y\dd y+\omega_z\dd z)={}&(\partial_y\omega_z-\partial_z\omega_y)\dd y\wedge\dd z+\\&(\partial_z\omega_x-\partial_x\omega_z)\dd z\wedge\dd x+\\&(\partial_x\omega_y-\partial_y\omega_x)\dd x\wedge\dd y~.
\end{aligned}
\end{equation}

如果我们把 $\dd y\wedge\dd z$ 、 $\dd z\wedge\dd x$ 、$\dd x\wedge\dd y$ 分别看成三维直角坐标系的三个$x, y, z$方向单位向量，那么\autoref{ExtDer_eq1} 右边各项系数刚好对应向量场 $\pmat{\omega_x, \omega_y, \omega_z}\Tr$ 的旋度。因此，我们把三维欧几里得空间中的旋度，看成是 $\Omega^1(\mathbb{R}^3)\rightarrow\Omega^2(\mathbb{R}^3)$ 的外导数。

\subsubsection{散度}

考虑 $\mathbb{R}^3$ 中任意的2-形式 $\omega_x\dd y\wedge\dd z+\omega_y\dd z\wedge\dd x+\omega_z\dd x\wedge\dd y$。同样，考虑到 $\dd\omega_a=\partial_x\omega_a\dd x+\partial_y\omega_a\dd y+\partial_z\omega_a\dd z$，我们可以计算得：
\begin{equation}\label{ExtDer_eq2}
\begin{aligned}
&\dd(\omega_x\dd y\wedge\dd z+\omega_y\dd z\wedge\dd x+\omega_z\dd x\wedge\dd y)\\={}&(\partial_x\omega_x+\partial_y\omega_y+\partial_z\omega_z)\dd x\wedge\dd y\wedge\dd z~.
\end{aligned}
\end{equation}

观察结果的系数可见，2-形式的外导数实际上就是其散度。因此，我们把三维欧几里得空间中的散度，看成是 $\Omega^2(\mathbb{R}^3)\rightarrow\Omega^3(\mathbb{R}^3)$ 的外导数。

\begin{exercise}{旋度和散度}
利用外导数的定义，证明\autoref{ExtDer_eq1} 和\autoref{ExtDer_eq2} .
\end{exercise}

\subsubsection{梯度}

由\autoref{ExtDer_def1} 的第二条，三维欧几里得空间中的梯度，是 $\Omega^0(\mathbb{R}^3)\rightarrow\Omega^1(\mathbb{R}^3)$ 的外导数。

自此，三维空间中的梯度、旋度和散度都可以统一为一个概念了：外导数。值得注意的是，矢量分析中的定理“梯度的旋度为零”和“旋度的散度为零”，可以统一理解为外导数的\textbf{幂零性}：$\mathrm{d}^2=0$。

\subsubsection{三维空间的特殊性}

尝试求解下列代数方程：

\begin{equation}\label{ExtDer_eq5}
\frac{n(n-1)}{2}=n~.
\end{equation}

答案是 $0$ 和 $3$，对吧？非零解只有 $3$，这就是三维空间的特殊之处，也是三维向量分析如此丰富的原因。只有在三维空间中，我们才能用以上外导数的概念来导出散度、旋度等概念。

\autoref{ExtDer_eq5} 究竟是什么呢？$n$ 代表的是一个线性空间 $V$ 的维度，而 $n(n-1)/2$ 代表的是 $\bigwedge^2 V$ 的维度。\autoref{ExtDer_eq5} 想求解的是，什么情况下 $V$ 会和 $\bigwedge^2 V$ 同构，而“非零解只有 $3$”意味着唯一的情况就是，“$V$ 是一个三维空间”。

向量叉乘的“右手定则”，实际上就是一个同构 $f:\bigwedge^2 V\to V$，其中 $V$ 是 $M$ 上各点的微分形式空间，或者说“余切向量空间”，而 $f(\dd y\wedge \dd z)=\dd x, f(\dd z\wedge \dd x)=\dd y, f(\dd x\wedge \dd y)=\dd z$。我们当然可以定义其它的同构，比如 $f(\dd y\wedge \dd z)=-\dd x, f(\dd z\wedge \dd x)=-\dd y, f(\dd x\wedge \dd y)=-\dd z$ 的同构，此时导出的向量叉乘遵循的就是“左手定则”了。



\subsection{外导数的计算}

本小节我们希望讨论的是，如果我们已知某个微分形式 $\omega$ 是如何作用于各切向量的，那么 $\dd\omega$ 又是如何作用的。

\subsubsection{外积}

首先要讨论的是 $1-$ 形式的外积。设 $\omega, \mu$ 为两个 $1-$ 形式，为了满足 $\omega\wedge\mu=-\mu\wedge\omega$，我们令
\begin{equation}\label{ExtDer_eq3}
\omega\wedge\mu(X, Y)=\omega(X)\mu(Y)-\mu(X)\omega(Y)
\end{equation}
对所有 $X, Y\in \mathfrak{X}(M)$ 成立。

把这条推广开来，就是对于 $m-$ 形式 $\omega$ 和 $n-$ 形式 $\mu$，有如下关系：
\begin{equation}\label{ExtDer_eq4}
\begin{aligned}
&\omega\wedge\mu(X_1, X_2, \cdots, X_m, X_{m+1}, \cdots, X_{m+n})\\
=&\sum_{\sigma\in S_{m+n}}\opn{sgn}\sigma[\omega(X_{\sigma(1)}, \cdots, X_{\sigma(m)})\mu(X_{\sigma(m+1)}, \cdots, X_{\sigma(m+n)})]~.
\end{aligned}
\end{equation}

其中 $\sigma$ 是置换群 $S_{m+n}$ 中的置换，$\opn{sgn}\sigma$ 对于偶置换取值为 $1$，否则为 $-1$。

如果用指标表示的话，\autoref{ExtDer_eq3} 相当于
\begin{equation}
(\omega\wedge\mu)_{ab}=\omega_a\mu_b-\omega_b\mu_a
\end{equation}

而\autoref{ExtDer_eq4} 则相当于
\begin{equation}
\begin{aligned}
(\omega\wedge\mu)_{i_1i_2i_3\cdots i_{m+n}}=\sum_{\sigma\in S_{m+n}}\omega_{i_{\sigma(1)}i_{\sigma(2)}\cdots i_{\sigma(m)}}\mu_{i_{\sigma(m+1)}i_{\sigma(m+2)}\cdots i_{\sigma(m+n)}}~.
\end{aligned}
\end{equation}

\subsubsection{外导数}

现在我们要考虑的是，如果对于一切 $X, Y\in \mathfrak{X}(M)$ 都已知 $\omega(X)$，那么 $\dd \omega(X, Y)$ 是哪个函数。

设所讨论的流形维度为 $n$。

在某坐标系下，令
\begin{equation}
\leftgroup{
    X&=f_1\partial_1+f_2\partial_2+\cdots+f_n\partial_n\\
    Y&=g_1\partial_1+g_2\partial_2+\cdots+g_n\partial_n\\
    \omega&=\omega_1\dd x_1+\omega_2\dd x_2+\cdots+\omega_n\dd x_n
}
\end{equation}
其中各 $f_i, g_i, \omega_i$ 为 $M$ 上的光滑函数。

那么 $\omega(X)=f_1\omega_1+f_2\omega_2+\cdots+f_n\omega_n$，$\omega(Y)=g_1\omega_1+g_2\omega_2+\cdots+g_n\omega_n$

坐标系给定了，$\dd \omega$ 可以直接算出来。这是因为
\begin{equation}
\dd (\omega_i\dd x_i)=(\dd \omega_i)\wedge\dd x_i=\sum_{j}\partial_j\omega_i\dd x_j\wedge\dd x_i~.
\end{equation}

因此，
\begin{equation}
\dd \omega=\sum_{i}\dd (\omega_i\dd x_i)=\sum_{i}(\dd \omega_i)\wedge\dd x_i=\sum_{i, j}\partial_j\omega_i\dd x_j\wedge\dd x_i~.
\end{equation}

$\dd x_j\wedge\dd x_i$ 是哪个映射，我们上面已经讨论过了。应用\autoref{ExtDer_eq3} ，并考虑到 $\dd x_i(\partial _j)=\delta_{ij}$\footnote{即 $\dd x_i\wedge \dd x_j(\partial_a, \partial_b)=\delta_{ia}\delta_{jb}-\delta_{ib}\delta_{ja}$。}，可以计算出 $\dd \omega(X, Y)$，整理后得到
\begin{equation}
\dd \omega(X, Y)=X\omega(Y)-Y\omega(X)-\omega([X, Y])~.
\end{equation}
这里 $X\omega(Y)$ 是指切向量作用在函数 $\omega(Y)$ 上，得到一个函数；$Y\omega(X)$ 同理。













