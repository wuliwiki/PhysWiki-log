% 张量的坐标变换
% keys 张量|坐标变换|二阶张量|高阶张量|赝指标|线性空间
% license Xiao
% type Tutor

\pentry{张量\upref{Tensor}， 过渡矩阵\upref{TransM}，爱因斯坦求和约定\upref{EinSum}}

在\textbf{张量}\upref{Tensor}词条中我们看到，张量表示为矩阵依赖于相关的各线性空间中基的选择。选定了线性空间的基以后，线性空间中的各向量都可以用其坐标所构成的列矩阵来表示；同样地，选定了两个线性空间各自的基以后，一个二阶张量也可以表示为一个矩阵。一般地，我们把选定了线性空间各自的基以后用来表示张量的矩阵，称作张量的\textbf{坐标}，\textbf{分量}或\textbf{坐标分量}。

正如\textbf{爱因斯坦求和约定}\upref{EinSum}一节中所说，零阶张量的坐标表示为一个 $1\times 1$ 矩阵，一阶张量的坐标表示为一个 $n\times 1$ 或 $1\times n$ 矩阵，一个二阶张量的坐标表示为一个 $n\times n$ 矩阵。三阶及以上的张量就没法用我们已经熟知的矩阵来表示和运算了，因此我们不可避免地要应用爱因斯坦求和约定。从初学者的角度出发，本节将先用传统线性代数的语言描述一阶、二阶张量的坐标变换规则，然后使用爱因斯坦求和约定来描述一般的张量坐标变换规则。如果你还不熟悉爱因斯坦求和约定，建议详细阅读，比对两种表示方法的异同。

\subsection{传统记号表示的一阶、二阶张量坐标变换}
\subsubsection{一阶张量的坐标变换}
一阶张量是将一个向量映射为一个数，因此只涉及一个线性空间，最为简单。

给定 $k$ 维线性空间 $V$，及其上一个张量 $f:V\rightarrow\mathbb{R}$。如果 $V$ 的基是 $\{\bvec{e}_1, \cdots\bvec{e}_k\}$，那么坐标为 $\bvec{c}=(x_1\cdots x_k)\Tr$ 的向量 $\bvec{v}$ 被映射为：
\begin{equation}
f(\bvec{v})=\sum\limits_{i=1}^k x_if(\bvec{e}_i)~.
\end{equation}

因此，$f$ 可以表示为 $V$ 中的一个行向量 $\bvec{F}$，坐标为 $(f(\bvec{e}_1), \cdots, f(\bvec{e}_k))$。对于 $V$ 中任何向量 $\bvec{v}$，都有 $f(\bvec{v})=\bvec{F}\bvec{c}$（按矩阵乘法）。

若取另一个基 $\{\bvec{e}_1', \cdots, \\bvec{e}_k'\}$，其中过渡矩阵为 $\bvec{Q}$。如果在新的基下 $\bvec{v}$ 的坐标变为 $\bvec{c}'$，那么 $\bvec{Q}\bvec{c}'=\bvec{c}$\footnote{见过渡矩阵\upref{TransM}。}。

设在新的基下，$f$ 表示为行向量 $\bvec{F}'$，那么应有 $f(\bvec{v})=\bvec{F}\bvec{c}=\bvec{F}'\bvec{c}'$。考虑到 $\bvec{Q}\bvec{c}'=\bvec{c}$，我们可知对于任何坐标 $\bvec{c}, \bvec{c}'$ 都有 $\bvec{F}\bvec{Q}\bvec{c}'=\bvec{F}'\bvec{c}'$，因此

\begin{equation}
\bvec{F}\bvec{Q}=\bvec{F}'~.
\end{equation}

这就是一阶张量的坐标变换。
\subsubsection{二阶张量的坐标变换}

二阶张量涉及两个同构的线性空间 $V$，而且是在物理学中最为常见的张量形式，因此我们将详细讨论该情况。在这里，我们把二阶张量 $f$ 理解为从 $V_1$ 和 $V_2$ 到标量域 $\mathbb{K}$ 的一个线性映射，其中 $V_1$ 和 $V_2$ 同构，$\opn{dim}V_1=\opn{dim}V_2=k$。

给 $V_1$ 指定一组基 $\{\bvec{a}_1, \bvec{a}_2, \cdots, \bvec{a}_n\}$， 给 $V_2$ 指定一组基 $\{\bvec{b}_1, \bvec{b}_2, \cdots, \bvec{b}_n\}$，在这两组基下，张量 $f$ 被表示为一个矩阵 $\bvec{F}$，而向量 $\bvec{v}_1\in V_1$ 和 $\bvec{v}_2\in V_2$ 在这两组基下的坐标列矩阵分别为 $\bvec{c}(\bvec{v}_1)$ 和 $\bvec{c}(\bvec{v}_2)$。此时，$f(\bvec{v_1},\bvec{v_2})=\bvec{c}(\bvec{v_1})\Tr\bvec{F}\bvec{c}(\bvec{v_2})$。

如果给 $V_1$ 和 $V_2$ 进行基变换，过渡矩阵分别为 $\bvec{P}$ 和 $\bvec{Q}$，则在新的基下，两向量的坐标分别为 $\bvec{c}'(\bvec{v}_1)=\bvec{P}^{-1}\bvec{c}(\bvec{v}_1)$ 和 $\bvec{c}'(\bvec{v}_2)=\bvec{Q}^{-1}\bvec{c}(\bvec{v}_2)$。此时有 $f(\bvec{v_1},\bvec{v_2})=\bvec{c}(\bvec{v_1})\Tr\bvec{F}\bvec{c}(\bvec{v_2})=\bvec{c}'(\bvec{v_1})\Tr\bvec{P}\Tr\bvec{F}\bvec{Q}\bvec{c}'(\bvec{v_2})$。因此在新基下，$f$ 的矩阵为 $\bvec{P}\Tr\bvec{F}\bvec{Q}$。



\subsection{爱因斯坦求和约定表示的一般张量的坐标变换}

高阶张量的坐标变换就无法简单地用矩阵的乘法来表示，因此我们采用爱因斯坦求和约定。

\subsubsection{一阶张量的坐标变换}

给定 $k$ 维线性空间 $V$，及其上一个张量 $f:V\rightarrow\mathbb{R}$。如果 $V$ 的基是 $\{\bvec{e}_1, \cdots\bvec{e}_k\}$，在这组基下，张量 $f$ 的坐标为 $T_{i}$，那么我们应有 $T_{i}=f(\bvec{e}_i)$。

对 $V$ 进行基的变换，如果过渡矩阵是 $a_{i}^j$，即新的基中基向量 $\bvec{e}'_{i}=a_{i}^j\bvec{e}_j$，那么我们易得：

\begin{equation}\label{eq_TrTnsr_1}
T'_{i}=f(\bvec{e}'_i)=f(a_{i}^j\bvec{e}_j)=a_{i}^jf(\bvec{e}_j)=a_{i}^jT_{j}~.
\end{equation}

注意指标的位置，以及哪些指标是用于求和的赝指标。

\subsubsection{二阶张量的坐标变换}

给定线性空间 $V_1$ 和 $V_2$，其中 $\opn{dim}V_1=\opn{dim}V_2=k$。令 $f:V_1\times V_2\rightarrow\mathbb{F}$ 是一个二阶张量。

给 $V_1$ 指定一组基 $\{\bvec{a}_1, \bvec{a}_2, \cdots, \bvec{a}_n\}$， 给 $V_2$ 指定一组基 $\{\bvec{b}_1, \bvec{b}_2, \cdots, \bvec{b}_n\}$，在这两组基下，张量 $f$ 的坐标是 $T_{ij}=f(\bvec{a}_i, \bvec{b}_j)$。

如果给 $V_1$ 和 $V_2$ 进行基变换，过渡矩阵分别为 $m^{i}_j$ 和 $n^{i}_j$，则在新的基下，$\bvec{a}'_i=m^{k}_i\bvec{a}_k$，$\bvec{b}'_j=n^{l}_j\bvec{b}_l$，因此张量 $f$ 在新基下的坐标为：

\begin{equation}\label{eq_TrTnsr_2}
T'_{ij}=f(\bvec{a}'_i, \bvec{b}'_j)=f(m^{k}_i\bvec{a}_k, n^{l}_j\bvec{b}_l)=m^{k}_in^{l}_jf(\bvec{a}_k, \bvec{b}_l)=m^{k}_in^{l}_jT_{kl}~.
\end{equation}

同样，注意指标的位置，以及哪些指标是用于求和的赝指标。

\subsubsection{一般张量的坐标变换}

相信从\autoref{eq_TrTnsr_1} 和\autoref{eq_TrTnsr_2} 中你已经比较得出了一般张量的坐标变换规律，因此我们不再详细展示计算过程，而是直接将坐标变换的方法表述如下：

\begin{theorem}{张量的坐标变换}\label{the_TrTnsr_1}

给定域 $\mathbb{F}$ 上的一组有限个线性空间 $\{V_\alpha\}^n_{\alpha=1}$，设 $f:V_1\times\cdots\times V_n\rightarrow\mathbb{F}$。给各 $V_\alpha$ 指定一组基，使得 $f$ 在这些基下的坐标为 $T_{i_1i_2\cdots i_n}$。如果对每个 $V_\alpha$ 进行过渡矩阵为 $m^k_{i\alpha}$ 的基变换，那么在变换后的基下，$f$ 的坐标为
\begin{equation}
T'_{i_1i_2\cdots i_n}=m^{k_1}_{i_11}m^{k_2}_{i_22}\cdots m^{k_n}_{i_nn}T_{k_1k_2\cdots k_n}~.
\end{equation}

注意该式对各 $k_1, k_2, \cdots, k_n$ 求和。
\end{theorem}

以上变换仅仅是对于张量的坐标而言，并不改变张量本身。今天的物理学家所说的张量变换，通常是指不同坐标下\textbf{同一个}张量的坐标表示之间的转换。因此有的物理学家会将张量定义为“像张量一样变换的量（a tensor is something that transforms as a tensor）”，比如朗道。这句定义听上去有些循环论证，但它的意思其实是“像 $T'_{i_1i_2\cdots i_n}=m^{k_1i_1}m^{k_2i_2}\cdots m^{k_ni_n}T_{k_1k_2\cdots k_n}$ 一样变换”。这个定义使得许多理论物理学家认为\textbf{仿射联络}\upref{affcon}（或参考\textbf{仿射联络}\upref{VecCon}）并不是张量。事实上，他们所说的这个张量是指流形上的张量场，而仿射联络确实不是一个张量场；仿射联络本身是一个三阶张量，只不过它所涉及的向量并不是流形上每个点的切向量（因此不是张量场），而是向量场本身。也就是说仿射联络是把一个向量场本身看成一个向量后所进行的线性映射。







