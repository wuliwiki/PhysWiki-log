% 康托尔定理（综述）
% license CCBYSA3
% type Wiki

本文根据 CC-BY-SA 协议转载翻译自维基百科\href{https://en.wikipedia.org/wiki/Cantor\%27s_theorem}{相关文章}。

\begin{figure}[ht]
\centering
\includegraphics[width=8cm]{./figures/28b3b283de600fc9.png}
\caption{集合 $\{x, y, z\}$ 的基数是 3，而它的幂集中有 8 个元素（$3 < 2^3 = 8$），如下图按包含关系排列。} \label{fig_KTDL_1}
\end{figure}
在数学的集合论中，康托尔定理是一个基本结论，它指出：对于任意集合 $A$，其幂集（即包含 $A$ 所有子集的集合）具有严格大于$A$ 本身的基数。

对于有限集合，康托尔定理可以通过对子集数量的直接枚举来验证。将空集也算作一个子集，若一个集合含有 $n$ 个元素，则它共有 $2^n$ 个子集。而由于对所有非负整数都有 $2^n > n$，因此定理在有限情形下成立。

更为重要的是，康托尔发现了一种适用于任意集合的论证方法，表明该定理对无限集合同样成立。因此，实数集的基数（它与整数集的幂集具有相同基数）严格大于整数集的基数；详细内容见“连续统的基数”。

该定理以格奥尔格·康托尔命名，他在19世纪末首次提出并证明了这一命题。康托尔定理对数学哲学产生了直接而深远的影响。例如，通过对一个无限集合不断取幂集并应用康托尔定理，可以得到一个无尽的无限基数层级，每一层的基数都严格大于前一层。因此，该定理意味着：不存在“最大的”基数（通俗地说，就是“没有最大的无穷大”）。
\subsection{证明}
康托尔的论证既优雅又极其简洁。完整的证明如下，随后将附上详细解释。

\textbf{定理（康托尔）} — 设$f$是一个从集合$A$到其幂集$\mathcal{P}(A)$的映射，即$
f: A \to \mathcal{P}(A)$，那么$f$不是满射。因此，对于任意集合$A$，都有：
$\operatorname{card}(A) < \operatorname{card}(\mathcal{P}(A))$即集合 $A$ 的基数严格小于其幂集的基数。

\textbf{证明}

定义集合$B = \{x \in A \mid x \notin f(x)\}$该集合根据外延公理模式是合法的，且由于 $B \subseteq A$，所以$B \in \mathcal{P}(A)$。假设$f$是一个满射。

那么存在某个$\xi \in A$使得$f(\xi) = B$。

根据定义，对于$A$中任意$x$，都有：$x \in B \iff x \notin f(x)$将 $x = \xi$ 代入可得：$\xi \in B \iff \xi \notin f(\xi)$但由于$f(\xi) = B$，  
上述推理得到形式为  $\varphi \Leftrightarrow \lnot \varphi$的矛盾。

因此，依据反证法，$f$ 不可能是满射。我们已经知道从$A$到$\mathcal{P}(A)$的单射是存在的，例如函数：$g: A \to \mathcal{P}(A), \quad g(x) = \{x\}$因此可得：$\operatorname{card}(A) < \operatorname{card}(\mathcal{P}(A)) \quad \blacksquare$

根据基数的定义，对于任意两个集合$X$和$Y$，当且仅当存在一个从$X$到$Y$的单射而不存在双射时，才有：$\operatorname{card}(X) < \operatorname{card}(Y)$我们只需证明：不存在从 $X$ 到 $Y$ 的满射，就能得出这一不等式。这正是康托尔定理的核心：不存在从任意集合 $A$ 到其幂集 $\mathcal{P}(A)$ 的满射。为证明这一点，只需展示：任意一个函数$f$（从 $A$ 映射到其子集）都无法覆盖所有可能的子集。也就是说，我们只需要构造出一个子集 $B \subseteq A$，使得对于任意 $x \in A$，都有 $f(x) \neq B$。回顾每个 $f(x)$ 都是 $A$ 的一个子集，我们定义如下集合 $B$，有时称为 $f$ 的康托尔对角集合：\(^\text{[1][2]}\)
$$
B = \{x \in A \mid x \notin f(x)\}~
$$
也就是说，对于所有$x \in A$，有：$x \in B \iff x \notin f(x)$对于每个$x$，集合 $B$ 和 $f(x)$ 不可能相等，因为$B$是从那些在其像$f(x)$中不包含自身的元素构造而成的。对每个$x \in A$，只有两种情况：若 $x \in f(x)$，那么根据定义$x \notin B$，因此$f(x) \neq B$，因为 $f(x)$ 包含 $x$ 而 $B$ 不包含；若 $x \notin f(x)$，那么根据定义 $x \in B$，因此同样$f(x)\neq B$，因为 $B$ 包含 $x$，而 $f(x)$ 不包含。综上所述，对于任意 $x \in A$，都有 $f(x) \neq B$。因此，$B$ 并不是 $f$ 的像，这就证明了：不存在从 $A$ 到 $\mathcal{P}(A)$ 的满射。

换句话说，更形式化地表达，我们刚刚证明了：若存在某个$\xi \in A$使得$f(\xi) = B$，则会导致如下矛盾：
$$
\begin{aligned}
\xi \in B &\iff \xi \notin f(\xi) \quad &&\text{（根据 } B \text{ 的定义）}; \\
\xi \in B &\iff \xi \in f(\xi) \quad &&\text{（由于假设 } f(\xi) = B \text{）}.
\end{aligned}~
$$
因此，依据反证法，该假设必为错误。\(^\text{[3]}\)也就是说，不存在任何$\xi \in A$使得
$f(\xi) = B$；换句话说，集合$B$不属于函数$f$的像集，而$f$并未映射到集合$A$的所有子集，即：$f$不是满射。

最后，为了完成整个证明，我们还需要给出一个从集合$A$到其幂集的单射函数。构造这样的函数是显而易见的：只需将每个元素$x$映射到单元素集合$\{x\}$。至此，论证完成，我们得出了对于任意集合$A$都成立的严格不等式：$\operatorname{card}(A) <\operatorname{card}(\mathcal{P}(A))$

另一种理解该证明的方法是：集合 $B$，无论是空集还是非空集，始终属于集合 $A$ 的幂集 $\mathcal{P}(A)$。若函数 $f$ 是满射，则必须存在某个 $A$ 中的元素映射到 $B$。但这会导致矛盾：没有哪个 $B$ 中的元素能映射到 $B$，因为那会违反 $B$ 中元素的判定标准；因此，映射到 $B$ 的那个元素不能属于 $B$，这又意味着它满足了属于 $B$ 的标准，形成另一个矛盾。因此，假设某个 $A$ 中的元素映射到 $B$ 是错误的，故函数 $f$ 不可能是满射。

由于表达式 “$x \in f(x)$” 中变量 $x$ 出现了两次，这属于对角线式论证。对于一个可数（或有限）集合，可以通过构造如下的表格来说明上述证明的论证过程：
\begin{enumerate}
\item 表格的每一行以集合 $A = \{x_1, x_2, \ldots\}$ 中的唯一元素 $x$ 作为行标，按照该顺序排列。这里假设集合 $A$ 是线性有序的，以便可以构造出这样的表格。
\item 表格的每一列以集合 $A$ 的幂集中唯一的元素 $y$ 作为列标；列的顺序由函数 $f$ 的参数决定，即列标按 $f(x_1), f(x_2), \ldots$ 的顺序排列。
\item 每一行 $x$ 与每一列 $y$ 的交点记录一个真/假的布尔值，用以表示 $x \in y$ 是否成立。
\end{enumerate}
根据为行标和列标所选定的顺序，该表格的主对角线 $D$ 记录了每个 $x \in A$ 是否满足 $x \in f(x)$ 的情况。这样的一个表格示例如下：
\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/4ae432a2939a8fc5.png}
\caption{} \label{fig_KTDL_2}
\end{figure}
在前文中构造的集合 $B$，正好对应于主对角线 $D$ 上那些表格记录为 $x \in f(x)$ 为假的行标（在上面的示例中，这些条目被标为红色）。表格的每一行记录了该行所代表元素 $x$ 是否属于每一列所对应集合的指示函数的值。而集合 $B$ 的指示函数，正好对应于主对角线条目的逻辑否定（即将“真”与“假”互换）。因此，集合 $B$ 的指示函数在至少一个条目上与任意一列都不一致。这就意味着，没有任何一列可以代表集合 $B$。

尽管上述证明看起来很简单，但对自动定理证明器来说，生成这个证明其实相当困难。其主要难点在于如何自动发现康托尔对角线集合。Lawrence Paulson 在 1992 年指出，Otter 无法完成这个任务，而 Isabelle 可以做到，不过需要一定程度的战术引导，这在某种意义上或许可以视为“作弊”。
