% 黎曼积分
% 积分|黎曼积分|微积分

\begin{issues}
\issueDraft
\issueMissDepend
\end{issues}

\footnote{参考\href{https://math.berkeley.edu/~arveson/Dvi/105/note1.pdf}{这个讲义}。}我们来定义区间 $[a, b]$ 的实函数 $f(x)$ 的黎曼积分。 令有序实数列
\begin{equation}
\mathcal P = \qty{a = x_0 < x_1 < \dots < x_n = b}~,
\end{equation}
令
\begin{equation}
m_k = \inf_{x_{k-1} \le x \le x_k} f(x), \qquad M_k = \sup_{x_{k-1} \le x \le x_k} f(x) \quad (1 \le k \le n)~,
\end{equation}
对应的下和上黎曼求和为
\begin{equation}
\underline I(f, \mathcal P) = \sum_{k = 1}^n m_k\Delta k, \qquad \bar I(f, \mathcal P) = \sum_{k = 1}^n M_k \Delta_k~,
\end{equation}
其中 $\Delta_k = x_k - x_{k-1}$， $1\le k\le n$。 下和上黎曼积分的定义为
\begin{equation}
\underline I(f) = \sup_{\mathcal P} \underline I(f, \mathcal P), \qquad \bar I(f) = \inf_{\mathcal P} \bar I(f, \mathcal P)~,
\end{equation}
显然， $\underline I(f) \le \bar I(f)$。 $f$ 叫做\textbf{黎曼可积（Riemann integrable）} 当且仅当上下黎曼积分相等
\begin{equation}
I(f) = \underline I(f) = \bar I(f)~.
\end{equation}
% 我们以下用 $I(f)$ 表示黎曼积分， $\int$ 符号表示勒贝格积分。

\begin{theorem}{}
任何连续函数 $f \in C[a, b]$ 都是黎曼可积的。
\end{theorem}

\begin{theorem}{}
任何单调函数 $f: [a, b] \to \mathbb{R}$ 都是黎曼可积的。
\end{theorem}

我们可以证明闭区间$[a, b]$上的单调函数最多只有可数个不连续点\autoref{confun_def1}~\upref{confun}（待添加\footnote{参考 \href{https://en.wikipedia.org/wiki/Discontinuities_of_monotone_functions}{Wikipedia 相关页面}}），实际上我们可以把定理推广为

\begin{theorem}{}
任何函数 $f: [a, b] \to \mathbb{R}$ ，如果它只有有限个不连续点，那么 $f$ 是黎曼可积的。
\end{theorem}

% 移动到勒贝格积分里去
% \begin{theorem}{}
% 任何连续函数 $f \in C[a, b]$, 勒贝格积分和黎曼积分相等。
% \end{theorem}

% \begin{theorem}{}
% 令 $f$ 为 $[a, b]$ 上的有界实函数， 那么 $f$ 是黎曼可积的当且仅当 $f$ 的所有不连续点的勒贝格测度为零。
% \end{theorem}

% 这样的函数可以在勒贝格测度为零的集合上修改， 使其 Borel-measurable， 若这样做， 勒贝格积分和黎曼积分结果相等。

% \subsection{黎曼不可积函数的例子}

不是所有函数都是黎曼可积的，比如

\begin{example}{Dirichlet函数}

Dirichlet函数
\begin{equation}
D(x)=
\leftgroup{
    1, x\in\mathbb{Q}\\
    0, x\not\in\mathbb{Q}
}
\end{equation}
不是Riemann可积的：对于任何一个子区间$[a, b]$，其上最大值为$1$，最小值为$0$，因此上黎曼积分为 $1$，下黎曼积分为 $0$。
\end{example}
