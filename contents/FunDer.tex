% 基本初等函数的导数（简明微积分）
% 求导|导数|基本初等函数|幂函数|指数函数|三角函数

\pentry{导数\upref{Der}}

\subsection{基本初等函数}
\textbf{基本初等函数}由以下五类函数构成 （$a$ 是常数）

\begin{itemize}
\item \textbf{幂函数}
\begin{equation}\label{eq_FunDer_3}
x^a \quad(a \in R)
\end{equation}
\item \textbf{指数函数}
\begin{equation}
a^x \quad(a > 0, \; a \ne 1)
\end{equation}
\item \textbf{对数函数}
\begin{equation}
\log_a x \quad(a > 0, \; a \ne 1)
\end{equation}
当底为 $a = \E$ 时，叫做\textbf{自然对数函数}， 记为 $\ln x$。
\item \textbf{三角函数}
\begin{equation}
\sin x \qquad  \cos x \qquad \tan x
\end{equation}
\item \textbf{反三角函数}
\begin{equation}
\arcsin x  \qquad \arccos x  \qquad \arctan x
\end{equation}
\end{itemize}

由以上函数经过有限次四则运算和有限次函数复合所构成并可用一个式子表示的函数，称为\textbf{初等函数}。例如
\begin{equation}
y = \sqrt{1 - x^2}\qquad y = \sin ^2 x\qquad y = \sqrt{\cot \frac{x}{2}} 
\end{equation}

\subsection{基本初等函数的导数}

基本初等函数在其定义域内（除了区间端点）都是可导的，导函数如下
\begin{itemize}
\item \textbf{幂函数}
\begin{equation}\label{eq_FunDer_2}
(x^a)' = a x^{a - 1}  \quad (a \in R)
\end{equation}

\item \textbf{三角函数}
\begin{equation}
\sin' x = \cos x \qquad \cos' x =  - \sin x \qquad
\tan'x = 1/\cos ^2 x = \sec ^2 x
\end{equation}

\item \textbf{反三角函数}
\begin{equation}
\arctan' x =\frac{1}{x^2+1}
\qquad
\arcsin' x = \frac{1}{\sqrt{1-x^2}}
\qquad
\arccos' x = -\frac{1}{\sqrt{1-x^2}}
\end{equation}

\item \textbf{指数函数}
\begin{equation}\label{eq_FunDer_1}
(a^x)' = \ln(a) a^x
\end{equation}
特殊地，$(\E^x)' = \E^x$

\item \textbf{对数函数}
\begin{equation}
(\log_a x)' = \frac{1}{\ln(a)x}
\end{equation}
特殊地，$\ln' x= 1/x$。
\end{itemize}
以下给出简单的推导思路， 以方便理解为主， 并不严谨。

\subsection{幂函数求导}
由导数的代数定义， $f'(x) = \lim\limits_{h \to 0} [f(x + h) - f(x)]/h$，而
\begin{equation}
(x + h)^a - x^a = x^a [(1 + h/x)^a - 1]
\end{equation}
由于 $h \to 0$，  $h/x \to 0$。 令 $\varepsilon  = h/x$， 由非整数二项式定理\upref{BiNor}，
\begin{equation}
(1 + \varepsilon)^a = 1 + a\varepsilon  + \frac{a(a - 1)}{2!} \varepsilon ^2 + \frac{a(a - 1)(a - 2)}{3!} \varepsilon ^3\dots
\end{equation}
所以
\begin{equation}
\ali{
(x^a)' &= x^a \lim_{\varepsilon  \to 0} \frac{( 1 + \varepsilon )^a - 1}{\varepsilon x} \\
&= x^{a - 1} \lim_{\varepsilon  \to 0} \qty( a + \frac{a(a - 1)}{2!}\varepsilon  + \frac{a (a - 1)(a - 2)}{3!}{\varepsilon ^2}\dots ) = a x^{a - 1}
}\end{equation}
括号中含有 $\varepsilon$ 的项相对于 $a$ 都是高阶无穷小， 求极限时可以忽略。

\subsection{正弦函数求导}
\subsubsection{几何法}
\begin{figure}[ht]
\centering
\includegraphics[width=9cm]{./figures/d04dfda9ba6d7f58.pdf}
\caption{正弦函数求导} \label{fig_FunDer_1}
\end{figure}
如\autoref{fig_FunDer_1}， 我们可以先画出一个单位圆， 那么对某个角度 $\theta$， 线段 $BD$ 的长度就是 $\sin\theta$。 现在把 $\theta$ 增加一个很小的角度 $\dd{\theta}$， 那么 $\sin(\theta+\dd{\theta})$ 就是 $AC$ 的长度。 于是 $\sin$ 的增量为 $\dd{\sin\theta}$ 就是 $AC - BD$， 即红色线段的长度。 另外由于 $\theta$ 很小， 线段 $AB$ 趋近于弧长 $AB$， 且线段 $AB$ 和 $OA$， $OB$ 都趋近垂直。 所以有微分关系\upref{Diff}
\begin{equation}
\dd{\sin\theta} = AB \cos\theta = \cos\theta \dd{\theta}
\end{equation}
“两边除以 $\dd{\theta}$” 就有
\begin{equation}
\sin'\theta = \dv{\sin\theta}{\theta} = \cos\theta
\end{equation}

\subsubsection{代数法}
使用三角函数和差化积公式（\autoref{eq_TriEqv_8}~\upref{TriEqv}）
\begin{equation}
\sin'x = \lim_{h \to 0} \frac{\sin (x + h) - \sin x}{h} = \lim_{h \to 0} \frac{\sin (h/2)}{h/2} \cdot \lim_{h \to 0}\cos( x + \frac{h}{2})
\end{equation}
由 “小角值极限\upref{LimArc}” 中的结论，
\begin{equation}
\lim_{h \to 0} \frac{\sin (h/2)}{h/2} = 1
\end{equation}
所以
\begin{equation}
\sin'x =  \lim_{h \to 0}\cos( x + \frac{h}{2}) = \cos x
\end{equation}

\subsection{余弦函数求导}
若 $f'(x) = g(x)$， 且 $b$ 为任意常数，根据导数的定义 $f'(x + b) = g(x + b)$ 同样成立（证明略）。所以 $\sin'(x + \pi/2) = \cos(x + \pi/2)$。 而 $\sin(x + \pi/2) = \cos x$，  $\cos(x + \pi/2) =  - \sin x$ 所以 $\cos' x =  - \sin x$。

另外， 也可以直接使用类似以上正弦函数推导中的几何法和代数法（留做习题）。

\subsection{正切函数求导}
根据求导法则\upref{DerRul}%未完成：词条
，因为 $\tan x = \sin x/\cos x$， 所以
\begin{equation}
\tan' x = \frac{\sin' x \cos x - \cos' x\sin x}{\cos^2 x} = \frac{\cos^2x + \sin^2 x}{\cos^2 x} = \frac{1}{\cos ^2 x} = \sec ^2 x
\end{equation}

\subsection{对数函数求导}
先证明 $\ln' x = {1}/{x}$。  $\ln(x + h) - \ln x = \ln(1 + h/x)$， 所以
 \begin{equation}
\ln 'x = \lim_{h \to 0} \frac{\ln(x + h) - \ln x}{h} = \frac{1}{x} \lim_{h \to 0} \frac{\ln(1 + h/x)}{h/x}
\end{equation}
令 $\varepsilon  = h/x$， 则
\begin{equation}
\ln' x = \frac{1}{x} \lim_{\varepsilon  \to 0} \frac{\ln(1 + \varepsilon)}{\varepsilon } = \frac{1}{x} \lim_{\varepsilon  \to 0} \ln(1 + \varepsilon)^{\frac{1}{\varepsilon }} 
\end{equation}
 
由自然对数底的定义， $\lim\limits_{\varepsilon  \to 0} (1 + \varepsilon)^{\frac{1}{\varepsilon }} = \E$， 所以
 \begin{equation}
\ln 'x = \frac{\ln \E}{x} = \frac{1}{x}
\end{equation}
再证明 $\log'_a x = {1}/(x\ln a)$。 
由对数函数的性质 $\log_a b = \ln b/\ln a$
\begin{equation}
\log'_a x = \qty(\frac{\ln x}{\ln a})' = \frac{1}{\ln a}\ln' x = \frac{1}{x\ln a}
\end{equation}

\subsection{指数函数求导}
先证明 $(\E^x)' = \E^x$。 
由于上面已经证明了 $ \ln'x = 1/x$， 而 $\E^x$ 是 $\ln x$ 的反函数。 所以令 $f(x) = \ln x$， $f'(x) = 1/x$，  $f^{ - 1} (x) = \E^x$， 代入反函数的求导法则\upref{InvDer}%未完成：词条
\begin{equation}
[f^{-1} (x)]' = \frac{1}{f'[f^{ - 1}(x)]}
\end{equation} 
得
\begin{equation}
(\E^x)' = \frac{1}{1/\E^x} = \E^x
\end{equation}
再证明 $(a^x)' = a^x \ln a$。  $(a^x)' = \qty[ \qty( \E^{\ln a} )^x ]' = \qty( \E^{(\ln a) x} )'$。 把 $\E^{(\ln a) x}$ 看成是 $\E^u$ 和 $u = (\ln a) x$ 的复合函数，根据复合函数的求导法则\upref{DerRul} ，$(a^x)' = (\ln a) a^x$ 

\subsection{反三角函数求导}
以对 $\arctan x$ 为例，设 $x=f(y)=\tan y$，$y=f^{-1}(x)=\arctan x$。利用反函数的求导法则\upref{InvDer}
\begin{equation}
[f^{-1} (x)]' = \frac{1}{f'[f^{ - 1}(x)]}
\end{equation} 
再利用 $\tan x$ 的求导公式 $(\tan y)'=1/\cos^2 y$，得
\begin{equation}
(\arctan x)'=\frac{1}{1/\cos^2 (y)}=\cos^2 y=\frac{1}{x^2+1}
\end{equation}
$\arcsin' x$ 和 $\arccos' x$ 也类似， 留做习题。
