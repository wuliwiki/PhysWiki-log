% 比奥萨伐尔定律
% keys 磁场|比奥萨法尔|电流|导线
\pentry{电流产生磁场\upref{CurMag}， 电流密度\upref{Idens}， 矢量叉乘\upref{Cross}， 线积分\upref{IntL}}

\subsection{闭合回路的磁场}
若已知空间中的电流分布， \textbf{比奥萨伐尔定律（Biot–Savart law）}给出了任意一点的磁场分布。 我们先讨论一种较为简单的情况， 即一根粗细可忽略的闭合导线中的恒定电流产生的磁场\footnote{在电动力学\upref{EM0}中， 我们提到不存在瞬间作用， 电磁场的传播需要时间。 而且变化的磁场也会产生变化的电场， 这将使计算变得十分复杂， 我们将在 “推迟势\upref{RetPot}” 中介绍。}。 如果有多个这样的导线， 可以分别计算它们的磁场并叠加即可。 假设导线中电流为 $I$， 空间中任意位置 $\bvec r$ 的磁场可以用线积分表示为
\begin{equation}\label{eq_BioSav_2}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \oint \frac{I \dd{\bvec r'} \cross \uvec R}{R^2}
= \frac{\mu_0}{4\pi} \oint \frac{I \dd{\bvec r'} \cross (\bvec r - \bvec r')}{\abs{\bvec r - \bvec r'}^3}~.
\end{equation}
其中积分路径是导线所在的环路， 延某个指定的正方向进行。 如果电流也是沿正方向， 那么 $I$ 大于零， 否则小于零。 $\bvec r'$ 是导线上某点的位置， 矢量 $\dd{\bvec r'}$ 代表导线上的一小段的长度和方向。 $\bvec R = \bvec r - \bvec r'$， $\uvec R = \bvec R/R$ 表示 $\bvec R$ 的单位矢量， $R = \abs{\bvec R}$ 是模长。

使用这个公式需要注意两点。 第一， 电流及其分布不随时间变化。 这点可以从 “不存在瞬时作用” 理解， 假设某时刻电流突然从 0 变为某个值， 由于电磁场传播需要一定时间， 环路上不可能瞬间出现磁场。 第二， 空间中不能有变化的电场， 因为变化的电场也会产生磁场。% 连接未完成

\subsubsection{电流密度形式}
更一般地， 若电流分布以电流密度 $\bvec j(\bvec r)$ 来描述， 那么
\begin{equation}\label{eq_BioSav_3}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \int \frac{\bvec j(\bvec r') \cross \uvec R}{R^2} \dd{V'} = \frac{\mu_0}{4\pi} \int \frac{\bvec j(\bvec r') \cross (\bvec r - \bvec r')}{\abs{\bvec r - \bvec r'}^3} \dd{V'}~,
\end{equation}
其中 $\int \dots \dd{V'}$ 表示对 $\bvec r'$ 在整个三维空间积分（或者包含所有电流的有限空间）。

\subsubsection{旋度形式}
\autoref{eq_BioSav_2} 和\autoref{eq_BioSav_3} 的另一种等价形式为
\begin{equation}\label{eq_BioSav_6}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \curl \oint \frac{I}{\abs{\bvec r - \bvec r'}}\dd{\bvec r'}~,
\end{equation}
\begin{equation}\label{eq_BioSav_5}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \curl \int \frac{\bvec j(\bvec r')}{\abs{\bvec r - \bvec r'}}\dd{V'}~.
\end{equation}
推导见下文， 这在一些情况下反而计算更方便。 另外， 这也可以用来推导已知电流分布产生的磁矢势\upref{BvecA}。

\subsubsection{矢量积分的计算方法}
比奥萨伐尔定律的积分中含有矢量微元的叉乘，看起来和普通的矢量积分不同，但是在常见的简单问题中，可以从叉乘的几何意义上直接转换为标量的积分（\autoref{ex_BioSav_1} 和\autoref{ex_BioSav_2}）。 如果是更一般的问题，则可以把叉乘分解成 3 个分量，然后变为 6 个标量积分
\begin{equation}\ali{
\dd{\bvec r'} \cross \bvec R &=
\begin{vmatrix}
\uvec x & \uvec y & \uvec z\\
\dd{x'} & \dd{y'} & \dd{z'}\\
x - x' & y - y' & z - z'
\end{vmatrix}\\
&= \uvec x [(z - z')\dd{y'} - (y - y')\dd{z'}] + \uvec y [\dots] + \uvec z[\dots]~,
}\end{equation}
\begin{equation}\ali{
\bvec B(\bvec r) &= \frac{\mu_0}{4\pi} \oint \frac{I\dd{\bvec r'} \cross \uvec R}{R^2}
= \frac{\mu_0 I}{4\pi} \oint \frac{\dd{\bvec r'} \cross \bvec R}{R^3} \\
& = \uvec x \frac{\mu_0 I}{4\pi} \qty[ \oint \frac{1}{R^3} (z - z') \dd{y'} - \oint \frac{1}{R^3} (y - y') \dd{z'} ] + \uvec y[\dots] + \uvec z[\dots]~.
}\end{equation}

\begin{example}{无限长直导线的磁场}\label{ex_BioSav_1}
\begin{figure}[ht]
\centering
\includegraphics[width=7cm]{./figures/edee62143a26fa83.pdf}
\caption{无限长直导线的磁场} \label{fig_BioSav_1}
\end{figure}
如\autoref{fig_BioSav_1}， 令导线与 $x$ 轴重合， 并使原点到场点的距离最近， 有 $x = r\tan\theta$， 微分得 $\abs{\dd{\bvec r'}} = \dd{x} = r\sec^2\theta\dd{\theta}$， 另有 $\uvec x\cross\uvec R = \uvec z\sin(\theta + \pi/2) = \uvec z\cos\theta $， $R = r/\cos\theta$。 代入\autoref{eq_BioSav_2} 得
\begin{equation}
\bvec B = \frac{\mu_0}{4\pi} I \uvec z\int_{-\pi/2}^{\pi/2} \frac{(r \sec^2\theta \dd{\theta}) \cos\theta}{r^2/\cos\theta^2}
= \frac{\mu_0}{4\pi} \frac Ir \uvec z\int_{-\pi/2}^{\pi/2} \cos\theta \dd{\theta}
= \frac{\mu_0}{2\pi} \frac Ir\uvec z~.
\end{equation}
可见磁场大小与距离 $r$ 成反比， 总是垂直于导线， 且方向符合右手定则。
\end{example}

\begin{example}{环形电流轴线的磁场}\label{ex_BioSav_2}
\begin{figure}[ht]
\centering
\includegraphics[width=9cm]{./figures/c34d012e43d0d1f3.png}
\caption{环形电流轴线上的磁场} \label{fig_BioSav_2}
\end{figure}
如\autoref{fig_BioSav_2}，电流环半径为 $r$， 以电流环圆心为原点，垂直与环面的轴线为 $x$ 轴， 在轴线上任取一点 $P$， 其与 $O$ 点距离 $r_0$， 令 $P$ 点与电流元 $I\mathrm{d}\bvec{l}$ 的连线与环面夹角为 $\alpha$, 则电流元 $I\mathrm{d}\bvec{l}$ 在 $P$ 点的磁场为
\begin{equation}
\mathrm{d}\boldsymbol{B}=\frac{\mu_0}{4\pi}\frac{I\mathrm{d}\bvec{l}\times\hat{\bvec{R}}}{R^2}~.
\end{equation}

从几何关系知道， $\mathrm{d}\bvec{B}$ 在 $x$ 轴与 $\bvec{R}$ 所在直线组成的平面内，且与 $x$ 轴夹角为 $\alpha$，将 $\mathrm{d}\bvec{B}$ 分解为平行于 $x$ 轴 的分量 $\mathrm{d}\boldsymbol{B_\parallel}$ 和垂直于 $x$ 轴的分量 $\mathrm{d}\bvec{B_\bot}$. 由对称性可知，电流环上与电流元 $I\mathrm{d}\bvec{l}$ 关于圆心 $O$ 中心对称的电流元 $I\mathrm{d}\bvec{l'}$ 在 $P$ 点的磁场垂直分量必定与 $\mathrm{d}\bvec{B_\bot}$ 等大反向。于是，所有电流元在 $P$ 点的磁场垂直分量的矢量和为零。 那么， 由\autoref{eq_BioSav_3} 
\begin{equation}
\begin{aligned}
\bvec{B}&=\oint{\mathrm{d}\bvec{B_\parallel}}=\oint\mathrm{d}B\cos{\alpha}\uvec x=\oint\frac{\mu_0}{4\pi}\frac{I\mathrm{d}l}{R^2}\cos\alpha\uvec x\\
&=\frac{\mu_0Ir}{2R^2}\cos\alpha=\frac{\mu_0Ir^2}{2R^3}\uvec x\\
&=\frac{\mu_0Ir^2}{2(r_0^2+r^2)^{\frac{3}{2}}}\uvec x~.
\end{aligned}
\end{equation}
\end{example}

\subsection{详细说明}
比奥萨伐尔定律是电磁学的基本假设之一\footnote{也可以把麦克斯韦方程组中关于磁场旋度的式子看成基本假设， 比奥萨法尔是在静电学条件下的推论。}，所以以下并不是推导，而是解释公式的意义。

一个粗细忽略不计的电流回路中有电流 $I$， 如何确定该回路在空间中任意一点所产生的磁场呢？ 由于磁场与电场一样可以叠加，我们可以把回路划分成极小的线段，分别计算每个小线段在某点 $\bvec r$ 产生的磁场，然后求和。当这些小线段的长度趋近于零，求和就变成了线积分\upref{IntL}。

\begin{figure}[ht]
\centering
\includegraphics[width=7cm]{./figures/70386cc4a38d755e.pdf}
\caption{$\bvec r'$处的一小段电流$I \dd \bvec r'$在 $\bvec r$处产生磁场 $\dd \bvec B$.} \label{fig_BioSav_3}
\end{figure}

那如何计算一小段（电流元）产生的磁场呢？ 令该电流元位置为 $\bvec r'$， 长度为 $\dd{r}$， 为了标明正方向可以记为矢量微元 $\dd{\bvec r}$。 现在我们要求空间中任意一点 $\bvec r$ （把这点叫做场点）的磁场，设电流元的位置为 $\bvec r$ （把这点叫做原点），且设
\begin{equation}
\bvec R = \bvec r - \bvec r'~,
\end{equation}
令 $\dd{\bvec r}$ 与 $\bvec R$ 的夹角为 $\theta$。

首先，磁场大小正比于 $I$， 这是合理的，因为如果把两小段电流元重叠放在一起，那么根据叠加原理，任何地方的磁场都会增加一倍。其次，与点电荷的电场（库仑定律）类似，场强与距离的平方成反比。最后，由于电流有特定的方向，磁场不再具有球对称性，而是以导线为轴的中心对称。 磁场大小正比于 $\abs{\dd{\bvec r} \cross \uvec R} = \sin\theta \dd{r}$ （磁场方向垂直于 $\dd{\bvec r}$ 和 $\bvec R$ 所在平面，符合右手定则，见矢量的叉乘\upref{Cross}）。这说明，在 $I, \bvec r'$ 和长度 $R$ 不变时， 该电流源在垂直它的方向（$\theta  = \pi /2$）产生最大场强， 在共线方向（$\theta  = 0$）场强为零。

要注意的是，虽然我们是对单独一个 $I\dd{\bvec r}$ 分析， 但稳定的单个电流元在现实中并不存在。因为线电流必须组成环路，否则在两个端点处就会分别积累大量的异号电荷（见电流的连续性\upref{ChgCsv}），从而产生变化的电场及磁场，而在静态电磁场问题中，我们要求净电荷和电流的分布不随时间改变。所以在利用比奥萨伐尔定律时， 必须要以对整个闭合回路积分 （无穷长直导线或者螺线管等理想化问题除外）%未完成；链接
若给所有的小电流源编号为 $I\dd{\bvec r_i}$， 令第 $i$ 个电流源的起点为 $\bvec r'_i$， $\bvec R_i = \bvec r - \bvec r'_i$。把所有电场矢量相加，变为
\begin{equation}
\bvec B (\bvec r) = \frac{\mu_0}{4\pi} \sum\limits_i \frac{I \dd{\bvec r_i} \cross \uvec R_i}{R_i^2}~.
\end{equation}
当电流元无穷短，数量无穷多的时候，上式写为积分的形式，且由于第 $i$ 个电流元的终点就是第 $i+1$ 个电流元的起点， $\dd{\bvec l_i} = \bvec r'_{i + 1} - \bvec r'_i = \dd{\bvec r'}$， 矢量积分写为
\begin{equation}\label{eq_BioSav_4}
\bvec B (\bvec r) = \frac{\mu_0}{4\pi} \oint \frac{I\dd{\bvec r'} \cross \uvec R}{R^2}~.
\end{equation}
注意 $\bvec R$ 是场点 $\bvec r$ 和源点 $\bvec r'$ 的函数，积分时把 $\bvec r$ 视为常数而对 $\bvec r'$ 积分。为了使公式更明确，在另一些电磁学教材中把上式直接记为
\begin{equation}\label{eq_BioSav_1}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \oint \frac{I \dd{\bvec r'} \cross (\bvec r - \bvec r')}{\abs{\bvec r - \bvec r'}^3}~.
\end{equation}


\subsubsection{电流密度的形式}
这里使用一个简单的例子把比奥萨伐尔定律拓展到任意电流密度分布 $\bvec j$ 的情况（注意不是推导）。 事实上这才是更一般的奥萨伐尔定律， 前者可以看成是一种特殊情况。

假设电流的空间分布是连续变化的而不能看成一条截面不计曲线，我们需要用电流密度 $\bvec j$ 来表示空间的电流分布。现在考虑一个粗细不能忽略的环路， $\bvec r'$ 处的截面积为 $A$ （取截面时应垂直于电流），通过截面的电流为 $I = A\bvec j$， 所以电流元变为 $I \dd{\bvec l} = \bvec JA \dd{l} = \bvec j \vdot \dd{V}$ （根据定义， $\dd{\bvec r}$ 与 $\bvec j$ 的正方向相同）， $\dd{V}$ 是电流元的体积。于是比奥萨伐尔定律的环路积分变为体积分
\begin{equation}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \int \frac{\bvec j(\bvec r') \cross \uvec R}{R^2}\dd{V'}~,
\end{equation}
注意积分内的电流密度是关于源点的函数而不是场点的函数。理论上，体积分应该在导线内部进行，然而导线外部电流密度为零，故积分可以对全空间进行。类比\autoref{eq_BioSav_1}， 更明确的写法是
\begin{equation}
\bvec B(\bvec r) = \frac{\mu_0}{4\pi} \int \frac{\bvec j(\bvec r') \cross (\bvec r - \bvec r')}{\abs{\bvec r - \bvec r'}^3} \dd{V'}~,
\end{equation}
积分时 $\bvec r$ 视为常数。

\subsection{旋度形式的证明}
这里证明\autoref{eq_BioSav_5} 和\autoref{eq_BioSav_3} 等效， \autoref{eq_BioSav_6} 的证明同理（留做习题）。 由梯度的定义易得
\begin{equation}
\frac{\bvec r - \bvec r'}{\abs{\bvec r - \bvec r'}^3} = -\grad \frac{1}{\abs{\bvec r - \bvec r'}}~,
\end{equation}
注意这里的 $\grad$ 算符只对 $\bvec r $ 作用。 将其代入\autoref{eq_BioSav_3} 得
\begin{equation}
\begin{aligned}
\bvec B(\bvec r) &= \frac{\mu_0}{4\pi} \int \frac{\bvec j(\bvec r') \cross (\bvec r - \bvec r')}{\abs{\bvec r - \bvec r'}^3} \dd{V'}\\
&= \frac{\mu_0}{4\pi} \int \grad \frac{1}{\abs{\bvec r - \bvec r'}} \cross \bvec j(\bvec r') \dd{V'}\\
&= \frac{\mu_0}{4\pi} \curl \int \frac{\bvec j(\bvec r')}{\abs{\bvec r - \bvec r'}} \dd{V'}~.
\end{aligned}
\end{equation}
最后一步使用了\autoref{eq_VopEq_3}~\upref{VopEq}， 当 $\bvec A$ 为常数时
\begin{equation}
(\grad f) \cross\bvec A = \curl(f\bvec A)~.
\end{equation}
证毕。
