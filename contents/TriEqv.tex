% 三角恒等式
% 三角函数|三角恒等式|勾股定理

\pentry{三角函数（高中）\upref{HsTrFu}}

这里列出几个高中常见的三角函数恒等式． 以下用到的两个高中数学不常见的三角函数分别为 $\csc \alpha= 1/\sin \alpha$， $\sec \alpha = 1/\cos \alpha$， 分别读作 cosecant 和 secant．

\subsubsection{勾股定理}
\begin{equation}
\sin^2 \alpha + \cos^2 \alpha = 1
\end{equation}
等式两边同除 $\cos^2 \alpha$ 和 $\sin^2 \alpha$ 得
\begin{gather}
\label{TriEqv_eq13}
\tan^2 \alpha + 1 = \sec^2 \alpha\\
1 + \cot^2\alpha = \csc^2\alpha
\end{gather}

\subsubsection{两角和公式}
\begin{gather}\label{TriEqv_eq1}
\sin(\alpha\pm \beta) = \sin \alpha\cos \beta \pm \cos \alpha\sin \beta\\
\label{TriEqv_eq2}
\cos(\alpha\pm \beta) = \cos \alpha\cos \beta \mp \sin \alpha\sin \beta\\
\tan(\alpha\pm \beta) = \frac{\tan \alpha \pm \tan \beta}{1 \mp \tan \alpha \tan \beta}
\end{gather}

\subsubsection{二倍角公式}

令\autoref{TriEqv_eq1} 中 $\beta=\alpha$ 取上号得
\begin{gather}
\sin 2\alpha = 2\sin \alpha\cos \alpha\\
\label{TriEqv_eq4}
\cos 2\alpha = \cos^2 \alpha - \sin^2 \alpha\\
\tan 2\alpha = \frac{2\tan \alpha}{1 - \tan^2 \alpha}
\end{gather}

\subsubsection{降幂公式}
结合\autoref{TriEqv_eq4} 和 $\sin^2 \alpha + \cos^2 \alpha = 1$ 可以得到
\begin{gather}
\sin^2 \alpha = \frac12 (1- \cos 2\alpha) \label{TriEqv_eq5} \\
\cos^2 \alpha = \frac12 (1+\cos 2\alpha) \label{TriEqv_eq6}
\end{gather}
由此可得半角公式
\begin{gather}
\sin\frac{ \alpha}{2} = \pm\sqrt{\frac{1-\cos \alpha}{2}}\\
\cos\frac{ \alpha}{2}= \pm\sqrt{\frac{1+\cos \alpha}{2}}\\
\tan\frac{ \alpha}{2} = \pm\sqrt{\frac{1-\cos \alpha}{1+\cos \alpha}} = \frac{\sin \alpha}{1+\cos \alpha} = \frac{1-\cos \alpha}{\sin \alpha}
\end{gather}
注意正负号的选择需要根据 $\alpha$ 所在的区间判断， 如果需要恒等式则两边取平方．

\subsubsection{和差化积公式}
\begin{gather}
\sin \alpha + \sin \beta = 2\sin\qty(\frac{\alpha + \beta}{2})\cos\qty(\frac{\alpha - \beta}{2})\label{TriEqv_eq7}\\
\sin \alpha - \sin \beta = 2\sin\qty(\frac{\alpha - \beta}{2})\cos\qty(\frac{\alpha + \beta}{2})\label{TriEqv_eq8}\\
\cos \alpha + \cos \beta = 2\cos\qty(\frac{\alpha+\beta}{2})\cos\qty(\frac{\alpha-\beta}{2})\label{TriEqv_eq9}\\
\cos \alpha - \cos \beta = -2\sin\qty(\frac{\alpha+\beta}{2})\sin\qty(\frac{\alpha-\beta}{2})\label{TriEqv_eq10}
\end{gather}

\subsubsection{积化和差公式}
根据上文的和差化积公式， 我们也可以直接写出积化和差公式
\begin{gather}
\label{TriEqv_eq11}
\sin \alpha\sin \beta = \frac12 [\cos(\alpha - \beta) - \cos(\alpha + \beta)]\\
\label{TriEqv_eq12}
\cos \alpha\cos \beta = \frac12 [\cos(\alpha + \beta) + \cos(\alpha - \beta)]\\
\label{TriEqv_eq14}
\sin \alpha\cos \beta = \frac12 [\sin(\alpha + \beta) + \sin(\alpha - \beta)]
\end{gather}

\subsubsection{辅助角公式}
\begin{equation}
a\sin \alpha + b\cos \alpha = \sqrt{a^2+b^2}\sin(\alpha + \phi) \qquad \qty(\phi = \tan^{-1}\frac{b}{a})
\end{equation}

\subsection{证明}\label{TriEqv_sub1}
\subsubsection{两角和公式}
\begin{figure}[ht]
\centering
\includegraphics[width=7cm]{./figures/TriEqv_2.pdf}
\caption{两角和公式} \label{TriEqv_fig2}
\end{figure}
如\autoref{TriEqv_fig2}， 要证明\autoref{TriEqv_eq1}， 令 $OB = 1$， 那么 $\sin(\alpha+\beta) = BD = AC + BE$， 而 $AC = OA \sin\alpha$， $OA = \cos\beta$； $BE = AB\cos\alpha$， $AB = \sin\beta$， 代入得 $\sin(\alpha+\beta) = \sin\alpha\cos\beta + \cos\alpha\sin\beta$． 注意当 $\alpha$ 或 $\beta$ 取其他任意值时， 重新画图同样可以证明该关系． 所以给 $\beta$ 取相反数， 就得到 $\sin(\alpha-\beta) = \sin\alpha\cos\beta - \cos\alpha\sin\beta$

要证明\autoref{TriEqv_eq2}， $\cos(\alpha+\beta) = OD = OC - EA$， 而 $OC = OA\cos\alpha$， $OA = \cos\beta$； $EA = AB\sin\alpha$， $AB = \sin\beta$， 代入得 $\cos(\alpha+\beta) = \cos\alpha\cos\beta - \sin\alpha\sin\beta$， $\beta$ 取相反数得 $\cos(\alpha-\beta) = \cos\alpha\cos\beta + \sin\alpha\sin\beta$． 证毕．

\subsubsection{两角和公式（几何矢量）}
把以上过程用几何矢量\upref{GVec} 语言可以表达得更自然． 令 $\uvec x, \uvec y$ 分别是\autoref{TriEqv_fig2} 直角坐标的单位矢量， $OA$ 方向的单位矢量为 $\uvec a$， $AB$ 方向的单位矢量为 $\uvec b$． 易得
\begin{gather}
\uvec a = \cos\alpha\ \uvec x + \sin\alpha\ \uvec y\\
\uvec b = -\sin\alpha\ \uvec x + \cos\alpha\ \uvec y
\end{gather}
同样以 $O$ 为原点， $\uvec a, \uvec b$ 可以看成 $x$-$y$ 直角坐标系旋转后的坐标系中的单位矢量． 令 $OB$ 矢量为 $\uvec u$， 那么 $\uvec u = \cos\beta\ \uvec a + \sin\beta\ \uvec b$， 把以上两式代入得
\begin{equation}
\uvec u = (\cos\alpha\cos\beta - \sin\alpha\sin\beta)\uvec x + (\sin\alpha\cos\beta + \cos\alpha\sin\beta)\uvec y
\end{equation}
这就同时证明了两个两角和公式． 证毕．

\subsubsection{和差化积}
以\autoref{TriEqv_eq9} 为例， $\cos \alpha, \cos \beta$ 和 $\cos \alpha + \cos \beta$ 分别等于\autoref{TriEqv_fig1} 中矢量 $\bvec A, \bvec B$ （令它们的模长为 1） 和 $\bvec A + \bvec B$ 在水平方向的投影长度， 而 $\bvec A + \bvec B$ 在水平方向的投影长度等为 $\abs{\bvec A + \bvec B}\cos[(\alpha+\beta)/2]$， 其中 $\abs{\bvec A + \bvec B} = 2\cos [(\beta-\alpha)/2]$， 代入可得\autoref{TriEqv_eq9}． 利用 $\bvec A + \bvec B$ 在竖直方向的投影可得\autoref{TriEqv_eq7}， 把\autoref{TriEqv_eq7} 和\autoref{TriEqv_eq9} 中的 $\beta$ 分别替换成 $-\beta$ 和 $\beta+\pi$ 可推导出\autoref{TriEqv_eq8} 和\autoref{TriEqv_eq10}．
\begin{figure}[ht]
\centering
\includegraphics[width=5.5cm]{./figures/TriEqv_1.pdf}
\caption{和差化积公式推导} \label{TriEqv_fig1}
\end{figure}
\addTODO{图中 $x,y$ 改为 $\alpha,\beta$}
