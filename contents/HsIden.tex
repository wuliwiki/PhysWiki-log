% 恒等式与恒成立不等式（高中）
% keys 恒等式|恒成立|不等式恒成立
% license Xiao
% type Tutor

\pentry{等式与不等式 \nref{nod_HsEquN}}{nod_1bc6}

在\enref{等式与不等式}{HsEquN}中已经介绍过等式和不等式的概念，本文将专注处理恒成立的等式和不等式。恒成立指的是在给定的变量取值范围中，不论取哪个值，等式（或不等式）均成立。尽管普通的不等式方程也可说在他们的解集上恒成立，但一般来讲对不等式而言恒成立要求的取值范围更广泛一些。

\subsection{恒等式}\label{sub_HsIden_1}

恒成立的等式称作\textbf{恒等式（identities）}，某些时刻为了强调恒等关系会采用$\equiv$来代替$=$。对于一个恒等式，等号两侧的对应参数在代数关系上也需要完全一致。这是恒等式的本质属性，也是待定系数法成立的基础。比如：若等式$ax^2+bx+c=x^2+2x+1$是恒等式，则必有$a=c=1,b=2$，若不是恒等式，则需要研究方程$(a-1)x^2+(b-2)x+(c-1)=0$，根据$\Delta=(b-2)^2-4(a-1)(c-1)$来判断解的形式。因此，在看到等号时，及时判断其是否为恒等式影响深远。

\subsubsection{常见恒等式}

在高中阶段，常见的恒等式包括\enref{三角恒等式}{HsAnTf}、\enref{组合恒等式}{combin}以及代数运算中的恒等式，包括\textbf{二项式定理（Binomial theorem）}和\textbf{等幂和差公式（Sum and difference of powers）}。

\begin{theorem}{二项式定理}
对两个表达式$a$与$b$和正整数$n$有：
\begin{equation}
\displaystyle(a+b)^n=\sum_{k=0}^n{\mathrm C}_n^ka^kb^{n-k}~.
\end{equation}
其中，${\mathrm C}_n^k$称作\enref{组合数}{HsCb}，${\mathrm C}_n^k={n!\over k!(n-k)!}$，$\sum$为\enref{求和符号}{SumSym}。两个常见的特例为：
\begin{itemize}
\item 完全平方：$(a\pm b)^2=a^2\pm2ab+b^2$
\item 完全立方：$(a\pm b)^2=a^3\pm 3a^2b+3ab^2\pm b^2$
\end{itemize}
\end{theorem}

完全平方和完全立方公式的$\pm$符号，可以认为是$a+(\pm b)$，这样就能解释拆开后的$\pm$出现的规律——它们都出现在$b$为奇次的项前面。

\begin{theorem}{等幂和差公式}\label{the_HsIden_2}
两个表达式$a$与$b$的幂次均为$n$（$n\in\mathbb{N}$），则它们的差具有如下关系：
\begin{equation}
a^n - b^n = (a - b)(a^{n-1} + a^{n-2}b + \cdots + b^{n-1})~.
\end{equation}
若$n$为奇数，则它们的和具有如下关系：
\begin{equation}
a^n + b^n = (a + b)(a^{n-1} - a^{n-2}b + a^{n-3}b^2 - \cdots + b^{n-1})~.
\end{equation}
以下是两个常见特例：
\begin{itemize}
\item $n=2$时，称作\textbf{平方差公式}$a^2-b^2=(a+b)(a-b)$
\item $n=3$时，称作\textbf{立方和、差公式}$a^3\pm b^3=(a\pm b)(a^2\mp ab+b)$
\end{itemize}
\end{theorem}

这个公式在因式分解中相当常用，另外，偶数次的和没有分解方式。

\subsubsection{恒等式与公式、定义}

\textbf{公式（formula）}和\textbf{定义（式）（definition）}是两个常见且容易与恒等式混淆的概念。实际上，二者都属于恒等式的范畴，但侧重点和应用场景不同。

恒等式的本质在于揭示数学中的普遍规律，是一种真理性陈述。具体来说，定义式通过明确的等号，将数学对象与其性质或关系结合在一起。如果定义式不成立，就意味着相关定义已经发生改变。例如，小学时$\pi$被定义为圆的周长与直径之比，这一关系必须恒成立，才能使$\pi$的定义具有一致性。

相比之下，公式更关注变量之间的联系及其在特定情境中的应用。公式通常在约定的范围内成立，且一般应用的条件或范围也并不苛刻。以圆的面积公式$A = \pi r^2$为例，这不仅揭示了圆的面积与半径之间的关系，也为具体计算提供了有力工具。公式的主要作用在于描述变量间的依赖关系，并广泛应用于问题解决的过程中。

除了在数学中，公式在其他学科中同样具有重要价值。例如：
\begin{itemize}
\item 在力学中，牛顿第二定律公式$F = ma$描述了力、质量与加速度之间的关系；
\item 在电学中，欧姆定律$V = IR$揭示了电压、电流和电阻的依赖关系；
\item 在计算机科学中，算法复杂度公式$T(n) = an^2 + bn + c$用于衡量算法的时间效率。
\end{itemize}

综上所述，定义式提供了理论基础，确保数学对象的概念清晰和一致；而公式则更注重描述关系、解决问题的工具性。二者的不同点在物理领域将非常凸显。

\subsubsection{与函数相关的恒等式}
\pentry{导数\nref{nod_HsDerv}}{nod_8864}
当讨论两个函数相等时，需明确“相等”的具体含义。在数学中，函数相同通常意味着它们在定义域、对应关系以及值域上完全一致，这与定义一个函数时，用一个记号$f(x)$等于某个表达式一致。这时的等式就是恒等式。恒等式的一个重要性质是，它在定义域的每一点都成立，因此可以对等式两侧进行求导、积分等运算，而不改变恒等关系。

而对于等式$f(x)=g(x)$，若它是指恒等关系，那么这一表述是平凡的，因为它只意味着改了个名称符号。因此，这种表达式出现时通常指的是条件等式，也就是方程。它仅在特定条件或某些点上成立，而通过求解可以找出使等式成立的点，这些点通常对应于两个函数的交点。对于一般的条件等式，不可以对等式两侧进行求导、积分等操作，因为条件等式仅在特定点上成立，运算可能会破坏其成立的条件，修改等式原本表达的含义。

例如：对$f(x)=2x^2$两侧求导可以得到$f'(x)=4x$，而对$x^2=2x+4$两侧求导，则得到$2x=2\implies x=1$，此时并非原方程的解\footnote{当然，也不排除某些情况恰巧得到了解，但事实上是错误的，只是巧合而已，比如$x^2=2x-1$。}。

\subsection{不等式恒成立的条件}

与等式的情况相同，存在某些不等式对任意变量值都成立，此时称\textbf{不等式恒成立}。由于不等式恒成立经常做为题目背景给出，下面会在最值概念的基础上，解释一下常见的表述方式，以防看到某个不等式恒成立时，读者无法理解它背后想要传递的内容。

\subsubsection{最值}

\textbf{最值（extreme value）}是生活中一个极为常见的概念，用来描述一组可以比较的量的范围。无论是物理上的高度、温度，还是其他可量化的数值，确定其最值可以帮助更快地掌握这些量的变化或分布情况。在数学中，最值通常分为\textbf{最大值（maximum）}和\textbf{最小值（minimum）}。对于不同的对象，最值有多种定义和表示方法，但无论形式如何，其核心目标始终是为了确定这些量的范围。例如，两个数的最值运算是最基本的情况。生活中经常遇到类似的场景，例如比较两个朋友的身高。若想知道谁更高，需要求最大值，而若想知道谁更矮，则需要求最小值。

\begin{definition}{最值运算}
对于两个实数$a,b$，最大值运算$\max(a,b)$的结果定义为二者更大的值：
\begin{equation}
\max(a,b)=\begin{cases}
a,\qquad a\geq b\\
b,\qquad b>a
\end{cases}~.
\end{equation}
最小值运算$\min(a,b)$的结果定义为二者更小的值：
\begin{equation}
\min(a,b)=\begin{cases}
a,\qquad a\leq b\\
b,\qquad b<a
\end{cases}~.
\end{equation}
\end{definition}

关于对两个数进行的最值运算，有个蛮有趣的通用计算规则，或许可以帮助你理解它为什么是一个运算：
\begin{equation}
\begin{array}{c} 
\displaystyle\max(a, b) = \frac{a + b + |a - b|}{2} \\  
\displaystyle\min(a, b) = \frac{a + b - |a - b|}{2} \\  
\end{array}~.
\end{equation}

这个计算规则，利用了绝对值隐含的不等式性质。在最值运算中，可以将多个需要比较的项用括号括起来，比如$\max(1,2,3,4)$。然而，这种方式对项目较多的情形来说显得繁琐而冗长。为了解决这个问题，可以借助集合的概念，将多个元素集合化，然后直接对集合进行最值运算，表述为$\max\{a, b, c, d\}$，从而更直观地表达“从一组数中找最大值”的含义。于是有下面针对集合的最值。

\begin{definition}{集合的最值}
对于一个\textbf{全序（total order）}集$A$\footnote{\textbf{全序}指整个集合中，任意两个元素都可以比较大小。}，集合的最值指的是最大或最小的元素，分别记作：
\begin{equation}
\max A\qquad\text{和}\qquad\min A~.
\end{equation}
\end{definition}

对于有限集合，最值的确定相对简单，可以通过比较直接得到。而当集合包含无限多个元素时，讨论最值的范围超出了高中数学的要求，但可以借助区间的概念进行直观理解。

如果一个集合是闭区间，例如$[a, b]$，由于端点$a$和$b$属于集合，因此集合在这两个方向上都存在最值，最小值为$a$，最大值为$b$。相反，对于开区间$(a, b)$，端点$a$和$b$并不属于集合。根据\aref{实数的稠密性}{sub_HsFunB_1}，可以在任意给定的最值与端点之间找到其他满足条件的最值，因此无法明确确定一个最值。这种情况下，称集合的最值不存在。\footnote{值得注意的是，对于开区间$(a, b)$，虽然最值不存在，但端点$a$和$b$在数学上被称为区间的\textbf{确界（supremum和infimum）}确界是闭区间和开区间的统一描述，用于研究集合的上界与下界性质。确界并不一定属于集合，但它是所有集合元素的上界或下界中“最紧密的界”。例如，对于$(a, b)$，$a$是其下确界（infimum），$b$是其上确界（supremum）。上面的概念会在大学接触。}

除了区间之外的集合，通常会由函数给出，于是得到了函数的最值。

\begin{definition}{函数的最值}
对定义在$D$上函数$f(x)$，若存在$x_0\in D$使得$f(x_0)$是$f(x)$的所有值中最大的，则称$f(x_0)$为函数的最大值，记作：
\begin{equation}
f(x_0) = \max_{x \in D} f(x)~.
\end{equation}
反之，若是最小的，则称$f(x_0)$为函数的最小值，记作：
\begin{equation}
f(x_0) = \min_{x \in D} f(x)~.
\end{equation}
\end{definition}

二者其实对应的就是函数图像中的最高点和最低点。关于函数的最值，更多的研究会在函数部分展开。

\subsubsection{不等式恒成立条件}

若给定集合$A$，在$A$上函数满足：
\begin{equation}
\displaystyle\max_{x\in A} f(x)\leq 0\qquad\text{或}\qquad\min_{x\in A} f(x)\geq 0~.
\end{equation}
，则称$f(x)\leq 0$或$f(x)\geq 0$在$A$上恒成立。可以这么理解，如果一组数里面最大的都是负数，那么剩下的也都是负数，而反过来，如果一组数里面最小的都是正数，那么剩下的也都是正书。

$f(x)\leq g(x)$或$f(x)\geq g(x)$成立的充要条件是函数$F(x)=f(x)-g(x)$满足之前的恒成立条件。如果想要各自考虑$f(x),g(x)$，而不是上面的方法。那么$\max f(x)\leq\min g(x)$或$\min f(x)\geq\max g(x)$对于恒成立而言是充分不必要条件。以第一个为例，成立的原因是$f(x)\leq\max f(x)\leq\min g(x)\leq g(x)$，这是一种严格的成立，就像二者中间有一个区域，谁都不越雷池一步。
\addTODO{说明图，一个是彼此交错但不超过，一个是中间严格不大于。}

这里容易搞混符号，注意，$\min f(x)\leq\min g(x)$或$\max f(x)\geq\max g(x)$对于恒成立而言既不充分也不必要，因为这只描述了一个值的关系，可能只有一部分点满足了大小关系，而其余则相反。

\addTODO{说明图，瘦高矮胖的正态分布}

另外如果$g(x)=c$是常数，则之前的成立条件也可认为是：若在$A$上函数满足：
\begin{equation}
\displaystyle\max_{x\in A} f(x)\leq a\qquad\text{或}\qquad\min_{x\in A} f(x)\geq b~.
\end{equation}
，则称$f(x)\leq a$或$f(x)\geq b$在$A$上恒成立。

一般出现在题目中时，往往会给出一个含参的函数，如$f(x;a,b,c)=ax^2+bx+c$等。这时需要根据题目的条件，利用上面的成立条件来推导。下面给出一些常用的不同的函数或运算满足的恒成立的不等式，请在使用时注意他们成立的前提条件和取等条件：
\begin{table}[ht]
\centering
\caption{常见的恒成立不等式}\label{tab_HsIden1}
\begin{tabular}{|c|c|c|}
\hline
成立前提 & 不等式 & 取等条件 \\
\hline
$x\in\mathbb{R}$&$|x|\geq0$&$x=0$ \\
\hline
$x\in\mathbb{R}$&$x^{2n}\geq0\quad(n\in\mathbb{Z})$&$x=0$\\
\hline
$x\in[0,+\infty)$&$x^{1\over2n}\geq0\quad(n\in\mathbb{Z})$&$x=0$\\
\hline
$x\in\mathbb{R}$，$b^2-4ac\leq0$且$a>0$\footnote{大部分情况下也可以由$c>0$来代替$a>0$进行判定。}&$ax^2+bx+c\geq0$&$b^2-4ac=0$且$\displaystyle x=-{2a\over b}$\\
\hline
$x\in\mathbb{R}$，$b^2-4ac\leq0$且$a<0$\footnote{大部分情况下也可以由$c<0$来代替$a<0$进行判定。}&$ax^2+bx+c\leq0$&$b^2-4ac=0$且$\displaystyle x=-{2a\over b}$\\
\hline
$x\in\mathbb{R}$&$a^x>0\quad(a\in\mathbb{R}^+)$&-\\
\hline
$x\in\mathbb{R}$&$|\sin x|\leq 1$&$\displaystyle x={\pi\over2}+k\pi\quad (k\in\mathbb{Z})$\\
\hline
$x\in\mathbb{R}$&$|\cos x|\leq 1$&$x=k\pi\quad (k\in\mathbb{Z})$\\
\hline
$\displaystyle x\in[0,{\pi\over2})$&$\sin x\leq x\leq\tan x$&$x=0$\\
\hline
$\displaystyle a>b>0,c>0$&$\displaystyle{a\over b}<{a+c\over b+c}$\footnote{这经常被称为糖水不等式，推导过程：设$a=b+k$，则$\displaystyle{a\over b}<{a+c\over b+c}\iff\displaystyle1+{k\over b}<1+{k\over b+c}\iff\displaystyle{1\over b}<{1\over b+c}$}&-\\
\hline
\end{tabular}
\end{table}

% $\displaystyle x\in[-{3\pi\over4}+2k\pi,{\pi\over4}+2k\pi]\quad (k\in\mathbb{Z})$&$\sin x\leq\cos x$&$\displaystyle x={\pi\over4}+k\pi\quad (k\in\mathbb{Z})$\\
% \hline
% $\displaystyle x\in[{\pi\over4}+2k\pi,{5\pi\over4}+2k\pi]\quad (k\in\mathbb{Z})$&$\sin x\geq\cos x$&$\displaystyle x={\pi\over4}+k\pi\quad (k\in\mathbb{Z})$\\

还有一种常见的情况，选取$g(x)$为$f(x)$的某条切线，此时，切点往往成为取等的临界条件。比如$\forall x\in\mathbb{R},e^x\geq x+1$当且仅当$x=0$时成立，又如$\forall x\in\mathbb{R}^+,\ln x\leq x-1$当且仅当$x=1$时成立。这往往会成为考题的考点。

\subsection{基本不等式}

\textbf{基本不等式}是基于$(a-b)^2\geq0$得到的一组不等关系。由于$(a-b)^2\geq0$在实数域恒成立，因此由此推广得到的不等式也是在实数域恒成立的，而在复数域则不具备这种关系。推广的过程是通过向$a,b$赋值实现的，而推广后由于不等号两边的表达式均为某种均值的形式，因此基本不等式也称为\textbf{均值不等式}，而由于存在多种均值，也有人称其为\textbf{（均值）不等式链}。

\subsubsection{基本不等式的简易形式}

下面给出的是高中要求的常见形式：

\begin{theorem}{基本不等式（简易）}
\begin{equation}
{a^2+b^2\over2}\geq ab\qquad\text{或}\qquad{a+b\over2}\geq \sqrt{ab}~.
\end{equation}
当且仅当$a=b$时取等。
\end{theorem}
证明过程是显然的，将$(a-b)^2\geq0$打开并移项就可以得到，或后的写法也只是将$a,b$替换成了$\sqrt{a},\sqrt{b}$。但他背后的意义是深远的，一般称$\displaystyle a+b\over2$为\textbf{算术平均数（Arithmetic mean，或算数均值）}，也就是通常生活中提到平均值时所指的数，称$\sqrt{ab}$为\textbf{几何平均数（Geometric mean，或几何均值）}。几何平均数通常在计算增长率时使用，比如投资某个项目，第一年的收益率是$4\%$，第二年是$10\%$，则两年的平均收益率并非$\displaystyle {104\%+110\%\over2}-1=7\%$，而是$\sqrt{1.04\times1.10}-1=6.96\%$。根据基本不等式，如果直接计算算术平均数，则总会高估实际的收益率。

同时，根据$a^2+b^2\geq2ab$可以得到$2a^2+2b^2\geq a^2+2ab+b^2=(a+b)^2$，两侧同时开方则有：
\begin{equation}
\sqrt{a^2+b^2\over2}\geq{a+b\over2}~.
\end{equation}
而将$a^2+b^2\geq2ab$中的$a,b$替换成$\displaystyle\sqrt{1\over a},\sqrt{1\over b}$，则有$\displaystyle{1\over a}+{1\over b}\geq{2\over\sqrt{ab}}$，即：
\begin{equation}
{2\over\displaystyle{1\over a}+\displaystyle{1\over b}}\leq\sqrt{ab}~.
\end{equation}
其中，$\displaystyle \sqrt{a^2+b^2\over2}$称为\textbf{平方平均数（Quadratic mean，或平方均值）}，它的特点是越大的值影响越大，或者说给予较大的值更高的权重。通常用在一些$0$附近的数上，来反映波动程度。$\displaystyle{2\over\displaystyle{1\over a}+\displaystyle{1\over b}}$称为\textbf{调和平均数（Harmonic mean，或调和均值）}，通常用来计算等量变化时的速率或比率，比如一段路一半以$60{\rm km/h}$的速度运动，另一半以$30{\rm km/h}$的速度运动，那么平均速度是$\displaystyle \frac{2}{\displaystyle\frac{1}{60} + \frac{1}{30}} = 40{\rm km/h}$，而非$\displaystyle{60+30\over2}=45{\rm km/h}$。

注意，本节出现的$a,b$都是变量，因此可以给其赋予某个数或某种函数，例如取$\displaystyle a=x,b={1\over x}$，此时有：$\displaystyle x+{1\over x}\geq2,\quad(x>0)$


\subsubsection{*不等式链}

下面的内容高中目前不再涉及，作为开阔视野。这四种均值都有广泛的应用\footnote{此处只给出这四种，其实有很多种均值的定义，它们也都可纳入下面的均值不等式中。}。事实上，上面的四种平均数都可以扩展至多个数，对于一列数$a_1,a_2,\cdots,a_n$，有如\autoref{tab_HsIden2} 所示的均值形式。

\begin{table}[ht]
\centering
\caption{常见平均数（或均值）}\label{tab_HsIden2}
\begin{tabular}{|c|c|c|c|}
\hline 名称 & 常用字母 & 表达式 & 与数列的关系 \\
\hline
平方平均数\footnote{也称作\textbf{均方根（root mean square，RMS）}}&$Q$ & $\displaystyle \sqrt{\frac{a_1^2 + a_2^2 + \cdots + a_n^2}{n}}$ & $\displaystyle \sum_{i=1}^nQ^2= \sum_{i=1}^na_i^2$ \\
\hline
算术平均数&$A$ & $\displaystyle \frac{a_1 + a_2 + \cdots + a_n}{n}$ &$\displaystyle \sum_{i=1}^nA= \sum_{i=1}^n{a_i}$ \\
\hline
几何平均数&$G$ & $\displaystyle \sqrt[n]{a_1 \cdot a_2 \cdot \cdots \cdot a_n}$ &$\displaystyle \prod_{i=1}^nG= \prod_{i=1}^n{a_i}$ \\
\hline
调和平均数&$H$ &  $\displaystyle \frac{n}{\frac{1}{a_1} + \frac{1}{a_2} + \cdots + \frac{1}{a_n}}$ & $\displaystyle \sum_{i=1}^n\frac{1}{H}= \sum_{i=1}^n\frac{1}{a_i}$ \\
\hline
\end{tabular}
\end{table}

在\autoref{tab_HsIden2} 中，有一列展示了不同均值与数列的关系。通过分析这一列的表达式，可以清晰地理解每种均值的具体形式是如何得出的。这些表达式揭示了每种均值的计算方法和背后的数学结构，同时也提示了不同均值适用的情境。\autoref{the_HsIden_1} 是从之前的简单形式推广得到的，此处不加证明地给出。

\begin{theorem}{均值不等式}\label{the_HsIden_1}
对于一列数$a_1,a_2,\cdots,a_n$，有
\begin{equation}
Q\geq A\geq G\geq H~.
\end{equation}
即
\begin{equation}
\displaystyle\sqrt{\frac{\displaystyle\sum_{i=1}^na_i^2}{n}}\geq \frac{\displaystyle\sum_{i=1}^na_i}{n}\geq \sqrt[n]{\prod_{i=1}^na_i}\geq \frac{n}{\displaystyle\sum_{i=1}^n\frac{1}{a_i}}~.
\end{equation}
当且仅当$\forall 0\leq i,j\leq n,a_i=a_j$时取等。
\end{theorem}


\subsection{*排序不等式}

假设有两列数字$a_1, a_2, \dots, a_n$和$b_1, b_2, \dots, b_n$。当满足条件$\forall 1 \leq i < j \leq n,  a_i \leq a_j \land b_i \leq b_j$时，称这两列为\textbf{顺序排列（increasingly ordered）}，即两个序列的增长方向一致。当满足$\forall 1 \leq i < j \leq n,  a_i \leq a_j \land b_i \geq b_j$时，则称为\textbf{逆序排列（decreasingly ordered）}，表示两个序列的增长方向相反。若不满足以上任一条件的排列方式，则称为\textbf{乱序排列（unordered）}，即增长方向无规则。

基于上述定义，可以使用排序不等式来比较不同排列的和的大小关系。排序不等式表明：逆序和 $\leq$ 乱序和 $\leq$ 顺序和。这一不等式的证明基于数学归纳法和两非正数之积非负的性质，因此排序不等式的使用范围也与均值不等式相同。事实上，可以使用排序不等式证明基本不等式、柯西不等式、切比雪夫不等式等其他恒成立的不等式。它的规范表述如下：

\begin{theorem}{排序不等式}
设两列数字 $a_1, a_2, \cdots, a_n$ 和 $b_1, b_2, \cdots, b_n$，两列数分别满足 $a_1 \leq a_2 \leq \cdots \leq a_n$ 和 $b_1 \leq b_2 \leq \cdots \leq b_n$。那么有如下不等式：
\begin{equation}
\sum_{i=1}^n a_i b_i \geq \sum_{i=1}^n a_i b_{\sigma(i)} \geq \sum_{i=1}^n a_i b_{n+1-i}~,
\end{equation}
其中 $\sigma$ 表示对 ${1, 2, \cdots, n}$ 的非顺序、逆序的任意排列，当且仅当$\forall 1\leq i,j\leq n,a_i=a_j$或$\forall 1\leq i,j\leq n,b_i=b_j$时，等号成立。
\end{theorem}

由于证明方法只使用了高中常见的方法，下面给出证明过程。

\begin{lemma}{若$a\geq b,m\geq n$，则$am+bn\geq an+bm$}\label{lem_HsEquN_1}
证明：

取$a=b+k,m=n+p$，则$k,p\geq0$，代入有：
\begin{equation}
\begin{split}
am+bn&= (b+k)m+(a-k)n \\ 
&= bm+an+kp \\
&\geq an+bm
\end{split}~.
\end{equation}
或者由$a\geq b,m\geq n$有$a-b\geq 0,m- n\geq0$，从而$(a-b)(m- n)\geq0$，打开整理即可得到结论。上面两种方法都可以知道，原不等式当且仅当$a=b$或$m=n$时取等。
\end{lemma}

下面使用数学归纳法证明排序不等式中顺序和不小于乱序和，逆序部分同理：

1. 当$n=1$时显然成立；

2. 假设当$n$时，任意乱序$\sigma(i),(1\leq i\leq n)$时不等式均成立。当取$n+1$时，$\forall 1\leq i\leq n$有$a_{n+1}>a_i,b_{n+1}>b_i$，从而代入假设有：

\begin{equation}
\begin{split}
\sum_{i=1}^{n+1} a_i b_i&=\sum_{i=1}^n a_i b_i+a_{n+1}b_{n+1}\\
&\overset{\mathrm{1}}{\geq} \sum_{i=1}^n a_i b_{\sigma(i)} +a_{n+1}b_{n+1} \\ 
&\overset{\mathrm{2}}{\geq} \sum_{i=1}^{n+1} a_i b_{\sigma(i)} \\
\end{split}~.
\end{equation}
其中：第一个$\geq$根据假设，成立，对应$1$种乱序的情况；第二个$\geq$是交换了某个$b_{\sigma(i)}$和$b_{n+1}$，此时根据\autoref{lem_HsEquN_1} 可知，必有$a_i b_{\sigma(i)}+a_{n+1}b_{n+1}\geq a_ib_{n+1} +a_{n+1}b_{\sigma(i)}$，分别对应$n$个乱序的情况。综上，对某个$\sigma(i)$乱序的前提下，添加$a_{n+1}b_{n+1}$后新生成的$n+1$种乱序情况均成立。由于假设任意乱序$\sigma(i),(1\leq i\leq n)$均成立，因此对任意的新乱序$\sigma(i),(1\leq i\leq n+1)$不等式均成立。

由数学归纳法，排序不等式恒成立。

证毕。

\subsection{*柯西不等式}

\pentry{向量\nref{nod_GVec}，几何向量的点乘\nref{nod_Dot}}{nod_fdd1}

\textbf{柯西-施瓦茨不等式（Cauchy-Schwarz Inequality）}，也称\textbf{柯西不等式}，为两个向量的内积（inner product）与它们的模长（norm）之间建立了重要的不等关系。柯西不等式是根据“内积”这种运算的定义推知的基本属性，因此所有满足“内积”定义要求的运算，或者说可以称为“内积”的运算，都会满足这个不等式\footnote{关于内积更详细的内容可以参考\enref{内积、内积空间}{InerPd}。}。

\begin{theorem}{柯西-施瓦茨不等式}
对于具备内积运算的任意两个向量$\bvec{u},\bvec{v}$，有
\begin{equation}
|\bvec{u} \cdot \bvec{v}| \leq (\bvec{u}\cdot\bvec{u})(\bvec{v}\cdot\bvec{v})=\|\bvec{u}\|\cdot\|\bvec{v}\|~.
\end{equation}
，当且仅当两个向量平行时取等。其中$\|\bvec{u}\|$是与内积对应的\textbf{范数（norm）}。
\end{theorem}

鉴于这部分是为开阔视野，上面采用了比较严谨的表述，但涉及到很多高中未曾了解的知识。不必担心，在高中阶段由于只涉及到几何向量的运算，这时的内积指的就是$\bvec{u}\cdot\bvec{v}=|\bvec{u}|\cdot|\bvec{v}|\cos\theta$，而所谓对应的“范数”指的就是向量的“模长”$|\bvec{u}|$。其实这里根据 $\cos \theta$ 的取值范围，显然可以得到结论。等号成立的条件是当 $\theta = 0$ 或 $\theta = \pi$ 时，即此时两个向量平行。

如果以高中常见的二维向量为例，利用坐标将两个向量表示出来，即$\bvec{u}=(a,b),\bvec{v}=(c,d)$，就得到了下面的表达方法：
\begin{equation}
|ac+bd|\leq\sqrt {a^2 + b^2}\cdot\sqrt{c^2 + d^2}\quad\text{或} \quad(ac+bd)^2\leq(a^2 + b^2)\cdot(c^2 + d^2)~.
\end{equation}
这种表示方法在高中的题目中更为常见。

对于多维情况，即向量的坐标是由一列数构成的时，有：

\begin{equation}
\left( \sum_{i=1}^{n} a_i b_i \right)^2\leq\left( \sum_{i=1}^{n} a_i^2 \right) \left( \sum_{i=1}^{n} b_i^2 \right) ~.
\end{equation}

这个不等式不仅在几何中起作用，在数学分析、线性代数、概率等领域都非常重要。
