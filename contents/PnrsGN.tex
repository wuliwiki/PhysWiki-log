% 彭罗斯图形表示法
% Penrose Graphic Notation|张量|图像记号|图形|微分几何|线性代数|多重线性映射|彭罗斯|彭罗斯记号



\pentry{张量\upref{Tensor}}

彭罗斯图形表示法（Penrose graphical notation，或diagrammatic tensor notation），或者叫彭罗斯图像记号，是一种用二维图像的方式直观表示张量的性质和运算的系统，由彭罗斯于1971年提出\footnote{Roger Penrose, "Applications of negative dimensional tensors," in Combinatorial Mathematics and its Applications, Academic Press (1971). See Vladimir Turaev, Quantum invariants of knots and 3-manifolds (1994), De Gruyter, p. 71 for a brief commentary.}。

图像记号通常方便手写，可应用于自旋网络、多线性代数、量子计算和李群分类等诸多领域。




\subsection{概念的引入}


考虑一个线性空间$V$上的双线性函数$f:V\times V\to\mathbb{F}$，其中$\mathbb{F}$是$V$的基域。对$f$输入两个向量，能得到一个数字；但是如果只对$f$输入一个向量，则得到的是一个对偶向量。因为对于给定的$\bvec{x}\in V$，$f(\bvec{x}, \bvec{y})$可以理解为关于$\bvec{y}$的线性函数，这个线性函数随着$\bvec{x}$变化而变化，所以你可以理解为$f$把$\bvec{x}$映射为一个$V$上的线性函数$f(\bvec{x}, \cdot)$\footnote{这里的$\cdot$表示空位，即需要输入自变量的地方。}，而线性函数正是对偶向量。

这么一看，$f$既可以理解为$V\times V\to\mathbb{F}$的映射，也可以理解为$V\to V^*$的映射，只取决于你输入的是什么。$f$作为二元映射，就像有两个接口，给它接入两个向量，它就返回一个数字；但是只接入一个向量的话，它就变成一个单自变量映射，只剩一个接口。

反过来，$V$也是$V^*$的对偶空间，所以$f$接入一个向量后所剩下的东西就是一个$V^*$中的元素——而这个东西的特点是“有一个接口”。

顺着这个思路，我们可以自然地创造出彭罗斯记号。



\begin{definition}{}

给定域$\mathbb{F}$上的线性空间$V$。将$\mathbb{F}$中的元素表示为没有接口的图形，$V$中的元素表示为有一个\textbf{上接口}的图形，$V^*$中的元素表示为有一个\textbf{下接口}的图形。$V$中不同的元素，用接口连接的图形的形状等特征作区分。

\end{definition}



\begin{example}{彭罗斯记号中的向量与对偶向量}\label{ex_PnrsGN_1}


\begin{figure}[ht]
\centering
\includegraphics[width=14cm]{./figures/4ec811aab33240d1.pdf}
\caption{彭罗斯记号表示法示意图。} \label{fig_PnrsGN_1}
\end{figure}


如\autoref{fig_PnrsGN_1} 所示，指标记号所表示的主向量$v^a$用彭罗斯记号表示为有一个向上的接口的图像，它和其它主向量的区分在于接口一端连接的形状。也就是说，如果你看到一个同样有一个上接口的图像，但是接口一端的图形和这里不一样，那就说明这是不同于$v^a$的另一个主向量。对偶向量$\omega_a$表示为一个有向下的接口的图像。

$\omega_av^a$表示上述这一对对偶向量之间相互作用所得的数字，彭罗斯记号中表示为对应的两个接口连接到一起，形成一个没有接口的对象，那就是一个数字。

如果考虑二者的张量积$T_a^{\phantom{1}b}$，那么就不把它们的接口接到一起，而是简单合并到一起，变成一个具有一上一下两接口的对象。

你可以在接口旁标注这个接口的名字，但不至于混淆的时候可以不标。

\end{example}


由\autoref{ex_PnrsGN_1} 可见，彭罗斯记号表示\textbf{缩并（contraction）}非常方便，只要把参与缩并的两个指标对应的接口接到一起就可以了。作缩并的时候要注意是哪些指标参与，因此彭罗斯记号中的接口也要注意区分。



\begin{example}{彭罗斯记号中的接口命名}

\begin{figure}[ht]
\centering
\includegraphics[width=14cm]{./figures/7cfc206f4ebc685f.pdf}
\caption{接口命名示意图。} \label{fig_PnrsGN_2}
\end{figure}

如\autoref{fig_PnrsGN_2} ，$(2, 0)$型张量被表示为一个具有两上接口的图形，我们在接口\textbf{末端}分别标注两个接口对应的指标名称。这样，入宫要计算$T^{ab}\omega_{a}$，就把$\omega_{a}$的下接口接到命名为$a$的接口上，而计算$T^{ab}\omega_{b}$时要把$\omega_b$的下接口接到命名为$b$的接口上。

如果调换指标的位置，则$T^{ba}$中两个接口的命名就和$T^{ab}$相反。只是命名改变，不影响$T^{ab}$的本质，但是很多时候我们为了方便描述，会默认接口$a$在左、接口$b$在右，于是$T^{ba}$可以表示成\autoref{fig_PnrsGN_2} 中第一行最右边那个“交叉”的形式，保证$a$、$b$的默认位置不变。

如果指标位置已默认，那么就可以省去写接口命名，而用交叉的方式表示接口顺序不同的张量。比如，如果要表达$T^{ab}=T^{ba}$，就可以写成\autoref{fig_PnrsGN_2} 第二行的样子。

\end{example}



既然不能忽略彭罗斯记号中的指标命名，就算省略指标命名也需要默认指标的位置顺序，所以换接口指标的时候要小心。

考虑$T^{ab}\omega_{c}$和$T^{ab}\delta^c_a\omega_{c}$的区别，前者有三个指标，后者只有一个。事实上，$T^{ab}\delta^c_a\omega_{c} = T^{ab}\omega_{a}$，于是彭罗斯记号里$\delta^c_a$就直接表示为一个没有连接图形的\textbf{导线}，但是导线两端的接口分别命名为$c$和$a$。


有了图形表示法，我们一开始说的$f$就很容易直观理解了。如\autoref{fig_PnrsGN_3} ，$f$本身表示为一个有两个下接口的图形，但是如果输入了一个自变量，即给它接入一个向量$v^a$（有一个上接口的图形），那么结果就是一个具有一个下接口的图形，也就是一个对偶向量。这个对偶向量的图形部分是$f$和$v^a$的形状，这意味着这个对偶向量由$f$和$v^a$共同决定。也就是说，$f(v^a, \cdot)$和$f(u^a, \cdot)$是不同的两个对偶向量，二者在彭罗斯记号中以总体图形的形状来区分。

\begin{figure}[ht]
\centering
\includegraphics[width=14cm]{./figures/c20b1c2600b6e4d4.pdf}
\caption{双线性函数示意图。} \label{fig_PnrsGN_3}
\end{figure}



\subsection{运算}










\subsection{一些重要的符号}


前面我们已经知道了，$\delta_b^a$在指标表示法中的作用是“改变指标名称”，因此在彭罗斯记号中表现为一根导线。类似地，内积$g^{ab}$是给定流形上最重要的一个双线性函数，因此特别地表示为




























