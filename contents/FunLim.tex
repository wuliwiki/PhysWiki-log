% 函数的极限（简明微积分）
% license Xiao
% type Tutor

\pentry{数列的极限（简明微积分）\nref{nod_Lim0}， 充分必要条件\nref{nod_SufCnd}， 函数（高中）\nref{nod_functi}}{nod_c4ea}

\subsection{引入}
我们先看一些简单的例子，以初步了解“极限”的概念。
\begin{example}{}\label{ex_FunLim_1}

\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/65fc12a7dfd67e6c.png}
\caption{$f(x)=\frac{\sin(x)}{x}$的图像} \label{fig_FunLim_1}
\end{figure}
思考一下$f(x)=\frac{\sin(x)}{x}$这一经典函数在原点附近的值。

众所周知，当$x=0$时，由于分母为$0$，该分数没有意义；但当$x$趋近于$0$($x=0.1,x=0.01,...$)而不等于$0$时，有趣的事情发生了： 如\autoref{fig_FunLim_1} 所示，此时分数的值似乎趋于一个确定的值$1$.

\begin{table}[ht]
\centering
\caption{x与f(x)}\label{tab_FunLim_1}
\begin{tabular}{|c|c|c|c|}
\hline
$x$ & $0.1$ & $0.01$ & $0.001$ \\
\hline
$f(x)$ & $0.9983$ & $0.99998$ & $0.9999998$ \\
\hline
\end{tabular}
\end{table}
看起来，尽管我们不能定义$f(x)$在零点处的值，但是我们知道，当$x$趋近于$0$时，$f(x)$趋近于$1$. 因此，我们说$\lim_{x\to0}\frac{sin(x)}{x}=1$
\end{example}

\begin{example}{}
\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/089eecead76d5e6b.png}
\caption{$f(x)=\frac{1}{x}$的图像 (x>0)} \label{fig_FunLim_2}
\end{figure}
然后，我们再看看$f(x)=\frac{1}{x}$另一经典函数的图像。我们还是知道，两个正数的商始终大于零；但当$x$\textsl{足够大}时，$\frac{1}{x}$会\textsl{足够小}以至趋于$0$. 因此，我们说$\lim_{x\to+\infty}\frac{1}{x}=0$。
\end{example}

\subsection{自变量趋于无穷的极限}
实函数 $f(x)$ 可以看成是一种 “连续” 的数列， 只不过把元素编号从离散的 $n$ 改为连续的 $x$。 类比数列的极限， 我们也可以定义\textbf{函数趋于正无穷的极限}。

\begin{definition}{函数趋于正无穷的极限}\label{def_FunLim_1}
考虑实函数 $f(x)$。 若无论要求 $f(x)$ 和一确定实数 $A$ 的距离 $\epsilon$ 有多小（但 $\epsilon>0$）， 都存在 实数 $X$ ，使得所有 $x>X$ 都满足 $\abs{f(x)-A}<\epsilon$， 那么我们说 $A$ 是函数 $f(x)$ 在 $x$ 趋于正无穷时的极限， 记为
\begin{equation}
\lim\limits_{x\to +\infty} f(x) = A~.
\end{equation}
\end{definition}

可以看到该定义和数列极限的定义（\autoref{def_Lim0_2}~\upref{Lim0}）非常相似， 只是简单做了替换。不过，函数并不是简单地把数列的概念拓展到连续的情况。 数列的编号只能朝着一个方向增大， 但函数的自变量 $x$ 既可以趋近正无穷也可以奔向负无穷， 

%\addTODO{画图， 画出函数曲线， 距离要求就是两条直线之间的范围， 等等}
\begin{figure}[ht]
\centering
\includegraphics[width=12cm]{./figures/0e045b4dd308915e.pdf}
\caption{对于任意一个$\epsilon$，都存在对应的$X$。仿自\cite{Thomas}} \label{fig_FunLim_5}
\end{figure}

\begin{exercise}{}
请仿照\autoref{def_FunLim_1} 给出函数趋于负无穷时极限的定义
\begin{equation}
\lim\limits_{x\to -\infty} f(x) = A~.
\end{equation}
\end{exercise}

\subsection{自变量趋于一点的的极限}
另外， 由于 $x$ 是连续取值的， 也可以考察自变量 $x$ 不断趋近某一点 $x_0$ 的极限， 即 $x\to x_0$。如何描述 “自变量趋于一个给定的实数 $x_0$” 呢？ 只需要取自变量 $x$ 使得二者间的距离 $\abs{x-x_0}$ 越来越接近 $0$ 即可。

\begin{definition}{函数在某点的极限}\label{def_FunLim_3}
考虑实函数 $f(x)$。 若无论要求 $f(x)$ 和确定实数 $A$ 的距离 $\epsilon>0$ 有多小， 都存在一个自变量的取值半径 $\delta>0$，使得对任意满足 $\abs{x-x_0} < \delta$的实数$x$，都有 $\abs{f(x)-A}<\epsilon$，
% 能通过不等式 $\abs{x-x_0} < \delta$ （$\delta$ 是一确定实数）使要求成立， 
那么我们说 $A$ 是函数 $f(x)$ 在 $x$ 趋于 $x_0$ 时的极限， 记为
\begin{equation}
\lim\limits_{x\to x_0}f(x)=A~.
\end{equation}
\end{definition}

\begin{figure}[ht]
\centering
\includegraphics[width=12cm]{./figures/63de5f309b49cf12.pdf}
\caption{对于任意一个$\epsilon$，都存在对应的$\delta$.仿自\cite{Thomas}} \label{fig_FunLim_8}
\end{figure}

\begin{example}{简单技巧}
求一些简单的函数在某个值处的极限时， 通常可以直接代入数值计算（如果存在的话）， 如
\begin{equation}
\lim_{x\to 1} 2x + 1 = 3 ~,\qquad \lim_{x\to 2}\frac{x + 1}{x + 2} = \frac34~.
\end{equation}

当无穷大与常数相加时， 可以忽略常数， 如
\begin{equation}
\lim_{x\to +\infty} \frac{x + 1}{2x + 2} = \lim_{x\to +\infty} \frac{x}{2x} = \frac12~.
\end{equation}

如果你想要处理更复杂的极限问题，那你可以参考求极限的一些方法\upref{ChaLim}。不过，其中部分方法已经超出了初学者的（以及“简明微积分”所意图介绍的）知识范围。
\end{example}

\subsubsection{左、右极限}
我们还可以区分函数在某点的\textbf{左极限（left limit）}和\textbf{右极限（right limit）}。 简而言之就是 $x$ 分别从左边和右边两个方向趋近 $x_0$ 时的极限， 具体定义留做思考。 左右极限记为
\begin{equation}
\lim_{x\to x_0^-} f(x) = A_- ~,\qquad \lim_{x\to x_0^+} f(x) = A_+~.
\end{equation}

\begin{theorem}{}
函数在某点存在极限的充分必要条件是它左右极限都存在并相等。
$$\lim_{x\to x_0} f(x) = A \Leftrightarrow \lim_{x\to x_0^-} f(x) = \lim_{x\to x_0^+} f(x) = A ~.$$

也就是说，若左（或右）极限不存在，或者左右极限存在但不相等，那此处的极限就不存在。
\end{theorem}

\begin{example}{}
\begin{figure}[ht]
\centering
\includegraphics[width=8cm]{./figures/17fd59550e160143.pdf}
\caption{函数$\theta(x)$的图像} \label{fig_FunLim_3}
\end{figure}
函数
\begin{equation}
\theta(x) = \leftgroup{
0 \qquad (x < 0)\\
1 \qquad (x \ge 0)
}~.\end{equation}

计算左极限$\lim_{x\to x_0^-} \theta(x)$时，假定x从左侧不断接近$0$($x=-0.1,x=-0.01,...$)，但从不超过（也不等于）$0$。此时总有$x<0$，因此$\lim_{x\to x_0^-} \theta(x) = 0$. 

同理，$\lim_{x\to x_0^+} \theta(x) = 1~.$

由于左右极限不相同，因此$\theta(x)$在$x=0$处的\textsl{极限}不存在。
\end{example}

\subsubsection{某点处函数的极限值与函数值}
新手最常犯的错误莫过于\textsl{过度纠结}某处的函数极限值$\lim_{x\to x_0} f(x)$与函数值$f(x_0)$的联系。事实上，这两者之间没有\textsl{必要的关联}\footnote{对于连续函数，才有$\lim_{x\to x_0} f(x)=f(x_0)$。然而，大多数常见的函数都是连续函数，这使得这个问题更具迷惑性}。$f(x_0)$可以不等于$\lim_{x\to x_0} f(x)$，$f(x)$甚至可以在$x_0$处没有定义。总之，某处的函数极限值并不依赖于该点处的函数值。

这是因为定义中只考虑 $x$ 慢慢接近 $x_0$ 的过程， 而不考虑 $x = x_0$ 的情况。 即使我们把这点从函数定义域中挖去， 极限是否存在， 以及极限值是多少都不会被改变。 例如在\autoref{ex_FunLim_1} 与在 “\enref{小角极限}{LimArc}” 中会看到， 虽然 $\sin x/ x$ 在 $x = 0$ 处没有定义， 但其极限却等于 $1$。

\begin{example}{可去间断点}
\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/0953dfc9743819e5.png}
\caption{函数f(x)的图像} \label{fig_FunLim_4}
\end{figure}
函数
\begin{equation}
f(x) = \leftgroup{
x \qquad (x \ne 1)\\
1.5 \qquad (x = 1)
}~.\end{equation}
计算$\lim_{x\to 1} f(x)$时，由于只考虑$x=1$附近的情况、而不考虑$x=1$本身的情况，因此$\lim_{x\to 1} f(x)$的结果与$f(1)$的值无关。在本例中，$\lim_{x\to 1} f(x)=1$, 而$f(1)=1.5$。
\end{example}

\subsection{极限的基本性质与运算法则}
下面列出一些函数极限的定理， 从直觉上来看它们是显然的， 证明略， 感兴趣的读者可以尝试自己证。
\begin{theorem}{极限的四则运算}
若两个函数分别存在极限 $\lim_{x\to a} f(x)$ 和 $\lim_{x\to a} g(x)$ （$a$ 可取 $\pm \infty$）， 那么有
\begin{equation}
\lim_{x\to a} [f(x) \pm g(x)] = \lim_{x\to a}f(x) \pm  \lim_{x\to a} g(x)~,
\end{equation}
\begin{equation}
\lim_{x\to a} [f(x) g(x)] = \lim_{x\to a}f(x) \lim_{x\to a} g(x)~,
\end{equation}
\begin{equation}
\lim_{x\to a} [f(x)/g(x)] = \lim_{x\to a}f(x)/\lim_{x\to a} g(x) \qquad (\lim_{x\to a} g(x) \ne 0)~.
\end{equation}
注意，可以四则运算的前提是参与运算的各个极限均存在。
\end{theorem}

\begin{theorem}{局部保号性、保序性}
%我对着我的笔记写的，定理的表述可能有一点不严谨；不过对于“入门”启发，应该是够了（
局部保号性：
\begin{equation}
\lim_{x\to x_0}f(x)=A>0\Rightarrow \exists \mathring{U} (x_0), \forall x \in U(x_0), f(x)>0~.
\end{equation}

局部保序性：
\begin{equation}
\lim_{x\to x_0}f(x)=A>0 \Rightarrow \exists \mathring{U} (x_0), \forall x \in U(x_0), f(x)>A/2~.
\end{equation}

$\mathring{U} (x_0)$指$x_0$附近的一个小区间，但不包括$x_0$自身，也称去心区间。\footnote{“去心”这个词让我想到“比干挖心”的传说故事}

这是一组简单的、但却\textsl{有点难以理解}的结论。在处理一些刁钻的问题时，局部保号、保序性偶尔会派上用场。通俗地说，这意味着若$\lim_{x\to x_0}f(x)=A$，则$x$在$x_0$附近时，$f(x)$的函数值也会收缩到$A$附近。

\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/94672fbdd10053ba.pdf}
\caption{在$(x_0-\delta, x_0+\delta)$区间内，$f(x)>0$. 仿自\cite{Thomas}} \label{fig_FunLim_9}
\end{figure}
局部保号性的一个幼稚“证明”：如\autoref{fig_FunLim_9} 所示（其实就是\autoref{fig_FunLim_8} ），我们总能取一个$\varepsilon_1 \in (0,A)$，极限的定义保证了我们总能找到对应的$\delta_1$。显然，在$(x_0-\delta_1, x_0+\delta_1)$这个小去心区间\footnote{严格来说，或许应该写为$(x_0-\delta_1,x_0)\cup(x_0, x_0+\delta_1)$，不过在正文中这么写实在太繁琐了，也不利于把握重点}(即$\mathring{U} ({x_0})$)内，有$f(x)>0$。

同理，将选取$\varepsilon$的区间改为$(0,A/2)$，我们就能找到相应的、使$f(x)>A/2$的区间，即说明了局部保序性。原则上，由此可导出更广义的局部保序性，即总存在$f(x)>A/3,A/4,A/5,...$的区间。

\end{theorem}
