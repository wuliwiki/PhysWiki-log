% 积分表
% keys 微积分|积分|不定积分|积分表
% license Xiao
% type Tutor

% 同济高数上面的积分例题拿一些典型的来演示积分方法就好了！另外就是书中出现的积分！ 其他的积分一律不要给出！
% 数学从简！不要浪费时间！
% 然而书中的任何积分一律要引用积分表！要么就说明 Wolfram

\pentry{不定积分\nref{nod_Int}}{nod_6b8f}

这里给出一个基本积分表和一个常用积分表，前者建议熟记。部分积分有的给出计算步骤，没有给出则是由基本初等函数的导数\upref{FunDer} 直接逆向得出。所有的不定积分公式都可以通过求导验证。

应用换元积分法\upref{IntCV}， 表中任何积分都可以拓展为
\begin{equation}\label{eq_ITable_1}
\int f(ax+b) \dd{x} = \frac1a F(ax+b) + C~.
\end{equation}
\subsection{基本积分表}
\begin{equation}\label{eq_ITable_2}
\int x^a \dd{x}  = \frac{1}{a + 1} x^{a + 1} + C \quad(a \in R, a \ne  - 1)~.
\end{equation}
\begin{equation}\label{eq_ITable_10}
\int \frac{1}{x} \dd{x} = \ln\abs{x} + C \quad\text{（\autoref{ex_ITable_11}）}~.
\end{equation}
\begin{equation}\label{eq_ITable_4}
\int \cos x \dd{x} = \sin x + C ~.
\end{equation}
\begin{equation}
\int \sin x \dd{x} =  - \cos x + C~.
\end{equation}
\begin{equation}
\int \tan x \dd{x} =  -\ln\abs{\cos x} + C \quad\text{（\autoref{ex_ITable_2}）}~.
\end{equation}
\begin{equation}
\int \cot x \dd{x} = \ln \abs{\sin x} + C \quad\text{（\autoref{ex_ITable_7}）}~.
\end{equation}
\begin{equation}
\int \frac{1}{\cos^2 x} \dd{x} = \tan x + C~.
\end{equation}
\begin{equation}
\int \frac{1}{1 + x^2} \dd{x} = \arctan x + C~.
\end{equation}
\begin{equation}\label{eq_ITable_9}
\int \E^x \dd{x} = \E^x + C~.
\end{equation}
\begin{equation}
\int x{\E^x} \dd{x} =\E^x (x-1) + C \quad\text{（\autoref{ex_ITable_5}）}~.
\end{equation}
\begin{equation}
\int a^x \dd{x} = \frac{1}{\ln a} a^x + C \quad\text{（\autoref{ex_ITable_1}）}~.
\end{equation}

\subsection{常用积分表}
\begin{equation}\label{eq_ITable_13}
\int \sin^2 x \dd{x} = \frac12 (x - \sin x\cos x) + C \quad\text{（\autoref{ex_ITable_3}）}~.
\end{equation}
\begin{equation}
\int \cos^2 x \dd{x} = \frac12 (x + \sin x \cos x) + C \quad\text{（\autoref{ex_ITable_4}）}~.
\end{equation}
\begin{equation}
\int \sec x \dd{x} = \ln\abs{\tan x + \sec x} + C \quad\text{（\autoref{ex_ITable_10}）}~.
\end{equation}
\begin{equation}
\int \ln x \dd{x} = x\ln x - x + C \quad\text{（\autoref{ex_ITable_6}）}~.
\end{equation}
\begin{equation}
\int \sqrt{a^2 - x^2}\dd{x} = \frac12 \qty(x\sqrt{a^2 - x^2} + a^2\arcsin\frac xa) + C \label{eq_ITable_14}\quad\text{（\autoref{ex_ITable_12}）}~.
\end{equation}
\begin{equation}
\int \frac{1}{\sqrt{1-x^2}} \dd{x} = \arcsin(x) + C \quad\text{（\autoref{ex_ITable_8}）}~.
\end{equation}
\begin{equation}
\int \frac{1}{\sqrt{1+x^2}} \dd{x} = \ln(x+\sqrt{1+x^2}) + C = \sinh^{-1} x + C \quad\text{（\autoref{ex_ITable_9}）}~.
\end{equation}

\subsection{定积分}
\begin{equation}
\int_0^{\pi/2} \cos^{n}\theta \dd{\theta}
= \frac{\sqrt{\pi}}{2} \frac{\Gamma(n/2+1/2)}{\Gamma(n/2+1)}~,
\end{equation}
其中 $n$ 是满足 $\Re[n] > -1$ 的任意复数\footnote{结果来自 Wolfram Alpha}。

\begin{example}{}\label{ex_ITable_1}
\begin{equation}
\int a^x \dd{x}~.
\end{equation}
我们已经知道如何算 $\E^x$ 的积分， 而 $a = \E ^{\ln a}$， 再根据\autoref{eq_ITable_1} 就有
\begin{equation}
\int \E^{\ln (a) x} \dd{x} = \frac{1}{\ln a}\E^{\ln (a) x} + C = \frac{1}{\ln a}a^x + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_2}
\begin{equation}
\int \tan x \dd{x}~.
\end{equation}
这个积分用第一类换元积分法（\autoref{eq_IntCV_2}~\upref{IntCV}）
\begin{equation}
\int f[u(x)]u'(x) \dd{x}  = F[u(x)] + C~.
\end{equation}
首先 $\tan x = \sin x/ \cos x$ ， 令 $u(x) = \cos x$， 则 $\sin x = -u'(x)$， 对比得 $f(x) = -1/x$ 其原函数为 $F(x) = -\ln\abs{x}$， 所以
\begin{equation}
\int \tan x \dd{x} = \int f[u(x)] u'(x) \dd{x} = F[u(x)] + C = -\ln\abs{\cos x} + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_7}
类似\autoref{ex_ITable_2}， $\cot x = \cos x/\sin x$， 令 $u(x) = \sin x$， 则 $\cos x = u'(x)$， 对比得 $f(x) = 1/x$， 原函数为 $F(x) = \ln\abs{x}$ （\autoref{eq_ITable_10}） ， 所以
\begin{equation}
\int \cot x \dd{x} = F[u(x)] + C = \ln\abs{\sin x} + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_3}
\begin{equation}
\int \sin^2 x  \dd{x}~.
\end{equation}
用降幂公式（\autoref{eq_TriEqv_5}~\upref{TriEqv}） 和不定积分的线性（\autoref{eq_Int_4}~\upref{Int}） 把上式变为常数的积分和 $\cos 2x$ 的积分， 再利用\autoref{eq_ITable_4} 和\autoref{eq_ITable_1} 计算后者即可
\begin{equation}\ali{
\int \sin^2 x \dd{x} &=  \int \frac12 \dd{x} - \frac12\int \cos 2x \dd{x} \\
&=  \frac{x}{2} - \frac14\sin(2x) = \frac12 (x - \sin x \cos x) + C~.
}\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_4}
\begin{equation}
\int \cos^2 x \dd{x}~.
\end{equation}
与\autoref{ex_ITable_3} 类似， 用三角恒等式 $\cos^2(x) =  [1 + \cos(2x)]/2$ 得
\begin{equation}\ali{
\int \cos^2 x \dd{x} &=  \int \frac12 \dd{x} + \frac12\int \cos(2x) \dd{x} \\
&=  \frac{x}{2} + \frac14\sin(2x) = \frac12 (x + \sin x \cos x) + C~.
}\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_11}
\begin{equation}
\int \frac1x \dd{x}~.
\end{equation}
首先在区间 $(0,+\infty)$ 内， 由于 $\ln x$ 的导数是 $1/x$， 所以积分结果为 $\ln x + C$。 现在再来考虑区间 $(-\infty, 0)$， 注意 $\ln x$ 在这里没有定义， 不妨看看 $\ln(-x)$， 由复合函数求导% 未完成
， 其导数恰好为 $1/x$。 所以在除去原点的实数范围内， 有
\begin{equation}
\int \frac1x \dd{x} = \ln\abs{x} + C~.
\end{equation}
事实上， 由于 $1/x$ 在 $x=0$ 没有定义， 更广义的原函数可以取
\begin{equation}
\int \frac1x \dd{x} =
\begin{cases}
\ln x + C_1 & (x > 0)\\
\ln (-x) + C_2 & (x < 0)
\end{cases}~.
\end{equation}
其中 $C_1$ 和 $C_2$ 是两个不相同的待定常数。
\end{example}

\begin{example}{}\label{ex_ITable_5}
\begin{equation}
\int x\E^x \dd{x}~.
\end{equation}
使用用分部积分\autoref{eq_IntBP_1}~\upref{IntBP}
\begin{equation}
\int F(x)g(x) \dd{x}  = F(x)G(x) - \int f(x)G(x) \dd{x}~.
\end{equation}
令 $F(x) = x$， 求导得 $f(x) = 1$， 令 $g(x) = \E^x$， 由\autoref{eq_ITable_9}， $G(x) = \E^x$。 代入分部积分得
\begin{equation}
\int x\E^x \dd{x} = x\E^x - \int 1\cdot \E^x \dd{x} = \E^x(x - 1) + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_6}
\begin{equation}
\int \ln x \dd{x}~.
\end{equation}
\textbf{方法一：} 使用第二类换元法\autoref{eq_IntCV_6}~\upref{IntCV}
\begin{equation}
\int f(x) \dd{x} = \int f[x(t)] \dd{[x(t)]} = \int f[x(t)]x'(t) \dd{t}~.
\end{equation}
令\footnote{注意被积函数只在 $x>0$ 区间有定义， 否则使用 $x = \E^t$ 将会自动忽略 $x\leqslant 0$ 的情况。} $x = \E^t$， 求导得 $x'(t) = \E^t$， 换元得
\begin{equation}
\int \ln x \dd{x} = \int \ln(\E^t) \E^t  \dd{t} = \int t \E^t  \dd{t}~.
\end{equation}
由\autoref{ex_ITable_5} 中的分部积分得
\begin{equation}
\int \ln x \dd{x} = \E^t (t-1) + C = \E^{\ln x} (\ln x -1) + C = x (\ln x-1) + C~.
\end{equation}
\textbf{方法二：} 直接使用分部积分法\autoref{eq_IntBP_1}~\upref{IntBP}， 对常数 1 积分， 对 $\ln x$ 求导， 得
\begin{equation}
\int \ln x \dd{x} = x\ln x - \int x\cdot \frac1x \dd{x} = x\ln x - x + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_12}
\begin{equation}
\int \sqrt{a^2 - x^2} \dd{x}~.
\end{equation}
使用第二类换元法\autoref{eq_IntCV_6}~\upref{IntCV}， 令 $x = a\sin t$ 得
\begin{equation}
\int a\cos t \dd(a\sin t) = a^2 \int \cos^2 t \dd{t}~.
\end{equation}
将\autoref{ex_ITable_4} 的结论代入得 $a^2(t + \sin t\cos t) + C$， 再将 $t = \arcsin(x/a)$ 代入得
\begin{equation}
\int \sqrt{a^2 - x^2}\dd{x} = \frac12 \qty(x\sqrt{a^2 - x^2} + a^2\arcsin\frac{x}{a}) + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_8}
\begin{equation}
\int \frac{1}{\sqrt{1-x^2}} \dd{x} ~.
\end{equation}
使用第二类换元法\autoref{eq_IntCV_6}~\upref{IntCV}， 令 $x = \sin t$ 得
\begin{equation}
\int \frac{1}{\sqrt{1-\sin^2 t}} \dd(\sin t) = \int \dd{t} = t + C = \arcsin x + C~.
\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_10}
\begin{equation}
\int \sec x \dd{x}~.
\end{equation}
分子分母同时乘以 $\sec x + \tan x$， 可以发现分子是分母的导数。 再用第一类换元积分法（\autoref{eq_IntCV_2}~\upref{IntCV}） ， 令 $u(x) = \sec x + \tan x$， 再使用\autoref{eq_ITable_10} 即可
\begin{equation}\ali{
\int \sec x \dd{x} &= \int \frac{\sec^2 x + \sec x\tan x}{\sec x + \tan x} \dd{x} = \int \frac{u'(x)}{u} \dd{x} = \int \frac1u \dd{u} \\
&= \ln\abs{u}+C = \ln\abs{\sec x + \tan x}+C~.
}\end{equation}
\end{example}

\begin{example}{}\label{ex_ITable_9}
\begin{equation}
\int \frac{1}{\sqrt{1+x^2}} \dd{x}~.
\end{equation}
使用第二类换元法\autoref{eq_IntCV_6}~\upref{IntCV}， 令 $x = \tan t$， 再利用“三角恒等式\upref{TriEqv}” 的\autoref{eq_TriEqv_13} 和\autoref{eq_ITable_10} 得
\begin{equation}
\int \frac{1}{\sqrt{1+\tan^2 t}} \dd(\tan t) = \int \frac{1}{\sec t} \sec^2 t\dd{t}
 = \ln\abs{\tan t + \sec t} + C~.
\end{equation}
由同一三角恒等式， $\sec t = \sqrt{1+\tan^2 t} = \sqrt{1+x^2}$， 所以
\begin{equation}
\int \frac{1}{\sqrt{1+x^2}} \dd{x} = \ln(x + \sqrt{1+x^2}) + C~.
\end{equation}
注意上式中 $\ln$ 后面的绝对值符号消失是因为 $x + \sqrt{1+x^2}\geqslant 0 $ 恒成立。 另外由“双曲函数\upref{TrigH}”中\autoref{ex_TrigH_1} 可知上式又等于 $\sinh^{-1} x + C$。
\end{example}
