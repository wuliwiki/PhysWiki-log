% Python 基本数据类型与转换
% keys Python|列表|元组|list|tuple|字典|dictionary

\pentry{Python 基本变量类型\upref{PyType}}

下面介绍 Python 中一些常用数据类型。 

\subsection{range}
\verb|range| 类型表示一个等间隔的整数数列， 但它并不是一个数组。 一个 \verb|range| 对象只需要包含三个整数： 起始指标， 终止的下一个指标， 步长。 它可以用函数 \verb|range(起始指标，终止指标的下一个，步长)| 生成。 也可以用 \verb|range(终止指标的下一个)|。 可以用 \verb|len()| 判断其长度， 用 \verb|[i]| 获取其 “元素”。 该类型常用于 \verb|for| 循环中， 详见 “Python 判断与循环\upref{PyIfFr}”。

\subsection{列表（list）}
List （列表） 是 Python 中使用最常用的的数据类型之一。列表中元素的类型可以是互不相同的任意类型（包括列表本身）。列表是写在方括号 \verb|[]| 之间、用逗号分隔开的元素列表。
\begin{lstlisting}[language=python]
list1 = [1,2,3,4]
list2 = ['a','b',1,3]
print (list1)            # 输出完整列表
print (list1[0])         # 输出列表第一个元素
print (list2[1:3])       # 从第二个开始输出到第三个元素
print (list2[2:])        # 输出从第三个元素开始的所有元素
print (list2 * 2)        # 输出两次列表
\end{lstlisting}
输出为：
\begin{lstlisting}[language=python]
[1, 2, 3, 4]
1
['b', 1]
[1, 3]
['a', 'b', 1, 3, 'a', 'b', 1, 3]
\end{lstlisting}
\begin{itemize}
\item 用 \verb|list1.append(...)| 在列表最后插入一个或多个元素。
\item 用 \verb|list1.pop()| 删除并输出最后一个元素。
\item 用 \verb|list1.insert(ind, val)| 在列表指定位置插入一个元素。
\item 用 \verb|list1.reverse()| 翻转元素顺序。
\item 用 \verb|list1.sort()| 排序
\item 用 \verb|list1.index(val)| 找到某个元素第一次出现的位置（如果不存在则报错）。
\end{itemize}

\subsubsection{索引}
\begin{itemize}
\item 列表 \verb|a| 可以用 \verb|a[i]| 获取单个元素（从 0 开始）， 也可以 \verb|a[i:j]| 获取 \verb|a[i]| 到 \verb|a[j-1]| 个元素的 list。 或者 \verb|a[i:j:step]| 获取 \verb|a[i], a[i+step], ...| 一直到 \verb|a[j]| 之前的最后一个元素。 
\item \verb|a[-1]| 获取最后一个元素， 但注意 \verb|a[i:-1]| 获取 \verb|a[i]| 到倒数第二个元素， 而 \verb|a[i:]| 才包括最后一个元素。 同理， 也有 \verb|a[:j]| （相当于 \verb|a[0:j]|）和 \verb|a[::step]|。 甚至全部元素 \verb|a[:]|。
\end{itemize}


\subsection{集合（Set）}
\begin{itemize}
\item \verb|s = {"apple", 2, 3.5}|， 类型是 \verb|set|。 
\item \verb|s = set(list或tuple)| 可以把 list 或者 tuple 转换为 set
\item \verb|s.add(key)| 添加一个元素， \verb|s.remove(key)| 删除一个元素。
\item \verb|set| 是没有顺序的， 不能用 \verb|[i]|。 循环可以用 \verb|for key in s:|
\end{itemize}


\subsection{元组（tuple）}
元组（tuple）与列表类似，不同之处在于元组的元素\textbf{不能修改}。元组写在小括号 \verb|()| 里，元素之间用逗号隔开。元组中的元素类型也可以不相同：
\begin{lstlisting}[language=python]
tup1 = (1,2,3,4)
tup2 = ('a','b',1,3)
print(tup1)            # 输出完整元组
print(tup1[0])         # 输出元组第一个元素
print(tup2[1:3])       # 从第二个开始输出到第三个元素
print(tup2[2:])        # 输出从第三个元素开始的所有元素
print(tup2 * 2)
(a,b,c)=(1,2,3) # 逐个元素赋值（也可用于函数多个输出）
a,b,c=1,2,3 # 省略括号
\end{lstlisting}
输出
\begin{lstlisting}[language=python]
(1, 2, 3, 4)
1
('b', 1)
(1, 3)
('a', 'b', 1, 3, 'a', 'b', 1, 3)
\end{lstlisting}

\subsection{字典（dictionary）}
字典（类型：\verb|dict|）是无序的对象集合。字典当中的元素是通过\textbf{键（key）}来存取的，用 \verb|{}| 标识，它是一个无序的 \verb|key:value| 的集合， \verb|key| 和 \verb|value| 分别译成\textbf{键}和\textbf{值}。 \verb|key| 必须使用不可变类型。 在同一个字典中， \verb|key| 必须是\textbf{唯一}的。例如统计一个班学生的成绩可以使用字典表示。
\begin{lstlisting}[language=python]
scores = {'语文': 89, '数学': 92, '英语': 93}
print(scores['语文'])
\end{lstlisting}
输出： \verb|89|。

\begin{itemize}
\item \verb|dic[key]| 可以得到对应的值， 如果 \verb|key| 不存在则报错。
\item \verb|dic[key] = val| 可以改变已有 key 的值， 或者增加新的 \verb|key:val| 对
\end{itemize}
