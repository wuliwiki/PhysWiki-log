% 用 Matlab 生成 mp4 视频
% license Xiao
% type Tutor

\begin{issues}
\issueDraft
\end{issues}

\pentry{Matlab 画图\nref{nod_MatPlt}}{nod_bc6d}

参考\href{https://www.mathworks.com/help/matlab/ref/videowriter.html}{相关文档}。

\begin{figure}[ht]
\centering
\includegraphics[width=10cm]{./figures/d5a1723d694486e3.png}
\caption{例程中的视频截图} \label{fig_MatMp4_1}
\end{figure}


给出一个例程， MP4 格式的相关设置只有 \verb`FrameRate` 和 \verb`Quality` 两个。
\begin{lstlisting}[language=matlab, caption=mp4\_demo.m]
% 写 mp4 视频
v = VideoWriter('peaks', 'MPEG-4');
v.FrameRate = 10; % 默认 30
v.Quality = 100; % 默认 75
open(v);
for k = 1:60 
   surf(sin(2*pi*k/20)*Z,Z)
   frame = getframe(gcf);
   writeVideo(v,frame);
end
close(v);
\end{lstlisting}
