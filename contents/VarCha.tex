% 变分的变换（变分学）
% keys 拉格朗日变换|黎曼变换
% license Xiao
% type Tutor

\pentry{变分\upref{Varia}}
在变分\upref{Varia}一节中，我们得到泛函 
\begin{equation}
J(y)=\int_a^bF(x,y,y')\dd x~.
\end{equation}
变分的表达式\autoref{eq_Varia_5}~\upref{Varia}，即
\begin{equation}\label{eq_VarCha_1}
\delta J=\int_a^b\qty[F'_y(x,y,y')\delta y+F'_{y'}(x,y,y')\delta y']\dd x~.
\end{equation}
利用分部积分\autoref{eq_IntBP_1}~\upref{IntBP}，可以将上式积分号下只表达为 $\delta y$ （\textbf{拉格朗日变换}）或 $\delta y'$ （\textbf{黎曼变换}）的线性函数\autoref{def_LinMap_1}~\upref{LinMap}。这就是这里说的\textbf{变分的变换}.

若在点 $a$ 及 $b$ 上，$\delta y=0$，那么：
\begin{enumerate}
\item \textbf{拉格朗日变换：}
\begin{equation}\label{eq_VarCha_3}
\delta J=\int_a^b\qty(F'_y-\dv{}{x}F'_{y'})\delta y\dd x~.
\end{equation}
\item \textbf{黎曼变换：}
\begin{equation}\label{eq_VarCha_4}
\delta J=\int_a^b\qty(F'_{y'}-N)\delta y'\dd x ,\quad where \;N=\int_a^xF'_y\dd x~.
\end{equation}
\end{enumerate}


注意，在引出\autoref{eq_VarCha_1} 时，仅假定 $y(x)$ 是 $C_1$ 类的，即 $y(x)$ 具有连续微商 $y'(x)$, 而没有假定 $y'(x)$ 可微分。这将使我们看到，拉格朗日变换是不合法的，取而代之的将是黎曼变换。 

\subsection{证明}
\subsubsection{拉格朗日变换}
利用分部积分，有
\begin{equation}\label{eq_VarCha_2}
\int_a^bF'_{y'}\delta y'\dd x=\qty[F'_{y'}\delta y]_a^b-\int_a^b\delta y\dv{}{x}F'_{y'}\dd x~.
\end{equation}
这里使用了\autoref{eq_Varia_6}~\upref{Varia}
\begin{equation}\label{eq_VarCha_5}
\delta y'=\overline{y}'-y'=(\overline{y}-y)'=(\delta y)'~.
\end{equation}
当 $\delta y$ 在 $a,b$ 处为0时，\autoref{eq_VarCha_2} 第一项为0，代入\autoref{eq_VarCha_1} 即得\autoref{eq_VarCha_3} 。

\textbf{但是}，在进行分部积分\autoref{eq_VarCha_2} 时，必须要求，$\dv{}{x}F'_{y'}$ 存在，而 $F'_{y'}(x,y,y')$ 也是 $y'$ 的函数，这要求 $y'$ 对 $x$ 可微分，即 $y''$ 要存在。然而正如上面所提到的，这是没有假定的，即 $y''$ 不一定存在，所以拉格朗日变换不合法。
\subsubsection{黎曼变换}
为要去除 $y''$ 的存在的附加假设，黎曼提出另外的变分变换。
令 $N(x)=\int_a^xF'_y\dd x$，代入\autoref{eq_VarCha_1} ，得
\begin{equation}
\delta J=\int_a^b\qty[\dv{N}{x}\delta y+F'_{y'}\delta y']\dd x~,
\end{equation}
应用分部积分
\begin{equation}
\int_a^b\dv{N}{x}\delta y\dd x=\qty[N\delta y]_a^b-\int_a^bN\delta y'\dd x~.
\end{equation}
上式代入\autoref{eq_VarCha_1} ，并考虑在 $a,b$ 处 $\delta y=0$，即得\autoref{eq_VarCha_4} 。显然，这个变换不要求函数 $y(x)$ 的附加条件。
