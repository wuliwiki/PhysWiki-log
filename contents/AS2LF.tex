% 线性方程组的仿射解释
% keys 仿射线性函数|线性方程组|几何解释
% license Xiao
% type Tutor

\pentry{仿射集\nref{nod_AffSet}，线性方程组与增广矩阵\nref{nod_LinEq2}}{nod_ad9e}
在解释线性方程组的仿射几何意义前，先总结一下矩阵和矢量观点下的意义。

一般的线性方程组具有如下形式：
\begin{equation}\label{eq_AS2LF_1}
\leftgroup{
a_{1 1}x_1 + a_{1 2}x_2 + \dots + a_{1 n}x_n &= y_1, \\
a_{2 1}x_1 + a_{2 2}x_2 + \dots + a_{2 n}x_n &= y_2, \\
\vdots \\
a_{m 1}x_1 + a_{m 2}x_2 + \dots + a_{m n}x_n &= y_m~.}
\end{equation}
写成\textbf{矩阵形式}则为
\begin{equation}\label{eq_AS2LF_2}
\mat A \bvec x=\bvec y~.
\end{equation}
其中
\begin{equation}
\mat A=\begin{pmatrix}
a_{11} & a_{12} & \cdots & a_{1n}\\
a_{21} & a_{22} & \cdots & a_{2n}\\
\vdots & \vdots & \vdots & \vdots\\
a_{m1} & a_{m2} & \cdots & a_{mn}
\end{pmatrix}
,\quad \bvec x=\begin{pmatrix}
x_1\\x_2\\\vdots\\x_n
\end{pmatrix}
,\quad \bvec y=\begin{pmatrix}
y_1\\y_2\\\vdots\\y_n
\end{pmatrix}~.
\end{equation}
在\textbf{矢量观点}下，线性方程组\autoref{eq_AS2LF_1} 又可写为
\begin{equation}\label{eq_AS2LF_3}
\sum_{i=1}^n x_ia_i=y~.
\end{equation}
其中
\begin{equation}
a_i=(a_{1i},a_{2i},\cdots,a_{mi})^T,\quad y=(y_1,y_2,\cdots,y_m)^T~.
\end{equation}


在\textbf{矩阵观点}下，线性方程组\autoref{eq_AS2LF_2} 有解，当且仅当 $\mathrm{rank}\;\mat A=\mathrm{rank}\;(\mat A,\bvec y)$ 。这里， $(\mat A,\bvec y)$ 是在矩阵 $\mat A$ 后再添上一列 $\bvec y$ 构成的矩阵，即 $\mat A$ 的\textbf{增广矩阵}。$\mathrm{rank}\; \mat A$ 表 $\mat A$ 的秩。在有解的情况下，线性方程组的解构成的集合为 $X_s= X_0+x_1 $ ，其中 $X_0$ 为对应齐次方程组的通解，$x_1$ 是任一特解
% （\autoref{the_LinEq2_1}~\upref{LinEq2}）。
\addTODO{the_LinEq2_1}

在\textbf{矢量观点}下，线性方程组\autoref{eq_AS2LF_3} 有解，当且仅当矢量 $y$ 可被矢量组 $\{a_1,\cdots,a_n\}$ 线性表示；也可理解为 $y$ 在 $a_1,\cdots,a_n$ 生成的\enref{张成空间}{VecSpn}当中，即$y\in\langle a_1,\cdots,a_n\rangle$ 。

在以上解释中，并没有把线性方程组与通常观点下的几何对象（点线面）联系起来。当然，在矩阵理论和矢量空间里，还没有引入点的概念，要将线性方程组与几何对象联系起来，需要在仿射空间当中去完成。在此之前先说明几个必要的概念。
\subsection{仿射线性函数}
在仿射线性映射定义（\autoref{def_AfSp_2}~\upref{AfSp}）中，若 $\mathbb A'=\mathbb F$， $Df$ 是 $V$ 上的线性函数，则仿射线性映射称之为\textbf{仿射线性函数}。
\begin{definition}{仿射线性函数}
设 $(\mathbb A,V)$ 是域 $\mathbb {F}$ 上的仿射空间，称 $f:\mathbb A\rightarrow \mathbb F$ 是个\textbf{仿射线性函数}，如果
\begin{equation}
f(\dot p+v)=f(\dot p)+Df\cdot v\quad\forall \dot p\in\mathbb A,v\in V~.
\end{equation}
其中 $Df$ 是 $V$ 上的一个线性函数，称为 $f$ 的\textbf{线性部分}（或\textbf{微商}）。
\end{definition}
如此一来，线性部分为零的仿射线性函数对应\textbf{常值仿射线性函数}。
\begin{theorem}{}\label{the_AS2LF_1}
 $f:\mathbb A\rightarrow \mathbb F$ 是仿射线性函数，当且仅当在坐标系 $\{\dot o;e_1,\cdots,e_n\}$ 下，对 $\forall \dot p\in \mathbb A$，有
 \begin{equation}\label{eq_AS2LF_4}
 f(\dot p)=\sum_{i=1}^n\alpha_ix_i+\alpha_0~.
 \end{equation}
 其中 $\alpha_0=f(\dot o),\alpha_i=Df\cdot e_i$ ，$x_1,\cdots,x_n$ 是点 $\dot p$ 坐标。
\end{theorem}
\textbf{证明：}1. $\Rightarrow$
\begin{equation}
f(\dot p)=f(\dot o+\vec{op})=f(\dot o)+Df\cdot \vec{op}=\sum_{i=1}^n \alpha_i x_i+\alpha_0~.
\end{equation}


2. $\Leftarrow$

设 $v=\sum\limits_{i=1}^n v_ie_i$ ，于是由\autoref{the_AfSp_2}~\upref{AfSp} 第2条，$\dot p+v$ 的坐标为 $x_i+v_i,i=1,\cdots ,n$。由\autoref{eq_AS2LF_4} ，有
\begin{equation}
\begin{aligned}
f(\dot p+v)&=\sum_{i=1}^n\alpha_i(x_i+v_i)+\alpha_0=\qty(\sum_{i=1}^n\alpha_i x_i+\alpha_0)+\sum_{i=1}^n\alpha_i v_i\\
&=f(\dot p)+Df\cdot v~.
\end{aligned}
\end{equation}

\textbf{证毕！}
\subsection{线性方程组的仿射解释}
令
\begin{equation}\label{eq_AS2LF_7}
f_i(\dot p)=\sum_{j=1}a_{ij}x_j-y_i~.
\end{equation}
则线性方程组\autoref{eq_AS2LF_1} 可写为
\begin{equation}\label{eq_AS2LF_5}
f_i(\dot p)=0,\quad i=1,\cdots,m~.
\end{equation}

由\autoref{the_AS2LF_1} ，每个 $f_i(\dot p)$ 都是仿射线性函数。

设线性方程组有解，而 $x_1^0,\cdots,x_n^0$ 是它的一个解，并用它作为在坐标系 $\{\dot o;e_1,\cdots,e_n\}$ 下点 $\dot p_0$ 的坐标（因此 $f_i(\dot o)=-y_i$），并说点 $\dot p_0$ 本身是个\textbf{解}。

如此一来，\autoref{eq_AS2LF_5} 的其它解必形如 $\dot p=\dot p_0+x, x\in V$ 且
\begin{equation}\label{eq_AS2LF_6}
 Df_i \cdot x=0,\quad i=1,\cdots,m~,
\end{equation}
其中 $Df_i$ 是 $f_i$ 的线性部分。\autoref{eq_AS2LF_6} 的解，构成一维数为 $n-r$ 的子空间 $U\subset V$。$r$ 是线性函数组 $Df_1,\cdots,Df_m$ 的秩（\autoref{sub_LinEq_1}~\upref{LinEq}），$n=\dim V$。所以线性方程组解的集合就是 $n-r$ 维的平面 $\dot p_0+U$。

\begin{theorem}{}
设 $\mathbb A$ 是个 $n$ 维仿射空间，则 $\mathbb A$ 中所有坐标满足一秩为 $r$ 、有解的线性方程组的点构成一 $n-r$ 维的平面 $\Pi=\dot p_0+U$。且 $\mathbb A$ 的任一平面都可这样得到。
\end{theorem}
\textbf{证明：}定理后一部分由前面已得证明。现证明第二部分。

首先，任一 $n-r$ 维的矢量子空间 $U$ 就是一个秩为 $r$ 的形如\autoref{eq_AS2LF_5}  的线性方程组的解空间（链接）。

其次，$\dot p\in\Pi\Leftrightarrow\vec{p_0p}\in U$ 。若设 $\dot p_0,\dot p$ 坐标分别为 $x^0_1,\cdots,x^0_n$ 和 $x_1,\cdots,x_n$，则 $\vec{p_0p}=\sum_{j}(x_j-x^0_j)e_i$。那么方程组
\begin{equation}
\sum_{j=1}^n a_{ij}(x_j-x_j^0)=0,\quad i=1,\cdots m~.
\end{equation}
 满足条件。

 \textbf{证毕！}

由该定理，一个超平面相当于一个线性方程，于是秩为 $r$ 的线性方程组相当于 $r$ 个超平面，该方程组的解相当于这 $r$ 个超平面的交集，其给出一个 $n-r$ 维的平面 $\Pi$。
