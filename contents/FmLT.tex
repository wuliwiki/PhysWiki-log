% 素域
% keys 素域|费马小定理
% license Xiao
% type Tutor

\pentry{剩余类环\nref{nod_RRing}，整环\nref{nod_Domain}，域\nref{nod_field}}{nod_9723}

\subsection{素域}\label{sub_FmLT_1}

\begin{lemma}{}\label{lem_FmLT_1}
\enref{剩余类环}{RRing} $\mathbb Z_p$ 是个域（\autoref{def_field_4}），当且仅当 $p$ 是素数。
\end{lemma}

当 $p$ 为素数的时候，我们把 $\mathbb Z_p$ 称为\textbf{素域}（或者\textbf{质域}），记做 $\mathbb F_p$。

\textbf{证明：}
若 $p$ 不是素数，则由素数定义，存在整数 $1<r,s<p$, 使得 $rs=p$，于是 $\overline r\overline s=\overline p=\overline 0$（见\enref{同余性质2}{RRing}），这就是说 $\mathbb Z_p$ 中有零因子（\autoref{def_Domain_1}）$\overline r,\overline s$。由于域不可能有零因子，所以$p$ 非素数时 $\mathbb Z_p$ 不是域，由逆否命题的正确性，$\mathbb Z_p$ 是域则 $p$ 是素数。

其次，假设 $p$ 是素数，由于 $\mathbb Z_p$ 是有单位元的交换环（\autoref{the_RRing_1}），证明其是域只需证明其上非零元都有逆元。

任意 $s\not\equiv 0(p)$，当 $k=1,\cdots,p-1$ 时，有 $ks\not\equiv 0(p)$。事实上，设 $s\in\overline r, r\in{1,\cdots,p-1}$， 则$\overline k\overline s=\overline k\overline r$（见\enref{同余性质2}{RRing}），由于任一整数都可写成同一组两两不等的素数方幂的乘积，并考虑到 $k,r<p$, 那么：
\begin{equation}
k=p_1^{\alpha_1}p_2^{\alpha_2}\cdots p_n^{\alpha_n}p^0, \quad r=p_1^{\beta_1}p_2^{\beta_2}\cdots p_n^{\beta_n}p^0,\quad ks=p_1^{\alpha_1+\beta_1}p_2^{\alpha_2+\beta_2}\cdots p_n^{\alpha_n+\beta_n}p^0~,
\end{equation}
其中 $p_1,\cdots,p_n$ 是小于 $p$ 的素数，而
\begin{equation}
p=p_1^0p_2^0\cdots p_n^{0}p~.
\end{equation}
$p$ 整除 $kr$ 意味着 $p$ 是 $kr$ 的因数，这相当于 $kr$ 的素数分解式中包含数 $p$ 的分解式（相当于分解式中各素数因子幂次都要大于因数对应素数的幂次）。然而 $kr$ 的分解式中 $p$ 的幂次为0，这意味着 $p$ 不是 $kr$ 的因数，即 $ks\not\equiv 0(p)$ 。

考查元素 
\begin{equation}\label{eq_FmLT_1}
\overline s,\overline{2s},\cdots,\overline{(p-1)s}~,
\end{equation}
其中 $\overline s\not=\overline 0$ 由上面所述，它们都不为0。容易证得其中任意两元素都不相等，否则 $\overline{ks}=\overline{ls},\;k<l$，则 $\overline(l-k)=\overline 0$，这是不可能的。于是除了顺序之外，序列（\autoref{eq_FmLT_1}）和序列
\begin{equation}\label{eq_FmLT_2}
\overline 1,\overline 2,\cdots,\overline{p-1}~
\end{equation}
重合。注意元素个数相同意味着集合间存在双射，对于这里，映射
\begin{equation}
f:\overline{ns}\mapsto \overline n,\quad n\in\{1,\cdots,p-1\}~
\end{equation}
构成这样的双射，于是可以找到整数 $1\leq s'\leq p-1$，使得 $\overline{ss'}=\overline 1$，$\overline{s's}$ 由 $f^{-1}(\overline 1)$ 给出，即 $\overline{s'}$ 是 $\overline s$ 的逆元。于是 $\mathbb Z_p$ 是个域。

\textbf{证毕！}


\subsection{应用：费马小定理的证明}

\pentry{费马小定理与欧拉定理\nref{nod_fermse}}{nod_417b}

费马小定理是法国律师费马于1636年发现的，其由欧拉在1736年出版的名为“一些与素数有关的定理的证明”的论文集中第一次给出证明。其描述如下
\begin{theorem}{费马小定理}\label{the_FmLT_1}
若 $p$ 是素数，$m$ 是一个不能被 $p$ 整除的整数，则有同余式(\autoref{def_RRing_1} )
\begin{equation}\label{eq_FmLT_3}
m^{p-1}\equiv 1(p)~.
\end{equation}
\end{theorem}
翻译成自然语言，就是说若整数 $m$ 不能被素数 $p$ 整除，则 $p$ 除 $m^{p-1}$ 余数为1。

值得注意的是，费马小定理是更一般的欧拉定理（链接）的特殊情形。

\textbf{证明：}

由\autoref{sub_FmLT_1} 中的\autoref{eq_FmLT_1} 和\autoref{eq_FmLT_2} 集合的相等性知
\begin{equation}
\{\overline m,\overline{2m},\cdots,\overline{(p-1)m}\}=\{\overline 1,\overline 2,\cdots,\overline{p-1}\}~.
\end{equation}
两边全体元素相乘：
\begin{equation}
\qty(\Pi_{k=1}^{p-1}\overline k)\overline{m}^{p-1}=\Pi_{k=1}^{p-1}\overline k~.
\end{equation}
由\autoref{lem_FmLT_1}， $\mathbb Z_p$ 是个域，域是个无零因子环，其满足消去律（链接），于是乘积 $\Pi_{k=1}^{p-1}\overline k\neq\overline0$(由于每个 $\bar k\neq0$，如果该式不成立，意味着零因子的存在，而这是不可能的)可消去，得到
\begin{equation}
\overline m^{p-1}=\overline 1~.
\end{equation}
翻译成同余的语言，即得\autoref{eq_FmLT_3}。


\textbf{证毕！}

