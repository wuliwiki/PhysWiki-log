% Wilson 定理
% keys 威尔逊定理|Wilson 定理|Wilson定理
% license Usr
% type Tutor

\pentry{二次剩余\nref{nod_quares}，Legendre 符号（数论）\nref{nod_legnnt}}{nod_b94e}
\begin{theorem}{威尔逊定理}
\textbf{威尔逊定理（Wilson 定理）}指，对于一个素数 $p$ 有 $(p-1)! \equiv -1 \pmod p$。
\end{theorem}
\textbf{证明}：对于 $2$ 显然成立。否则对于奇素数 $p$，对 Legendre 符号中的\autoref{the_legnnt_1}~\upref{legnnt}取特例，当 $a=1$ 时，则将化为 $x^2 \equiv 1 \pmod p$，有解 $x = \pm 1$，从而 $1$ 是 $p$ 的一个二次剩余而 $\left(\frac 1p\right)=1$，得证！

利用 Wilson 定理与\autoref{the_legnnt_1}~\upref{legnnt}可以得到 Legendre 符号的计算方法。
\begin{theorem}{Legendre 符号的计算方法}\label{the_wilsth_1}
\begin{equation}
\left(\frac ap\right) \equiv a^{(p-1)/2} \pmod p ~.
\end{equation}
\end{theorem}
\textbf{证明}：由于\autoref{the_legnnt_1}~\upref{legnnt}：
\begin{equation}
(p-1)! \equiv -\left(\frac ap\right) a^{(p-1)/2} \pmod p ~,
\end{equation}
对等式两边同时乘以 Legendre 符号 $\left(\frac ap\right)$，利用 $\left(\frac ap\right)^2 = 1$ 得到
\begin{equation}
(p-1)!\left(\frac ap\right) \equiv - a^{(p-1)/2} \pmod p ~,
\end{equation}
而利用 Wilson 定理，$(p-1)! \equiv -1 \pmod p$，故
\begin{equation}
-\left(\frac ap\right) \equiv - a^{(p-1)/2} \pmod p ~,
\end{equation}
也就是
\begin{equation}
\left(\frac ap\right) \equiv a^{(p-1)/2} \pmod p ~.
\end{equation}
证毕！