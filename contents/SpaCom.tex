% 空间的完备化
% keys 完备化|度量空间
% license Xiao
% type Tutor
\pentry{度量空间的稠密性\nref{nod_MaDen}，柯西序列的等价\nref{nod_CauEq}}{nod_255a}
\cite{Ke1}有理数集构成的度量空间（度量为差的绝对值）是稠密的，但不是完备的，将有理数构成的度量空间完备化则得到实数集度量空间。类似的，在一般的度量空间中，就有这样的问题出现：若度量空间 $X$ 不完备，可否将它完备化？即可否在 $X$ 中加入一些点，而保留度量的定义，使得得到的新的度量空间是完备的。答案是肯定的，这由本节所谓的度量空间的完备化得到保证。

\subsection{完备化}
\begin{definition}{完备化}\label{def_SpaCom_1}
设 $X$ 是度量空间，$X^*$ 是完备度量空间。如果
\begin{enumerate}
\item $X$ 是空间 $X^*$ 的子空间；
\item $X$ 在 $X^*$ 中处处稠密（\autoref{def_MaDen_2}），即 $[X]=X^*$。
\end{enumerate}
则称 $X^*$ 为 $X$ 的\textbf{完备化}（completion）。
\end{definition}

\begin{theorem}{}
任一度量空间 $X$ 都有完备化，并且，在不区分使 $X$ 中的点保持等距的映射的意义下，这个完备化是唯一的。
\end{theorem}

\textbf{唯一性的证明：}
需要证明：若 $X_1$ 和 $X_2$ 是空间 $X$ 的两个完备化，那么存在空间 $X_1$ 和 $X_2$ 的一一映射 $\phi$，使得
\begin{enumerate}
\item 对一切 $x\in X$,$\phi(x)=x$;
\item 对任意 $x_1,y_1\in X_1$，成立 $d_1(x_1,y_1)=d_2(\phi(x_1),\phi(y_1))$，其中 $d_1,d_2$ 分别是 $X_1,X_2$ 的距离。
\end{enumerate}
映射 $\phi$ 可以如下构造： $\forall y_1\in X_1$。根据完备化的定义，存在 $X$ 中的点列 $\{x_n\}$，其收敛于 $y_1$。因为收敛点列是柯西序列（\autoref{the_cauchy_2}），且 $X_2$ 完备，因此存在 $X_2$ 中的点 $y_2$，使得 $\{x_n\}$ 收敛于 $y_2$。显然 $y_2$ 和选择收敛到 $y_1$ 的点列 $\{x_n\}$ 无关（因为收敛到同一点的不同柯西点列 $\{x_n\},\{x_n'\}$ 构成的点列 $\{y_n\}$（$y_{2n}=x_1,y_{2n+1}=x_n',n=0,1,\ldots$）仍是柯西点列，若 $\{x_n\},\{x_n'\}$ 在 $X_2$ 中收敛到不同点，则 $\{y_n\}$ 没有极限点，从而与 $X_2$ 完备相悖）。利用 $y_2:=\phi(y_1)$ 定义 $\phi$，则 $\phi$ 是一一的等距映射。

事实上，双射性由和 $y_1$ 对应的 $y_2$ 与收敛到 $y_1$ 的点列 $\{x_n\}$ 无关得到；而由距离的连续性\aref{\upref{ConIso}}{the_ConIso_1}，
\begin{equation}
\begin{aligned}
d_1(y,y')&=\lim_{n\rightarrow\infty} d_1(x_n,x'_n)\\
&=\lim_{n\rightarrow\infty} d(x_n,x'_n)\\
&=\lim_{n\rightarrow\infty} d_2(x_n,x'_n)\\
&=d_2(\phi(y),\phi(y')).
\end{aligned}~
\end{equation}

\textbf{证毕！}

\textbf{存在性的证明：}可以证明，由“柯西序列的等价”一节得到的 $X$ 的柯西系列集的商空间 $X^*$正好满足要求。事实上，由\autoref{the_CauEq_3}，$X\subset X^*$；由\autoref{the_CauEq_4}，$X$ 在 $X^*$ 中处处稠密。因此，只需证明 $X^*$ 是完备度量空间。

\autoref{the_CauEq_4} 中 \autoref{eq_CauEq_1} 表明，在 $X^*$ 中，由 $X$ 中的点所构成的任何柯西序列 $\{x_n\}$ 都收敛到 $X^*$ 中的某一点，即收敛到用这个序列本身所定义的点 $x^*\in X^*$。其次，因为 $X$ 在 $X^*$ 中稠密，所以对 $X^*$ 中的点构成的任一柯西序列 $\{x_n^*\}$，只需取 $X$ 中满足 $d(x_n,x_n^*)<1/n$ 的任何 $x_n$，则序列 $\{x_n\}$ 和 $\{x_n^*\}$ 等价。这样的序列 $\{x_n\}$ 在 $X$ 中也是柯西序列，事实上，对任一的 $\epsilon>0$及充分大的 $n,m$，有
\begin{equation}
d(x_n,x_m)<d(x_n,x_n^*)+d(x_n^*,x_m^*)+d(x_m^*,x_m)<\epsilon.~
\end{equation}
因此 $\{x_n\}$ 收敛于某一 $x^*\in X^*$，由等价性，$\{x_n^*\}$ 也收敛于 $x^*$。即任一 $R^*$ 的柯西序列都是收敛的。

\textbf{证毕！}